/*


 Regression.JS - Regression functions for javascript
 http://tom-alexander.github.com/regression-js/

 copyright(c) 2013 Tom Alexander
 Licensed under the MIT license.

*/
!function(k,f){"object"==typeof exports&&"object"==typeof module?module.exports=f():"function"==typeof define&&define.amd?define("G2",[],f):"object"==typeof exports?exports.G2=f():k.G2=f()}(this,function(){return function(k){function f(e){if(d[e])return d[e].exports;var g=d[e]={exports:{},id:e,loaded:!1};return k[e].call(g.exports,g,g.exports,f),g.loaded=!0,g.exports}var d={};return f.m=k,f.c=d,f.p="",f(0)}(function(k){for(var f in k)if(Object.prototype.hasOwnProperty.call(k,f))switch(typeof k[f]){case "function":break;case "object":k[f]=function(d){var e=d.slice(1),g=k[d[0]];return function(c,a,b){g.apply(this,[c,a,b].concat(e))}}(k[f]);break;default:k[f]=k[k[f]]}return k}([function(k,f,d){f={};f.Chart=d(264);f.Util=d(1);f.Global=d(6);f.Stat=d(30);f.Stat.map=d(155);f.Stat.tree=d(179);f.Stat.treemap=d(182);f.Scale=d(19);f.Shape=d(58);f.Frame=d(2);f.Theme=d(45);f.Canvas=d(11);f.Coord=d(71);f.Base=d(26);f.ColorCalculate=d(59);f.Plugin={};k.exports=f},function(k,f,d){f=d(225);k.exports=f},function(k,f,d){f=d(90);d(310);k.exports=f},function(k,f,d){f={Matrix3:d(161),Vector2:d(162),Vector3:d(163)};k.exports=f},function(k,f,d){f=d(160);k.exports=f},function(k,f,d){f=d(1);k.exports=f},function(k,f,d){function e(b){b=100*(b||0);var a=2;return 0<b&&.01>b&&(a=(1/b+"").indexOf(".")+1),b.toFixed(a)+"%"}function g(l){for(var e in m)m.hasOwnProperty(e)&&delete m[e];l=a.isObject(l)?l:-1!==a.indexOf(h,l)?b[l]:b["default"];a.mix(!0,m,c,l);m.setTheme=g}var c,a=d(1),b=d(307),h=["default","dark","cheery"],m={};c={animate:!0,percentFormat:e,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},scales:{"..x":{type:"linear",min:0,nice:!1},"..y":{type:"linear",min:0,nice:!1},"..level":{type:"linear",min:0,nice:!1},"..value":{type:"linear",min:0},"..count":{type:"linear",min:0,alias:"count"},"..percent":{type:"linear",min:0,max:1,alias:"percent",formatter:e},"..proportion":{type:"linear",min:0,max:1,alias:"proportion",formatter:e},"..density":{type:"linear",min:0,alias:"density"},"..long":{type:"linear",alias:"longitude",nice:!1},"..lant":{type:"linear",alias:"latitude",nice:!1},"..pieX":{type:"cat",values:["..pieX"],ticks:["..pieX"]}},connectNulls:!1,heatmapColors:"rgb(125,125,248)-rgb(0,0,255)-rgb(0,255,0)-yellow-rgb(255,0,0)",heatmap:{radius:50}};g("default");k.exports=m},function(k,f,d){var e=d(82),g=d(56),c=d(55),a=d(54);f=d(3);d(1);f.Vector2;k.exports={line:function(b,a,m,l,c,n,d){var g=e.box(b,a,m,l,c);if(!this.box(g.minX,g.maxX,g.minY,g.maxY,n,d))return!1;b=e.pointDistance(b,a,m,l,n,d);return!isNaN(b)&&b<=c/2},polyline:function(b,a,m,l){var c=b.length-1;if(1>c)return!1;for(var e=0;e<c;e++)if(this.line(b[e][0],b[e][1],b[e+1][0],b[e+1][1],a,m,l))return!0;return!1},cubicline:function(b,a,m,l,e,n,d,g,f,u,q){return c.pointDistance(b,a,m,l,e,n,d,g,u,q)<=f/2},quadraticline:function(b,a,m,l,c,e,d,r,f){return g.pointDistance(b,a,m,l,c,e,r,f)<=d/2},arcline:function(b,h,m,l,c,e,d,g,f){return a.pointDistance(b,h,m,l,c,e,g,f)<=d/2},rect:function(b,a,m,l,c,e){return b<=c&&c<=b+m&&a<=e&&e<=a+l},circle:function(b,a,m,l,c){return Math.pow(l-b,2)+Math.pow(c-a,2)<=Math.pow(m,2)},box:function(b,a,m,l,c,e){return b<=c&&c<=a&&m<=e&&e<=l}}},function(k,f,d){f=d(5);var e=d(79),g=d(3),c=d(7),a=g.Vector3,b=function(a){b.superclass.constructor.call(this,a)};b.ATTRS={fillOpacity:1,strokeOpacity:1};f.extend(b,e);f.augment(b,{isShape:!0,createPath:function(){},drawInner:function(){var b=this.get("context");this.createPath();this.hasFill()&&b.fill();this.hasStroke()&&b.stroke()},isPointInPath:function(b,a){return!1},isHit:function(b,m){var l=this.get("canvas"),e=new a(b,m,1);this.invert(e,l);return(l=this.getBBox())&&c.box(l.minX,l.maxX,l.minY,l.maxY,e.x,e.y)&&(l=this.__attrs.clip,!l||l.inside(b,m))?this.isPointInPath(e.x,e.y):!1},getBBox:function(){return this.get("box")}});k.exports=b},function(k,f,d){f=d(16);var e=d(1),g=d(144),c=(d(3),d(128)),a=d(127),b=d(123),h=(f.G,{radius:"r","font-size":"fontSize","stroke-width":"lineWidth","text-anchor":"textAlign","font-weight":"fontWeight","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash",horizontalAlign:"textAlign",verticalAlign:"textBaseline"});e.mix(e,{isPositiveNum:function(b){return/^[0-9]*[1-9][0-9]*$/.test(b)},adapAttrs:function(b){e.each(b,function(a,h){var c=e.adapAttr(h,a);c&&(b[c.name]=c.value)})},adapAttr:function(b,a){var c,e=h[b];return e&&(c={},"font-size"===b?a=parseInt(a):"text-anchor"===b&&(a="start"===a?"left":"middle"===a?"center":"right"),c.name=e,c.value=a),c},merge:function(b,a){if(a){if(e.isObject(a)){var h={};return e.mix(h,b,a),h}return a}return b},getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mixXY:function(b,a){var h=a.get("x"),c=a.get("y");b.x?b.x+=h:b.x=h;b.y?b.y+=c:b.y=c},getWidth:function(b){var a=e.getStyle(b,"width");return"auto"===a&&(a=b.offsetWidth),parseFloat(a)},getHeight:function(b){var a=e.getStyle(b,"height");return"auto"===a&&(a=b.offsetHeight),parseFloat(a)},getOuterHeight:function(b){var a=e.getHeight(b),h=parseFloat(e.getStyle(b,"borderTopWidth"))||0,c=parseFloat(e.getStyle(b,"paddingTop")),d=parseFloat(e.getStyle(b,"paddingBottom"));b=parseFloat(e.getStyle(b,"borderBottomWidth"))||0;return a+h+b+c+d},parsePathArray:function(b){return c.parsePathArray(b)},path2Absolute:function(b){return c.path2Absolute(b)},parsePathString:function(b){return c.parsePathString(b)},animPath:function(b,a,h,c,d,g){if(e.vml||(h=h||0,c=c||400,!a))return void after();var f;f=b.attr("path");a=e.parsePathString(a);var u=f.slice(-1*h);if(f.length>a.length)f.slice(0,a.length);else if(f=f.concat([]),h)for(h=f.length;h<a.length;h++)f=f.concat(u);b.animate({path:a},c,d,g)},animate:function(h,c,w,n,d){function r(){var a,c,l,f;c=+new Date-q;var p={},E=h.get("canvas");u=c/w;u=0>=u?0:1<=u?1:u;u=b[n](u);for(f in k)if(x[f]!=k[f])if("path"===f){c=e.parsePathString(k[f]);l=e.parsePathString(x[f]);p[f]=[];for(var G=0;G<c.length;G++){for(var C=c[G],H=l[G],L=[],K=0;K<C.length;K++)e.isNumeric(C[K])?(a=g.interpolation(C[K],H[K]),L.push(a(u))):L.push(C[K]);p[f].push(L)}}else a=g.interpolation(x[f],k[f]),p[f]=a(u);z&&(a=g.interpolation(v,z)(u),h.setMatrix(a));h.attr(p);E.draw();e.requestAnimationFrame(function(){if(A===h.get("animCount")&&h.get("animable"))if(0<=u&&1>u)r();else if(1<=u)return d&&d()})}function f(b){var c,l={M:null,attrs:{}};for(c in b)"transform"===c?l.M=a.transform(h.getMatrix(),b[c]):"matrix"===c?l.M=b[c]:l.attrs[c]=b[c];return l}var u,q=+new Date,f=f(c),k=f.attrs,z=f.M,x=function(b){var a,c={};for(a in b)c[a]=h.attr(a);return c}(k),v=h.getMatrix().clone(),A=h.get("animCount");n=n?n:"linear";setTimeout(function(){A===h.get("animCount")&&r()},6)}});e.MatrixUtil=a;k.exports=e},function(k,f,d){f=d(31);var e=d(1),g=d(2),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"summary",getStatDims:function(){var a=this.getDims();return[a[a.length-1]]},getGroupCondition:function(){var a,b=this.getDims(),h=b.length,c=[];return 1<h&&(c=b.slice(0,h-1),a=[]),e.each(c,function(b){0!==b.indexOf("..")&&a.push(b)}),a},groupFrames:function(a){var b=this.getGroupCondition();return b?g.group(a,b):[a]},transformGroup:function(a,b){var h=this,c=[];return e.each(a,function(a){c.push(h.transform(a,b))}),c},execFrame:function(a){var b=this.getStatDims()[0];a=this.groupFrames(a);b=this.transformGroup(a,b);return g.merge.apply(null,b)},transform:function(a){return a}});k.exports=c},function(k,f,d){f=d(109);var e=d(12),g=d(16);f.G=g.G;f.Components=d(114);f.Group=e.GroupBase;f.Shape={};f.Shape.Marker=e.Marker;f.Util=d(9);f.Matrix=d(3);k.exports=f},function(k,f,d){k.exports={GMixin:d(124),GroupBase:d(70),GroupMixin:d(125),Marker:d(126)}},function(k,f){var d={prefix:"g",backupContext:document.createElement("canvas").getContext("2d"),debug:!1,warn:function(e){}};k.exports=d},function(k,f,d){f=d(1);d=d(53);var e=function(d){e.superclass.constructor.call(this,d)};f.extend(e,d);f.augment(e,{regressionType:"base",isRegression:!0,getRegressionString:function(){return""},execSmooth:function(e){return e}});k.exports=e},function(k,f,d){var e=d(1);f=d(26);var g=d(11).Matrix.Matrix3,c=function(a){c.superclass.constructor.call(this,a)};c.ATTRS={easing:"easeInOutQuad",duration:1E3,callback:null,group:null,rect:null,before:null};e.extend(c,f);e.augment(c,{start:function(){return this.startAnimate(),this},startAnimate:function(){var a=this.getTarget(),b=this.get("group");this.set("originMatrix",b.getMatrix().clone());this.set("rect",this.getAnimRect());this.set("target",a);this.beforeAnimate(a);this.execAnimate(a)},beforeAnimate:function(a){var b=this.getInitMatrix(),h=this.getInitAttrs(),c=this.get("originMatrix"),b=g.multiply(c,b);a.setMatrix(b);a.attr(h)},execAnimate:function(a){var b,h=this,c=h.get("before"),l=h.get("callback"),w=h.get("duration"),n=h.get("easing");b=h.getEndAttrs();var d=h.get("originMatrix"),r=h.getEndMatrix(),r=g.multiply(d,r);b=e.mix({},b,{matrix:r});a.animate(b,w,n,function(){l&&l();h.afterAnimate(a)});c&&c()},afterAnimate:function(a){var b=this.get("group"),h=b.get("canvas");return b==a||(b.attr("clip",!1),void h.draw())},getTarget:function(){return this.get("group")},getInitMatrix:function(){return new g},getInitAttrs:function(){return{}},getEndMatrix:function(){return new g},getEndAttrs:function(){return{}},getAnimRect:function(){var a=this.get("rect"),b=this.get("group");return a||(a=b.getBBBox()),a},getCircleInfo:function(){var a=this.get("rect"),b=this.get("circle"),h=this.getRectCenter(a),a=Math.min(a.width,a.height)/2;return b||(b={center:h,r:a}),b},getRectCenter:function(a){return{x:a.x+a.width/2,y:a.y+a.height/2}},stop:function(){return this.stopAnimate(),this},stopAnimate:function(){var a=this.getTarget();a&&a.stopAnimate()}});k.exports=c},function(k,f,d){f=d(106);var e=d(63);f.G=d(21);f.Util=d(27);f.Group=e.GroupBase;k.exports=f},function(k,f,d){var e=d(1),g=d(2);f=function(c){e.mix(this,c);this._init()};f.prototype={type:"base",names:null,scales:[],callback:null,scaleCache:null,_init:function(){for(var c=this.names||[this.type],a=this.scales,b={},h=0;h<a.length;h++)b[c[h]||this.type+h]=a[h];this.scaleCache=b},_execCallback:function(c){var a=this,b=a.callback,h=a.getNames(),m=[],l={};e.each(h,function(b){var h=a.getScale(b);m.push(h.invert(c[b]))});var w=b.apply(null,m);return e.isArray(w)||(w=[w]),e.each(h,function(b,a){var h=w[a];e.isNull(h)||(l[b]=h)}),l},mapping:function(c){var a=this;return c=c.toJSON(),e.each(c,function(b,h){var m=a.getMappedRecord(b);c[h]=e.mix(b,m)}),c=new g(c)},getMappedRecord:function(c){return this.callback?this._execCallback(c):this.mappingRecord(c)},getNames:function(){var c=[];return e.each(this.scaleCache,function(a,b){c.push(b)}),c},getDims:function(){var c=[];return e.each(this.scales,function(a){c.push(a.dim)}),c},getScale:function(c){return this.scaleCache[c]},getScales:function(){return this.scales},getMappingValue:function(){var c,a=this,b=a.getNames();c=e.toArray(arguments);if(a.callback){var h=[];e.each(c,function(c,l){var e=a.getScale(b[l]);e&&(e=e.invert(c),h.push(e))});c=a.callback.apply(a,h)}else c=a.getValue.apply(a,c);return c},getValue:function(c){return c},mappingRecord:function(c){return c}};k.exports=f},function(k,f,d){var e=d(1),g=["min","max"];f=function(c){e.mix(this,c)};e.augment(f,{xScale:null,yScale:null,cfg:{},parsePoint:function(c,a){var b=this.xScale,h=this.yScale,m=a[0],l=a[1];return b&&(m=-1!==e.indexOf(g,m)?b.scale(b[m]):b.scale(m)),h&&(l=-1!==e.indexOf(g,l)?h.scale(h[l]):h.scale(l)),c.convert({x:m,y:l})},paint:function(){}});k.exports=f},function(k,f,d){var e=d(1),g=d(42);g.Linear=d(41);g.linear=function(c){return new g.Linear(c)};g.Cat=d(29);g.cat=function(c){return new g.Cat(c)};g.Pow=d(174);g.pow=function(c){return new g.Pow(c)};g.Log=d(172);g.log=function(c){return new g.Log(c)};g.Identity=d(171);g.I=function(c){return new g.Identity(c)};g.Time=d(176);g.time=function(c){return new g.Time(c)};g.NumberCat=d(173);g.numberCat=function(c){return new g.NumberCat(c)};g.TimeCat=d(175);g.timeCat=function(c){return new g.TimeCat(c)};g.Condition=d(169);g.condition=function(c){return new g.Condition(c)};g.Group=d(170);g.group=function(c){return new g.Group(c)};g.I_TYPE="identity";g.isCategory=function(c){if("cat"===c)return!0;c=e.ucfirst(c);return!(!g[c]||!g[c].superclass||"cat"!==g[c].superclass.type)};k.exports=g},function(k,f,d){var e=d(1),g=d(199);k.exports={getRegressionString:function(){return this.regressionStr},getRegression:function(){return{equation:[],string:""}},execSmooth:function(c,a){var b=this,h=b.getRegression(c),m=h.equation;this.regressionStr=h.string;var l=[];return e.each(a,function(a){var h=g.execFnction(b.regressionType,m,a);l.push([a,h])}),l}}},function(k,f,d){var e=d(13);f={Canvas:d(230),Group:d(80),Shape:d(8),Rect:d(245),Circle:d(234),Ellipse:d(236),Path:d(241),Text:d(246),Line:d(239),Image:d(238),Polygon:d(242),Polyline:d(243),Arc:d(233),Fan:d(237),Cubic:d(235),Quadratic:d(244),debug:function(d){e.debug=d}};k.exports=f},function(k,f,d){var e=d(1);f=d(26);var g=d(277),c=d(282),a=d(284),b=d(286),h=d(287),m=d(285),l=d(288),w=d(271);d=d(6);var n=["size","shape","color"],t=function p(b){p.superclass.constructor.call(this,b);this._init()};t.ATTRS={chart:null,attrs:null,stats:null,scales:null,multipleActive:!1,shareTooltip:!0,shapeStyle:null,animate:d.animate};e.extend(t,f);e.mixin(t,[l,m,h,a,b]);e.augment(t,{_init:function(){var b=this.get("chart").get("plotContainer").addGroup({zIndex:10});this.set("container",b)},getBinStat:function(b){var a=null;if(b.binWidth||b.bandWidth)a=b;else if(b.stat){for(b=b.stat;b&&!b.binWidth&&!b.bandWidth;)b=b.stat;b&&(b.binWidth||b.bandWidth)&&(a=b)}return a},_addLabels:function(b){var a=this.get("container"),h=[],m=this.get("coord"),l=this.getAttr("label"),w=c.getLabelsClass(m.type,this.get("type")),a=a.addGroup(w,{labelsCfg:l.cfg,coord:m,geom:this,geomType:this.get("type")});e.each(b,function(b){h=h.concat(b.toJSON())});a.showLabels(h)},_draw:function(b){var a=this,h=[];return b=a.framePreprocess(b),b=a.normalizeFrames(b),b=a.getShapePoints(b),b=a.execMapping(b),a.set("frames",b),e.each(b,function(b,c){b.index=c;a.drawFrame(b);h.push(b)}),a._afterDraw(),h},_afterDraw:function(){var b=this.get("group"),a=this.get("shapeStyle");a&&(b=b.get("children"),e.each(b,function(b){b.attr(a)}))},getDefaultValue:function(b){var a=this.get(b),h=this.getAttr(b);h&&(b=h.getScale(b),"identity"===b.type&&(a=b.value));return a},getAttr:function(b){var a=this.get("attrs"),h=null;return e.each(a,function(a){if(a.type===b)return h=a,!1}),h},getLegendAttr:function(){var b=this.get("attrs"),a=[];return e.each(b,function(b){-1!==e.indexOf(n,b.type)&&a.push(b)}),a},getXDim:function(){return this.getXScale().dim},getYDim:function(){var b=this.getYScale();return b?b.dim:"y"},getXScale:function(){return this.getAttr("position").getScale("x")},getYScale:function(){return this.getAttr("position").getScale("y")},getScales:function(){return this.get("scales")},getMinYPercent:function(){var b=this.getYScale(),a=0;return b&&void 0!==b.min&&0>b.min&&(a=b.scale(0)),a},getPositionScales:function(){return this.getAttr("position").getScales()},isShareTooltip:function(){return!!this.getYScale()&&this.get("shareTooltip")},isInCircle:function(){return this.get("coord").isPolar},getGroup:function(b){var a=this.get("container").get("children"),h=null;return 1===a.length?h=a[0]:e.each(a,function(a){if(a.get("coord")===b)return h=a,!1}),h},paint:function(b,a,h){function c(){var l=m._draw(a);h&&h(b,l);m.getAttr("label")&&m._addLabels(l)}var m=this;if("map"===b.type){var l=m.get("scales"),n=l["..long"],l=l["..lant"];b.set("originMin",[n.min,l.min]);b.set("originMax",[n.max,l.max])}m.set("coord",b);n=m.get("container").addGroup(w,{geom:m,coord:b,multipleActive:m.isShareTooltip(),capture:!1});n.setMatrix(b.get("matrix").clone());m.set("group",n);n=m.get("chart").get("animate");(n=e.isNull(n)?m.get("animate"):n)?g.getDefault({geom:m,fn:function(){c()}}).start():c();return m},destroy:function(){var b=this.get("container");b.clear();b.remove();this._attrs={};this.events={}}});k.exports=t},function(k,f,d){var e=d(1),g={defaultShapeType:null,getShape:function(b){if(b=this[b]||this[this.defaultShapeType])return b;throw Error("not support this shape");},getShapePoints:function(b,a){return this.getShape(a).getShapePoints(b)},getShapeCfg:function(b,a){return this.getShape(b).getShapeCfg(a)},getMarkerCfg:function(b,a){return this.getShape(b).getMarkerCfg(a)},getActiveCfg:function(b,a){return this.getShape(b).getActiveCfg(a)},getSelectedCfg:function(b,a){return this.getShape(b).getActiveCfg(a)}},c={getShapePoints:function(b){return b},getShapeCfg:function(){return{}},getMarkerCfg:function(){return null},getActiveCfg:function(){return null},getSelectedCfg:function(){return null}},a={registGeom:function(b,h){var c=e.ucfirst(b),l=e.mix({},g,h);return a[c]=l,l},registShape:function(b,h,m){b=e.ucfirst(b);b=a[b];m=e.mix({},c,m);return b[h]=m,m}};k.exports=a},function(k,f,d){function e(b,a){var h=b.getCenter();return Math.sqrt(Math.pow(a.x-h.x,2)+Math.pow(a.y-h.y,2))}function g(b,a){for(var h=b.length,c=[b[0]],e=1;e<h;e+=2){var d=a.convertPoint({x:b[e],y:b[e+1]});c.push(d.x,d.y)}return c}function c(b,a,h){h.getRadius();h.get("inner");var c=h.isTransposed,d=h.get("startAngle"),g=h.get("endAngle");b={x:b[1],y:b[2]};var f={x:a[1],y:a[2]};a=[];var c=c?"y":"x",d=Math.abs(f[c]-b[c])*(g-d),g=f[c]>=b[c]?1:0,c=d>Math.PI?1:0,u=h.convertPoint(f),q=e(h,u);d===2*Math.PI?.5<=q&&(h=h.convertPoint({x:(f.x+b.x)/2,y:(f.y+b.y)/2}),a.push(["A",q,q,0,c,g,h.x,h.y]),a.push(["A",q,q,0,c,g,u.x,u.y])):a.push(["A",q,q,0,c,g,u.x,u.y]);return a}function a(a){b.each(a,function(b,h){if("a"===b[0].toLowerCase()){var c=a[h-1],e=a[h+1];e&&"a"===e[0].toLowerCase()?c&&"l"===c[0].toLowerCase()&&(c[0]="M"):c&&"a"===c[0].toLowerCase()&&e&&"l"===e[0].toLowerCase()&&(e[0]="M")}})}var b=d(1),h=d(177);k.exports={getLinePath:function(a,h,c){var e=c;if(a.length){c="";var d;2>=a.length&&(e=!1);for(var g=0,f=a.length;g<f;g++){var u=a[g];d=0===g?e?"M{x} {y} R":"M{x} {y}":e?" {x} {y}":"L{x} {y}";c+=b.substitute(d,u)}a=(h&&(c+="Z"),c)}else a="";return a},getSplinePath:function(a,c,e){var n=[],d=a[0],g=null;b.each(a,function(b){g&&g.x===b.x&&g.y===b.y||(n.push(b.x),n.push(b.y),g=b)});a=e.get("start");e=e.get("end");c=h.catmullRom2bezier(n,c,[[a.x,e.y],[e.x,a.y]]);return"M"+d.x+" "+d.y+b.parsePathArray(c)},splitPoints:function(a,h){if(!a.length)return[];var c=[],e=[];h=h||"y";var d=a.length;return b.each(a,function(a,m){var g=a[h];b.isArray(g)&&b.isNull(g[0])||b.isNull(g)?m!==d-1&&(0<e.length&&c.push(e),e=[]):e.push(a)}),c.push(e),c},getPointRadius:function(b,a){return e(b,a)},getPointAngle:function(b,a){var h=b.getCenter();return Math.atan2(a.y-h.y,a.x-h.x)},convertNormalPath:function(a,h){var c=[];return b.each(a,function(b){switch(b[0].toLowerCase()){case "m":case "l":case "c":c.push(g(b,h));break;default:c.push(b)}}),c},convertPolarPath:function(h,l){var e=[];return b.each(h,function(b,a){switch(b[0].toLowerCase()){case "m":case "c":e.push(g(b,l));break;case "l":var d=h[a-1];(l.isTransposed?d[1]===b[1]:d[2]===b[2])?e=e.concat(c(d,b,l)):e.push(g(b,l));break;default:e.push(b)}}),a(e),e}}},function(k,f,d){k.exports=d(311)},function(k,f,d){f=d(105);k.exports=f},function(k,f,d){f=d(21);var e=d(1),g=f.Shape.superclass.constructor;d=document.createElement("table");f=document.createElement("tr");var c=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:f,th:f,"*":document.createElement("div")};e.mix(e,{getBoundingClientRect:function(b){b=b.getBoundingClientRect();var a=document.documentElement.clientTop,c=document.documentElement.clientLeft;return{top:b.top-a,bottom:b.bottom-a,left:b.left-c,right:b.right-c}},upperFirst:function(b){return b.replace(/(\w)/,function(b){return b.toUpperCase()})},getStyle:function(b,a){return window.getComputedStyle?window.getComputedStyle(b,null)[a]:b.currentStyle[a]},modiCSS:function(b,a){for(var c in a)b.style[c]=a[c];return b},getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:1},initClassCfgs:function(b){if(!b.__cfg&&b!==g){var a=b.superclass.constructor;a&&!a.__cfg&&e.initClassCfgs(a);b.__cfg={};e.mix(!0,b.__cfg,a.__cfg);e.mix(!0,b.__cfg,b.CFG)}},mixin:function(b,a){var c=b.CFG?"CFG":"ATTRS";if(b&&a){b._mixins=a;b[c]=b[c]||{};var l={};e.each(a,function(a){e.augment(b,a);(a=a[c])&&e.mix(l,a)});b[c]=e.mix(l,b[c])}},createDom:function(b){var h=c.test(b)&&RegExp.$1;h in a||(h="*");h=a[h];return b=b.replace(/(^\s*)|(\s*$)/g,""),h.innerHTML=""+b,h.childNodes[0]}});k.exports=e},function(k,f,d){f=d(30);var e=d(1),g=d(2),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"map",mapData:{},initDims:function(a){var b=a[0];a=a.slice(1).concat([b]);a.unshift("..lant");a.unshift("..long");this.dims=a},getStatDims:function(){return this.getDims().filter(function(a){return-1<a.indexOf("..")})},execFrame:function(a){var b=this,h=b.getStatDims(),c=[];return a=a.toJSON(),e.each(a,function(a){c.push(b.addGeoInfo(a,h))}),new g(c)},addGeoInfo:function(a){return a}});k.exports=c},function(k,f,d){f=d(42);var e=d(1),g=d(35),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"cat",tickCount:null,isCategory:!0,init:function(){var a=this.values,b=this.tickCount;if(e.each(a,function(b,h){a[h]=b.toString()}),!this.ticks){var h=a;b&&(h=g.Category.caculate({maxCount:b,data:a}).ticks);this.ticks=h}},getText:function(a){return-1<this.values.indexOf(a)||e.isNumber(a)&&(a=this.values[Math.round(a)]),c.superclass.getText.call(this,a)},translate:function(a){var b=this.values.indexOf(a);return-1===b&&e.isNumber(a)?b=a:-1===b&&(b=NaN),b},scale:function(a){var b,h=this.rangeMin(),c=this.rangeMax();return(e.isString(a)||-1!==this.values.indexOf(a))&&(a=this.translate(a)),b=1<this.values.length?a/(this.values.length-1):a,h+b*(c-h)},invert:function(a){if(e.isString(a))return a;var b=this.rangeMin(),h=this.rangeMax();a<b&&(a=b);a>h&&(a=h);a=Math.round((a-b)/(h-b)*(this.values.length-1))%this.values.length;return a=a||0,this.values[a]}});k.exports=c},function(k,f,d){f=d(31);f.summary=d(210);f.bin=d(186);f.smooth=d(200);f.density=d(190);f.region=d(193);var e=d(2);e.execStat=function(d,c){c.init();var a=c.exec([d]);return e.merge.apply(null,a)};k.exports=f},function(k,f,d){var e=d(1);f=function(d){e.mix(this,d)};e.augment(f,{isStat:!0,initDims:function(){},getDims:function(){return this.dims},getStatDims:function(){return this.getDims()},init:function(){var d=this.dims;if(e.isString(d)&&(d=d.split("*"),this.dims=d),d&&d.isStat)d.init(),this.stat=d,this.dims=d=d.dims;d||(d=[],this.dims=d);this.initDims(d)},preExecute:function(){},exec:function(d){var c=this;c.preExecute(d);var a=[];return this.stat&&(d=this.stat.exec(d)),e.each(d,function(b){b=c.execFrame(b,d);e.isArray(b)?a=a.concat(b):a.push(b)}),a},execFrame:function(e){return e}});k.exports=f},function(k,f,d){f=d(3);var e=(d(4),d(1),f.Vector2),g=Math.PI/6;k.exports={makeArrow:function(c,a,b,h){var m=(new e(1,0)).angleTo(a);a=m-g;m+=g;h=6+3*h;b=[{x:b.x-h*Math.cos(a),y:b.y-h*Math.sin(a)},b,{x:b.x-h*Math.cos(m),y:b.y-h*Math.sin(m)}];c.moveTo(b[0].x,b[0].y);c.lineTo(b[1].x,b[1].y);c.lineTo(b[2].x,b[2].y)},getEndPoint:function(c,a,b){return c.setLength(b/Math.sin(g)/2),a.sub(c),a}}},function(k,f,d){var e=d(1);f=function(d){e.mix(this,d)};e.augment(f,{xValue:null,yValue:null,region:null,frame:null});k.exports=f},function(k,f,d){var e=d(1),g=d(2);f=function(c){e.mix(this,c)};e.augment(f,{xDim:null,yDim:null,adjustNames:["x","y"],isAdjust:function(c){return e.inArray(this.adjustNames,c)},processAdjust:function(c){var a=g.merge.apply(null,c);return this.adjFrames=c,this.mergeFrame=a,c=this.adjustFrames(c,a),this.adjFrames=null,this.mergeFrame=null,c},_getDimValues:function(c){var a={},b=[];if(this.xDim&&this.isAdjust("x")&&b.push(this.xDim),this.yDim&&this.isAdjust("y")&&b.push(this.yDim),e.each(b,function(b){var m=g.values(c,b);m.sort(function(b,a){return b-a});a[b]=m}),!this.yDim&&this.isAdjust("y"))a.y=[0,1];return a},adjustFrames:function(c,a){var b=this,h=[],m=b._getDimValues(a);return e.each(c,function(a,w){var n=a.toJSON();e.each(m,function(a,h){b.adjustDim(h,a,n,c.length,w)});h.push(new g(n))}),h},adjustDim:function(c,a,b){return new g(b)},getAdjustRange:function(c,a,b){var h,m;c=e.indexOf(b,a);var l=b.length;return!this.yDim&&this.isAdjust("y")?(h=0,m=1):1<l?(h=0===c?b[0]:b[c-1],m=c===l-1?b[l-1]:b[c+1],0!==c?h+=(a-h)/2:h-=(m-a)/2,c!==l-1?m-=(m-a)/2:m+=(a-b[l-2])/2):(h=0===a?0:a-.5,m=0===a?1:a+.5),{pre:h,next:m}},groupData:function(c,a){var b={};return e.each(c,function(h){var c=h[a];void 0===c&&(c=h[a]=0);b[c]||(b[c]=[]);b[c].push(h)}),b}});k.exports=f},function(k,f,d){f=d(104);k.exports=f},function(k,f,d){k.exports=d(129)},function(k,f,d){var e=d(1);f=d(3);var g=f.Matrix3,c=f.Vector3,a=function(b){this._attrs={};this._attrs.matrix=new g;e.mix(this._attrs,a.ATTRS,b);this.init()};e.augment(a,{isTransposed:!1,set:function(b,a){return this._attrs[b]=a,this},get:function(b){return this._attrs[b]},getDim:function(b){switch(b){case "x":return this.get("x");case "y":return this.get("y");case "z":return this.get("z");default:console.error("\u6ca1\u6709"+b+"\u4ee3\u8868\u7684\u7ef4\u5ea6!")}},init:function(){var b=this.get("start"),a=this.get("end");this.set("center",{x:(b.x+a.x)/2,y:(b.y+a.y)/2});this.set("width",Math.abs(a.x-b.x));this.set("height",Math.abs(a.y-b.y))},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},convertDim:function(b,a){return a=this.get(a),a.start+b*(a.end-a.start)},invertDim:function(b,a){return a=this.get(a),(b-a.start)/(a.end-a.start)},rotate:function(b){var a=this.get("matrix"),c=this.get("center");return a.translate(-c.x,-c.y),a.rotate(b),a.translate(c.x,c.y),this},reflect:function(b){switch(b){case "x":this._swapDim("x");break;case "y":this._swapDim("y");break;default:this._swapDim("y")}return this},_swapDim:function(b){if(b=this.get(b)){var a=b.start;b.start=b.end;b.end=a}},scale:function(b,a){var c=this.get("matrix"),l=this.get("center");return c.translate(-l.x,-l.y),c.scale(b,a),c.translate(l.x,l.y),this},translate:function(b,a){return this.get("matrix").translate(b,a),this},transpose:function(){this.isTransposed=!this.isTransposed},convertPoint:function(b){return b},invertPoint:function(b){return b},convert:function(b){b=this.convertPoint(b);b=this.trans(b.x,b.y,1);return{x:b.x,y:b.y}},invert:function(b){b=this.reverse(b.x,b.y,1);return this.invertPoint({x:b.x,y:b.y})},trans:function(b,a,m){m=m||0;var l=this.get("matrix");b=new c(b,a,m);return b.applyMatrix(l),b},reverse:function(b,a,m){m=m||0;var l=this.get("matrix").getInverse();b=new c(b,a,m);return b.applyMatrix(l),b}});k.exports=a},function(k,f,d){var e=d(1);f=d(37);var g=d(3),c=d(4),a=g.Vector2,b=g.Matrix3,h=g.Vector3,m=function(b){var a={};e.mix(a,m.ATTRS,b);m.superclass.constructor.call(this,a);this._init()};m.ATTRS={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,inner:.5};e.extend(m,f);e.augment(m,{type:"plus",isPolar:!0,_init:function(){var b,a,h=this.get("radius"),c=this.get("inner"),m=this.get("startAngle"),e=this.get("endAngle"),d=this.get("center"),g=this.getOneBox(),f=g.maxX-g.minX,k=g.maxY-g.minY,x=Math.abs(g.minX)/f,g=Math.abs(g.minY)/k,v=this.getWidth(),A=this.getHeight();A/k>v/f?(b=v/f,a={x:d.x-(.5-x)*v,y:d.y-(.5-g)*b*k}):(b=A/k,a={x:d.x-(.5-x)*b*f,y:d.y-(.5-g)*A});h=h?0<h&&1>=h?b*h:0<h&&h<=b?h:b:b;b={start:c*h,end:h};this.set("x",{start:m,end:e});this.set("y",b);this.set("radius",h);this.set("circleCentre",a);this.set("center",a)},getCenter:function(){return this.get("circleCentre")},getOneBox:function(){for(var b=this.get("startAngle"),a=this.get("endAngle"),h=[0,Math.cos(b),Math.cos(a)],c=[0,Math.sin(b),Math.sin(a)],m=5*-Math.PI/2;m<3*Math.PI/2;m+=Math.PI/2)b<=m&&m<=a&&(h.push(Math.cos(m)),c.push(Math.sin(m)));return{minX:Math.min.apply(Math,h),maxX:Math.max.apply(Math,h),minY:Math.min.apply(Math,c),maxY:Math.max.apply(Math,c)}},getRadius:function(){return this.get("radius")},convertPoint:function(b){var a=this.getCenter(),h=this.isTransposed?b.y:b.x;b=this.isTransposed?b.x:b.y;return h=this.convertDim(h,"x"),b=this.convertDim(b,"y"),{x:a.x+Math.cos(h)*b,y:a.y+Math.sin(h)*b}},invertPoint:function(m){var e=this.getCenter(),e=new a(m.x-e.x,m.y-e.y);m=this.get("x");var d=new b;d.rotate(m.start);var g=new h(1,0,0);g.applyMatrix(d);g=new a(g.x,g.y);d=g.angleTo(e,m.end<m.start);c.equal(d,2*Math.PI)&&(d=0);g=e.length();e=d/(m.end-m.start);e=0<m.end-m.start?e:-e;m=this.invertDim(g,"y");d={};return d.x=this.isTransposed?m:e,d.y=this.isTransposed?e:m,d}});k.exports=m},function(k,f,d){f=d(140);k.exports=f},function(k,f,d){var e=d(1),g=d(149),c=d(146),a=d(36);k.exports={singular:function(b,h){if(e.isNumeric(b)&&e.isNumeric(h))return g.number(b,h);if(e.isString(b)&&e.isString(h)){var m=new a(b),l=new a(h);if(m.getType()&&l.getType())return c.color(m,l)}},unSingular:function(b,h){if(e.isNumeric(b)&&e.isNumeric(h))return g.unNumber(b,h);if(e.isString(b)&&e.isString(h)){var m=new a(b),l=new a(h);if(m.getType()&&l.getType())return c.unColor(m,l)}}}},function(k,f,d){f=d(42);var e=d(1),g=d(35),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"linear",isLinear:!0,min:null,max:null,nice:!1,tickCount:5,tickInterval:null,init:function(){if(this.ticks){var a=this.ticks,b=this.translate(a[0]),a=this.translate(a[a.length-1]);(e.isNull(this.min)||this.min>b)&&(this.min=b);(e.isNull(this.max)||this.max<a)&&(this.max=a)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},calculateTicks:function(){var a=this.tickCount;return g.caculate({min:this.min,max:this.max,minCount:a,maxCount:a,interval:this.tickInterval}).ticks},initTicks:function(){var a=this,b=a.calculateTicks();if(a.nice)a.ticks=b,a.min=b[0],a.max=b[b.length-1];else{var h=[];e.each(b,function(b){b>=a.min&&b<=a.max&&h.push(b)});a.ticks=h}},scale:function(a){if(null===a||void 0===a)return NaN;var b=this.max,h=this.min;if(b===h)return 0;a=(a-h)/(b-h);b=this.rangeMin();h=this.rangeMax();return b+a*(h-b)},invert:function(a){a=(a-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+a*(this.max-this.min)}});k.exports=c},function(k,f,d){var e=d(1);f=function(d){e.mix(this,d);this.init()};e.augment(f,{formatter:null,range:[0,1],ticks:null,init:function(){},getTicks:function(){var d=this,c=[];return e.each(d.ticks,function(a){a=e.isObject(a)?a:{text:d.getText(a),value:d.scale(a)};c.push(a)}),c},getText:function(d){var c=this.formatter;return d=c?c(d):d,!e.isNull(d)&&d.toString||(d=""),d.toString()},rangeMin:function(){return this.range[0]},rangeMax:function(){var e=this.range;return e[e.length-1]},invert:function(){},translate:function(e){return e},scale:function(){},clone:function(){var d=this,c=d.constructor,a={};return e.each(d,function(b,h){a[h]=d[h]}),new c(a)},change:function(d){return this.ticks=null,e.mix(this,d),this.init(),this}});k.exports=f},function(k,f,d){var e=d(1);f=d(31);var g=d(2),c=function(a){c.superclass.constructor.call(this,a);this.colRange={};this.binWidth||(this.binWidth=.03)};e.extend(c,f);e.augment(c,{type:"bin",binWidth:.03,colRange:{},binDims:null,setRange:function(a,b){this.colRange[a]=b},getStatDims:function(){return this.getDims()},getBinDims:function(){var a=this.binDims||this.getDims(),b=[];return e.each(a,function(a){-1===a.indexOf("..")&&b.push(a)}),b},getBinWidth:function(){return this.binWidth||.03},getCenterValue:function(a,b,h){var c=this.getBinWidth();a=(a-h)/(b-h);return 1===a&&(a-=c/4),(b-h)*(Math.floor(a/c)*c+c/2)+h},toBin:function(a){for(var b=this.getBinDims(),h=0;h<b.length;h++){var c=b[h],l=a[c],e=this.getDimRange(c);a[c]=this.getCenterValue(l,e.max,e.min)}},getDimRange:function(a){return this.cacheRange[a]||{min:0,max:0}},preExecute:function(a){var b=g.merge.apply(null,a);a=this.getStatDims();var h=this.colRange,c={};e.each(a,function(a){if(h[a])c[a]=h[a];else{var e=g.range(b,a);c[a]={min:e[0],max:e[1]}}});this.cacheRange=c},execFrame:function(a){var b=this;a=a.toJSON();return e.each(a,function(a){b.toBin(a)}),new g(a)},getRegion:function(){return[{x:0,y:0}]}});k.exports=c},function(k,f,d){var e=d(1),g=d(2);f=function(c){e.mix(this,c)};e.augment(f,{dims:[],margin:0,defs:{},facetTitle:{titleOffset:25,colDimTitle:{title:{"font-size":16,"text-anchor":"middle",fill:"#444"}},colTitle:{title:{"font-size":14,"text-anchor":"middle",fill:"#444"}},rowTitle:{title:{"font-size":14,"text-anchor":"middle",rotate:90,fill:"#444"}},rowDimTitle:{title:{"font-size":16,"text-anchor":"middle",rotate:90,fill:"#444"}}},plotRange:null,getDimValues:function(c,a){var b=this.defs[c];return b&&b.values?b.values:g.values(a,c)},getFilter:function(c){var a=this.defs;return function(b){var h=!0;return e.each(c,function(c){var l=c.dim,d=c.value;c=c.values;var n=!0;!e.isNull(d)&&l&&(n=a[l]&&a[l].group?a[l].group(b)===e.indexOf(c,d):b[l]===d||b[l]===e.indexOf(c,d));h=h&&n}),h}},drawTitles:function(c,a){var b=this,h=b.dims;e.each(c,function(h){b.drawFacetTitle("col",h,a)});b.drawDimTitle("col",h[0],a)},generateFacets:function(){},drawFacetTitle:function(c,a,b){var h=this.facetTitle,m=h.titleOffset,h="row"===c?h.rowTitle:h.colTitle,l=a.region,d=l.start,n=l.end,l="row"===c?"y":"x";c="row"===c?"x":"y";var g={};g[l]=(n[l]-d[l])/2+d[l];g[c]=n[c];d="x"===l?-1:1;a=e.mix({text:a[l+"Value"]},h.title);a[l]=g[l];a[c]=g[c]+m*d;b.addShape("Text",{attrs:a})},drawDimTitle:function(c,a,b){if(!e.isNull(a)){var h=this.plotRange,m=this.defs;c="row"===c?"y":"x";var l=this.facetTitle,d=l.titleOffset,l="x"===c?l.colDimTitle:l.rowDimTitle;a=m[a]&&m[a].alias||a;h="x"===c?{y:h.tl.y+-1*(d+40),x:(h.tr.x-h.tl.x)/2+h.tl.x}:{x:h.tr.x+(d+40),y:(h.br.y-h.tr.y)/2+h.tr.y};a=e.mix({text:a,x:h.x,y:h.y},l.title);b.addShape("Text",{attrs:a})}}});k.exports=f},function(k,f){k.exports={defaultColor:"#4E7CCC",plotCfg:{margin:[20,80,60,80]},facetCfg:{type:"rect",margin:10,facetTitle:{titleOffset:16,colDimTitle:{title:{"font-size":"14","text-anchor":"middle",fill:"#999"}},colTitle:{title:{"font-size":"12","text-anchor":"middle",fill:"#999"}},rowTitle:{title:{"font-size":"12","text-anchor":"middle",rotate:90,fill:"#999"}},rowDimTitle:{title:{"font-size":"12","text-anchor":"middle",rotate:90,fill:"#999"}}}},binWidth:.03,fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "\u5fae\u8f6f\u96c5\u9ed1", SimSun, "sans-serif"',colors:{"default":"#4E7CCC #36B3C3 #4ECDA5 #94E08A #E2F194 #EDCC72 #F8AB60 #F9815C #EB4456 #C82B3D".split(" "),intervalStack:"#4E7CCC #36B3C3 #4ECDA5 #94E08A #E2F194 #EDCC72 #F8AB60 #F9815C #EB4456 #C82B3D".split(" ")},shapes:{point:"hollowCircle hollowSquare hollowDiamond hollowBowtie hollowTriangle hollowHexagon cross tick plus hyphen line".split(" "),line:["line","dash","dot"],area:["area"]},hues:"red yellow green blue orange purple pink brown white gray black".split(" "),axis:{top:{position:"top",titleOffset:30,title:{"font-size":"12",fill:"#999"},labels:{label:{fill:"#404040","font-size":"12"}},tickLine:{"stroke-width":1,stroke:"#ccc",value:5}},bottom:{position:"bottom",titleOffset:45,labelOffset:20,title:{"font-size":"12","text-anchor":"middle",fill:"#999"},labels:{label:{fill:"#404040","font-size":"12"}},line:{"stroke-width":1,stroke:"#ccc"},tickLine:{"stroke-width":1,stroke:"#ccc",value:5}},left:{position:"left",titleOffset:60,labelOffset:13,title:{"font-size":"12",fill:"#999"},labels:{label:{fill:"#404040"}},line:{"stroke-width":1,stroke:"#ccc"},tickLine:{"stroke-width":1,stroke:"#ccc",value:5},grid:{line:{stroke:"#d9d9d9","stroke-width":1,"stroke-dasharray":[2,2]}}},right:{position:"right",titleOffset:60,labelOffset:13,title:{"font-size":"12",fill:"#999"},labels:{label:{fill:"#404040"}},line:{"stroke-width":1,stroke:"#ccc"},tickLine:{"stroke-width":1,stroke:"#ccc",value:5}},circle:{labelOffset:5,line:{"stroke-width":1,stroke:"#ccc"},grid:{line:{stroke:"#d9d9d9","stroke-width":1,"stroke-dasharray":[1,3]}},labels:{label:{fill:"#404040"}}},gauge:{grid:null,labelOffset:5,tickLine:{"stroke-width":1,value:-20,stroke:"#ccc"},subTick:5,labels:{label:{fill:"#404040"}}},clock:{grid:null,labelOffset:5,tickLine:{"stroke-width":1,value:-20,stroke:"#C0D0E0"},subTick:5,labels:{label:{fill:"#404040"}}},radius:{titleOffset:45,labels:{label:{fill:"#404040"}},line:{"stroke-width":1,stroke:"#ccc"},grid:{line:{stroke:"#d9d9d9","stroke-width":1,"stroke-dasharray":[2,2]},type:"circle"}}},labels:{offset:14,label:{fill:"#666","font-size":"12"}},treemapLabels:{offset:10,label:{fill:"#fff","font-size":"14",verticalAlign:"top",fontStyle:"bold"}},innerLabels:{label:{fill:"#fff","font-size":"12"}},thetaLabels:{labelLine:{"stroke-width":1},labelHeight:14,offset:30},legend:{right:{position:"right",back:null,spacingX:10,spacingY:12,markerAlign:"center",wordSpaceing:12},left:{position:"left",back:null,spacingX:10,spacingY:12,markerAlign:"center",wordSpaceing:12},top:{position:"top",title:null,back:null,spacingX:16,spacingY:10,markerAlign:"center",wordSpaceing:12},bottom:{position:"bottom",title:null,back:null,spacingX:16,spacingY:10,markerAlign:"center",wordSpaceing:12},size:{width:20,height:156}},tooltip:{crosshairs:!1,offset:15,crossLine:{stroke:"#666"},wordSpaceing:6,markerCfg:{symbol:"circle",radius:3}},activeShape:{point:{radius:5,"fill-opacity":.7},hollowPoint:{"stroke-width":2,radius:4},interval:{"fill-opacity":.7},hollowInterval:{"stroke-width":2},area:{"fill-opacity":.85},hollowArea:{"stroke-width":2},line:{"stroke-width":2},polygon:{"fill-opacity":.75}},shape:{point:{"stroke-width":1,fill:"#4E7CCC",radius:4},hollowPoint:{fill:"#fff","stroke-width":1,stroke:"#4E7CCC",radius:3},interval:{"stroke-width":0,fill:"#4E7CCC","fill-opacity":.85},strokeInterval:{"stroke-width":1,stroke:"#fff"},pie:{"stroke-width":1,stroke:"#fff"},hollowInterval:{fill:"#fff",stroke:"#4E7CCC","fill-opacity":0,"stroke-width":1},area:{"stroke-width":0,fill:"#4E7CCC","fill-opacity":.6},polygon:{"stroke-width":0,fill:"#4E7CCC","fill-opacity":1},hollowPolygon:{fill:"#fff",stroke:"#4E7CCC","fill-opacity":0,"stroke-width":1},strokePolygon:{fill:"#4E7CCC",stroke:"#efefef","fill-opacity":1},hollowArea:{fill:"#fff",stroke:"#4E7CCC","fill-opacity":0,"stroke-width":1},line:{stroke:"#4E7CCC","stroke-width":1,fill:null}},guide:{text:{fill:"#666","font-size":"12"},line:{stroke:"#4E7CCC","stroke-dasharray":[0,2,2]},rect:{"stroke-width":0,fill:"#4E7CCC","fill-opacity":.1},tag:{line:{stroke:"#4E7CCC","stroke-dasharray":[0,2,2]},text:{fill:"#666","font-size":"12","text-anchor":"middle"},rect:{"stroke-width":0,fill:"#4E7CCC","fill-opacity":.1}}},tooltipMarker:{fill:"#fff",symbol:"circle","stroke-width":2,stroke:"#4E7CCC",radius:4}}},function(k,f,d){var e=d(1),g=d(12);f=d(65);g=g.GroupBase;f=f.ShowLabels;var c=d(111),a=function(b){a.superclass.constructor.call(this,b)};a.CFG={zIndex:4,ticks:null,line:null,tickLine:null,subTick:null,grid:null,gridAlign:"start",coord:null,labels:{label:{},autoRotate:!0},title:{},_title:{textBaseline:"middle"},autoPaint:!0,labelOffset:10,titleOffset:20,animate:!1,formatter:null,firstTick:!0};e.mixin(a,[f]);e.extend(a,g);e.augment(a,{_initCfg:function(){this.deepSet("title")},_beforeRenderUI:function(){a.superclass._beforeRenderUI.call(this)},_renderUI:function(){a.superclass._renderUI.call(this);this.parseTicks(this.get("ticks"));this.get("labels")&&this.renderLabels();this.get("autoPaint")&&this.paint();this.get("title")&&this._renderTitle();this.sort()},parseTicks:function(b){b=b||[];for(var a=b.length,c=0;c<b.length;c++){var l=b[c];e.isObject(l)||(b[c]=this.parseTick(l,c,a))}return this.set("ticks",b),b},parseTick:function(b,a,c){return{text:b,value:a/(c-1)}},getMaxLabelWidth:function(b){b=b.get("children");var a=0;return e.each(b,function(b){b=b.getBBBox().width;a<b&&(a=b)}),a},paint:function(){this._renderLines();this._renderTicks();this.renderGrid();var b=this.get("labels");b&&b.autoRotate&&this.autoRotateLabels()},autoRotateLabels:function(){},_renderTitle:function(){},renderGrid:function(){var b,a=this.get("grid");a&&(e.isNull(a.animate)&&(a.animate=this.get("animate")),b=this.getParent().addGroup(c,a),b.setMatrix(this.getCoordMatrix().clone()),this.set("gridGroup",b))},getLinePath:function(){},getOffsetPoint:function(){},transPoint:function(b){return this.get("coord").trans(b.x,b.y,1)},_renderLines:function(){var b,a=this.get("line"),c=this.get("ticks");a&&(b=this.getLinePath(),a=e.mix({path:b},a),b=this.addShape("Path",{elCls:"x-chart-axis-line",attrs:a}),b.setMatrix(this.getCoordMatrix().clone()),this.set("lineShape",b));this._processTicks(c)},_processTicks:function(b){var a=this,c=a.get("labels"),l=a.get("subTick"),d=a.get("tickLine");b=b||a.get("ticks");var n=null;e.each(b,function(l,e){var g,f=b[e+1];g=n?n:a.getOffsetPoint(l);n=f?a.getOffsetPoint(f):null;d&&a._addTickItem(g);a.get("grid")&&0!==l.value&&a._addGridItem(g,n);c&&a.addLabel(a.formatPoint(l.text),g)});l&&e.each(b,function(c,m){for(var n=m?c.value-b[m-1].value:c.value,n=n/a.get("subTick"),g=[],f=1;f<l;f++)g.push({text:"",value:m?b[m-1].value+f*n:f*n});e.each(g,function(b){b=a.getOffsetPoint(b);if(d){var c=parseInt(.6*d.value);a._addTickItem(b,c)}})})},_renderTicks:function(){var b=this,a=b.get("tickItems"),c=b.get("tickLine"),l="",c=e.mix({},c);a&&(e.each(a,function(a){a=b._getTickPath(a);l+=a}),delete c.value,c.path=l,a=b.addShape("Path",{elCls:"x-chart-axis-ticks",attrs:c}),a.setMatrix(b.getCoordMatrix().clone()),b.set("tickShape",a))},_getTickPath:function(b){return e.substitute("M{x1} {y1}L{x2} {y2}",b)},_addTickItem:function(b,a){var c=this.get("tickItems"),l={x1:b.x,y1:b.y},d=this.getTickEnd(b,a);l.x2=d.x;l.y2=d.y;c||(c=[],this.set("tickItems",c));e.mix(l,d);c.push(l)},getCoordMatrix:function(){return this.get("coord").get("matrix")},getTickEnd:function(){},getSideVector:function(){},getTextAnchor:function(b){return 1<=Math.abs(b.y/b.x)?"middle":0<b.x?"start":"end"},addLabel:function(b,a){var c,l=this.get("labelsGroup"),e={};if(l){c=this.get("coord");var d=this.get("labelOffset")||10,d=this.getSideVector(d,a),g={x:a.x+d.x,y:a.y+d.y},g=this.transPoint(g),d=c.trans(d.x,d.y);e.text=b;e.x=g.x;e.y=g.y;e["text-anchor"]=this.getTextAnchor(d);c=l.addLabel(e)}return c},formatPoint:function(b){var a=this.get("formatter");return a&&(b=a.call(this,b)),b},_addGridItem:function(b,a){var c,l,d=this.get("coord"),n=this.get("grid"),g={},f=this.get("gridAlign");n.items||(n.items=[]);l=b;"start"===f?l=b:"middle"===f&&(l="cartesian"!==d.type||a?this.getGridMiddlePoint(b,a):null);l&&(c=this.getGridItemCfg(l),e.mix(g,c),n.items.push(g))},getGridMiddlePoint:function(b,a){var c,l,e=this.get("coord"),d=e.invertPoint(b);return a?(1<=d.x&&--d.x,c=e.invertPoint(a),l={x:(c.x+d.x)/2,y:(c.y+d.y)/2}):1!==d.x&&(l=this.getEndMiddlePoint(b,d)),e.convertPoint(l)},getEndMiddlePoint:function(b){b=this.get("coord");var a=this.getOffsetPoint({value:1});return b.invertPoint(a)},getGridItemCfg:function(){},remove:function(){a.superclass.remove.call(this);var b=this.get("gridGroup");b&&b.remove();this.removeLabels()}});k.exports=a},function(k,f,d){f=d(119);k.exports=f},function(k,f,d){function e(b,a){return b>a?a:b}function g(b,a){return b>a?b:a}function c(b,a){this.start=b;this.end=a;this.init()}var a=d(1);c.CFG={start:null,end:null,background:null};a.augment(c,{init:function(){var b=this.start,a=this.end,c=this.tl={};c.x=e(b.x,a.x);c.y=e(b.y,a.y);var l=this.tr={};l.x=g(b.x,a.x);l.y=e(b.y,a.y);l=this.bl={};l.x=e(b.x,a.x);l.y=g(b.y,a.y);l=this.br={};l.x=g(b.x,a.x);l.y=g(b.y,a.y);b=this.cc={};b.x=(l.x-c.x)/2+c.x;b.y=(l.y-c.y)/2+c.y},reset:function(b,a){this.start=b;this.end=a;this.init()},isInRange:function(b,h){a.isObject(b)&&(h=b.y,b=b.x);var c=this.tl,l=this.br;return b>=c.x&&b<=l.x&&h>=c.y&&h<=l.y},isInVertical:function(b){a.isObject(b)&&(b=b.y);var h=this.br;return b>=this.tl.y&&b<=h.y},isInHorizontal:function(b){a.isObject(b)&&(b=b.x);var h=this.br;return b>=this.tl.x&&b<=h.x},getWidth:function(){return this.br.x-this.tl.x},getHeight:function(){return this.br.y-this.tl.y}});k.exports=c},function(k,f,d){f=d(1);d=d(38);var e=function(d){d.inner=d.inner||0;e.superclass.constructor.call(this,d)};f.extend(e,d);f.augment(e,{type:"polar"});k.exports=e},function(k,f,d){f=d(141);k.exports=f},function(k,f,d){var e=d(1),g=Math.PI/180,c=180/Math.PI;f=function(a){e.mix(this,a)};e.augment(f,{basic:null,toRadians:function(a){return g*a},toDegrees:function(a){return a*c},project:function(a,b){return{x:a,y:b}},invert:function(a){return{x:a.x,y:a.y}}});k.exports=f},function(k,f,d){f=d(1);d=d(10);var e=function(d){e.superclass.constructor.call(this,d)};f.extend(e,d);f.augment(e,{type:"region"});k.exports=e},function(k,f,d){f=d(31);var e=d(1),g=d(2),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"smooth",bandWidth:.01,colRange:{},setRange:function(a,b){this.colRange[a]=b},getStatDims:function(){var a=this.getDims();return[a[a.length-1]]},execSmooth:function(a){return a},getXDim:function(){var a=this.getDims();if(2>a.length)throw"you must support the x,y dimension!!!";return a[0]},getYDim:function(){var a=this.getDims();if(2>a.length)throw"you must support the x,y dimension!!!";return a[1]},getZDim:function(){var a=this.getDims();if(3>a.length)throw"you must support the x,y,z dimension!!!";return a[2]},getData:function(a){var b=[],h=this.dims;return a.each(function(a){var c=[];e.each(h,function(b){c.push(a[b])});b.push(c)}),b},getDimRange:function(a,b){var h=this.colRange[b];h||(h=g.range(a,b),h={min:h[0],max:h[1]});return h},gatStep:function(a,b){var h=this.getDimRange(a,b);return(h.max-h.min)*this.bandWidth},getInterArray:function(a,b){for(var h=this.gatStep(a,b),c=this.getDimRange(a,b),l=c.max,e=[],c=c.min;c<=l;c+=h)e.push(c);return e},execFrame:function(a){var b=this.getXDim(),h=this.getYDim();a=g.sort(a,b);var c=this.getData(a),l=this.getInterArray(a,b),c=this.execSmooth(c,l,a),d=a.rowObject(0),n=[];return e.each(c,function(a){var c=e.mix({},d);c[b]=a[0];c[h]=a[1];n.push(c)}),new g(n)}});k.exports=c},function(k,f,d){function e(b,a,h,c){return{x:Math.cos(c)*h+b,y:Math.sin(c)*h+a}}function g(b,a,h,c){if(c)if(b<a)var m=a-b,e=2*Math.PI-h+b;else b>h&&(m=2*Math.PI-b+a,e=b-h);else m=b-a,e=h-b;return m>e?h:a}function c(b,a,c,m){var e=0;return c-a>=2*Math.PI&&(e=2*Math.PI),a=h.mod(a,2*Math.PI),c=h.mod(c,2*Math.PI)+e,b=h.mod(b,2*Math.PI),m?a>=c?b>c&&b<a?b:g(b,c,a,!0):b<a||b>c?b:g(b,a,c):a<=c?a<b&&b<c?b:g(b,a,c,!0):b>a||b<c?b:g(b,c,a)}function a(a,h,m,e,d,g,f,q,k){f=new b(f,q);var z=new b(a,h);q=new b(1,0);z=b.sub(f,z);q=q.angleTo(z);q=c(q,e,d,g);a=new b(m*Math.cos(q)+a,m*Math.sin(q)+h);k&&(k.x=a.x,k.y=a.y);return f.distanceTo(a)}var b=d(3).Vector2,h=d(4),m=d(1);k.exports={nearAngle:c,projectPoint:function(b,h,c,m,e,d,g,f){var k={};return a(b,h,c,m,e,d,g,f,k),k},pointDistance:a,box:function(b,a,h,d,g,f){var u=Math.PI/2,q=Math.PI,k=3*Math.PI/2,z=[],x=c(0,d,g,f);0===x&&z.push(e(b,a,h,0));x=c(u,d,g,f);x===u&&z.push(e(b,a,h,u));x=c(q,d,g,f);x===q&&z.push(e(b,a,h,q));x=c(k,d,g,f);x===k&&z.push(e(b,a,h,k));z.push(e(b,a,h,d));z.push(e(b,a,h,g));var v=1/0,A=-(1/0),y=1/0,D=-(1/0);return m.each(z,function(b){v>b.x&&(v=b.x);A<b.x&&(A=b.x);y>b.y&&(y=b.y);D<b.y&&(D=b.y)}),{minX:v,minY:y,maxX:A,maxY:D}}}},function(k,f,d){function e(b,a,c,l,e){var d=1-e;return d*d*(d*l+3*e*c)+e*e*(e*b+3*d*a)}function g(b,a,m,l,d,n,g,f,p,u,q){var k,z=.005,x=1/0;p=new c(p,u);for(u=0;1>u;u+=.05){var v=new c(e(b,m,d,g,u),e(a,l,n,f,u)),v=v.distanceToSquared(p);v<x&&(k=u,x=v)}x=1/0;for(u=0;32>u&&!(1E-4>z);u++){var A=k-z,y=k+z,v=new c(e(b,m,d,g,A),e(a,l,n,f,A)),v=v.distanceToSquared(p);0<=A&&v<x?(k=A,x=v):(v=(new c(e(b,m,d,g,y),e(a,l,n,f,y))).distanceToSquared(p),1>=y&&v<x?(k=y,x=v):z*=.5)}return q&&(q.x=e(b,m,d,g,k),q.y=e(a,l,n,f,k)),Math.sqrt(x)}var c=d(3).Vector2,a=d(4);k.exports={at:e,derivativeAt:function(b,a,c,l,e){var d=1-e;return 3*(((a-b)*d+2*(c-a)*e)*d+(l-c)*e*e)},projectPoint:function(b,a,c,l,e,d,f,r,p,u){var q={};return g(b,a,c,l,e,d,f,r,p,u,q),q},pointDistance:g,extrema:function(b,h,c,l){b=3*b-9*h+9*c-3*l;h=6*h-12*c+6*l;l=3*c-3*l;c=[];if(a.equal(b,0))a.equal(h,0)||(l=-l/h,0<=l&&1>=l&&c.push(l));else if(l=h*h-4*b*l,a.equal(l,0))c.push(-h/(2*b));else if(0<l){var e=Math.sqrt(l);l=(-h+e)/(2*b);b=(-h-e)/(2*b);0<=l&&1>=l&&c.push(l);0<=b&&1>=b&&c.push(b)}return c}}},function(k,f,d){function e(b,a,c,l){var e=1-l;return e*(e*b+2*l*a)+l*l*c}function g(b,h,c,l,d,n,g,f,p){var u,q=.005,k=1/0;g=new a(g,f);for(f=0;1>f;f+=.05){var z=new a(e(b,c,d,f),e(h,l,n,f)),z=z.distanceToSquared(g);z<k&&(u=f,k=z)}k=1/0;for(f=0;32>f&&!(1E-4>q);f++){var x=u-q,v=u+q,z=new a(e(b,c,d,x),e(h,l,n,x)),z=z.distanceToSquared(g);0<=x&&z<k?(u=x,k=z):(z=(new a(e(b,c,d,v),e(h,l,n,v))).distanceToSquared(g),1>=v&&z<k?(u=v,k=z):q*=.5)}return p&&(p.x=e(b,c,d,u),p.y=e(h,l,n,u)),Math.sqrt(k)}f=d(3);var c=d(4),a=f.Vector2;k.exports={at:e,projectPoint:function(b,a,c,l,e,d,f,r){var p={};return g(b,a,c,l,e,d,f,r,p),p},pointDistance:g,extrema:function(b,a,m){m=b+m-2*a;if(c.equal(m,0))return[.5];b=(b-a)/m;return 1>=b&&0<=b?[b]:[]}}},function(k,f,d){f=d(1);d=d(22);var e=function c(a){c.superclass.constructor.call(this,a)};e.ATTRS={type:"path",shape:"line",shapeType:"line",allowActiveShape:!1};f.extend(e,d);f.augment(e,{_getShapeCfg:function(c){var a=c.toJSON();c=a[0];a={color:c.color,size:c.size,opacity:c.opacity,yDim:this.getYDim(),coord:this.get("coord"),isInCircle:this.isInCircle(),points:a};c=c.shape;c=this.get("shapeObj").getShapeCfg(c,a);return c.path=this.mappingPath(c.path),c},drawFrame:function(c){if(c.rowCount()){var a=this.get("group"),b=this._getShapeCfg(c);return a.addShape("path",{attrs:b}).set("origin",c),a}}});k.exports=e},function(k,f,d){var e=d(1);f={Point:d(295),Line:d(294),Area:d(292),Interval:d(293),Schema:d(297),Polygon:d(296),createShape:function(d,c){return d=d||"point",c&&c.replace("..",""),d=e.ucfirst(d),this[d]}};k.exports=f},[313,91,60],function(k,f){function d(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e}var e=/rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;k.exports={toRGB:function(){var g;return document.body&&(g=d()),function(c){g||(g=d());g.style.color=c;c=document.defaultView.getComputedStyle(g,"").getPropertyValue("color");c=e.exec(c);return c.shift(),this.arr2rgb(c)}}(),toHex:function(e){return e=Math.round(e),e=e.toString(16),1===e.length&&(e="0"+e),e},hsl2Rgb:function(e){var c=e[0],a=e[1],b=e[2];if(0===a)a=b=c=b;else{e=function(b,a,h){return 0>h&&(h+=1),1<h&&--h,h<1/6?b+6*(a-b)*h:.5>h?a:h<2/3?b+6*(a-b)*(2/3-h):b};var h=.5>=b?b*(1+a):b+a-b*a,m=2*b-h,a=e(m,h,c+1/3),b=e(m,h,c),c=e(m,h,c-1/3)}return a=Math.min(Math.round(255*a),255),b=Math.min(Math.round(255*b),255),c=Math.min(Math.round(255*c),255),"#"+this.toHex(a)+this.toHex(b)+this.toHex(c)},rgb2hsl:function(e){var c,a,b,h=this.rgb2arr(e);e=h[0]/255;var m=h[1]/255,h=h[2]/255,l=Math.min(e,m,h),d=Math.max(e,m,h),n=d-l;return d==l?c=0:e==d?c=(m-h)/n:m==d?c=2+(h-e)/n:h==d&&(c=4+(e-m)/n),c=Math.min(60*c,360),0>c&&(c+=360),b=(l+d)/2,a=d==l?0:.5>=b?n/(d+l):n/(2-d-l),[c/360,a,b]},arr2rgb:function(e){return"#"+this.toHex(e[0])+this.toHex(e[1])+this.toHex(e[2])},rgb2arr:function(e){var c=[];return c.push(parseInt(e.substr(1,2),16)),c.push(parseInt(e.substr(3,2),16)),c.push(parseInt(e.substr(5,2),16)),c}}},function(k,f,d){f=d(15);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{getEndAttrs:function(){var e=this.get("rect");return{width:e.width,height:e.height}},getTarget:function(){var e=this.get("group"),c=e.getParent().addShape("Rect");return e.attr("clip",c),c}});k.exports=e},function(k,f,d){f=d(27);d=d(21).Group;var e=function(d){e.superclass.constructor.call(this,d);this._beforeRenderUI();this._renderUI();this._bindUI()};e.CFG={};f.extend(e,d);f.augment(e,{_beforeRenderUI:function(){this._initCfg();this._multiRatioCfg()},_renderUI:function(){},_multiRatioCfg:function(){},_initCfg:function(){},_bindUI:function(){}});k.exports=e},function(k,f,d){k.exports={GMixin:d(107),GroupBase:d(62),GroupMixin:d(108)}},function(k,f,d){function e(b){e.superclass.constructor.call(this,b)}f=d(46);var g=d(9),c=d(3),a=d(4);e.CFG={zIndex:4,x:null,y:null,start:null,end:null,elCls:"x-chart-axis",position:"bottom",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",value:5}};g.extend(e,f);g.augment(e,{_beforeRenderUI:function(){e.superclass._beforeRenderUI.call(this);this.get("coord");this.get("start")||this.set("start",this.getOffsetByPercent(0));this.get("end")||this.set("end",this.getOffsetByPercent(1))},isVertical:function(){var b,a=this.get("isVertical"),c=this.get("coord");return g.isNull(a)?(b=this.get("position"),a="bottom"!==b&&"top"!==b,c.isTransposed&&(a=!a),this.set("isVertical",a),a):a},getOffsetPoint:function(b){return this.getOffsetByPercent(b.value)},getOffsetByPercent:function(b){var a=this.get("coord");b=this.getPercentPoint(b);return a.convertPoint(b)},autoRotateLabels:function(){var b=this.get("labelsGroup"),h=this.get("coord"),c=this.get("title");if(b){var l=this.get("labelOffset")||10,e=this.get("titleOffset"),d=this.getAxisVector(),d=h.trans(d.x,d.y),f;a.equal(d.x,0)&&c.text?(h=this.getMaxLabelWidth(b),h+l>e-l&&(f=-1*Math.acos((e-l)/(h+l)))):a.equal(d.y,0)&&1<b.getCount()&&(e=Math.abs(this._getAvgLabelLength(b)),h=this.getMaxLabelWidth(b),h>e&&(f=Math.atan2(1.5*l,e)));if(f){var r=this._getAlignFactor();g.each(b.get("children"),function(b){b.rotateAtStart(180*f/Math.PI);a.equal(d.y,0)&&(0<r?b.attr("textAlign","start"):b.attr("textAlign","end"))})}}},_getAvgLabelLength:function(b){b=b.get("children");return b[1].attr("x")-b[0].attr("x")},getPercentPoint:function(b){var a={};switch(this.get("position")){case "top":a={x:b,y:1};break;case "bottom":a={x:b,y:0};break;case "left":a={x:0,y:b};break;case "right":a={x:1,y:b}}return a},getLinePath:function(){var b=this.get("start"),a=this.get("end"),c=[];return c.push(["M",b.x,b.y]),c.push(["L",a.x,a.y]),c},getTickEnd:function(b,a){var c=this.get("tickLine");a=a?a:c.value;return this.getSidePoint(b,a)},getSideVector:function(b){var a=this._getAlignFactor();return this.isVertical()?new c.Vector2(b*a,0):new c.Vector2(0,b*a)},getAxisVector:function(){var b=this.get("start"),a=this.get("end");return new c.Vector2(a.x-b.x,a.y-b.y)},getSidePoint:function(b,a){var c={},l=this.getSideVector(a);return c.x=b.x+l.x,c.y=b.y+l.y,c},_isReflectX:function(){var b=this.get("coord").get("x");return b.start>b.end},_isReflectY:function(){var b=this.get("coord").get("y");return b.start<b.end},_getAlignFactor:function(){var b,a=this.get("factor"),c=this.get("coord");return a?a:(b=this.get("position"),a="bottom"===b||"right"===b?1:-1,"bottom"!==b&&"top"!==b||!this._isReflectY()||(a*=-1),"left"!==b&&"right"!==b||!this._isReflectX()||(a*=-1),c.isTransposed&&(a*=-1),this.set("factor",a),a)},_renderTitle:function(){var b=this.get("title"),h=this.getOffsetByPercent(.5),m=this.get("titleOffset"),l=this.get("labelsGroup");if(l){var l=this.getMaxLabelWidth(l),e=this.get("labelOffset")||10;l+e+20<m&&(m=l+e+20)}l=g.mix({},b);e=this.get("coord");b.text&&(b=this.getSideVector(m),h={x:h.x+b.x,y:h.y+b.y},h=this.transPoint(h),b=this.getAxisVector(),b=e.trans(b.x,b.y),m=0,a.equal(b.y,0)||(m=new c.Vector2(1,0),m=(new c.Vector2(b.x,b.y)).angleTo(m,!0)),l.rotate=180/Math.PI*m,l.x=h.x,l.y=h.y,this.addShape("Text",{elCls:"x-chart-axis-title",attrs:l}))},getGridItemCfg:function(b){var a={},c=this.get("coord"),l=this.get("position"),e=c.invertPoint(b);a.x1=b.x;a.y1=b.y;var d,g;return g="left"===l?{x:1,y:e.y}:"right"===l?{x:0,y:e.y}:"bottom"===l?{x:e.x,y:1}:{x:e.x,y:0},d=c.convertPoint(g),a.y2=d.y,a.x2=d.x,a}});k.exports=e},function(k,f,d){f=d(66);f.ShowLabels=d(115);k.exports=f},function(k,f,d){f=d(12).GroupBase;var e=d(1),g=function(c){g.superclass.constructor.call(this,c)};g.CFG={zIndex:6,items:null,label:null,_label:{"font-Size":12,textBaseline:"middle"},renderer:null,custom:!1,animate:!1,html:'\x3cdiv class\x3d"g-labels" style\x3d"position:absolute;top:0;left:0;"\x3e\x3c/div\x3e',itemTpl:'\x3cdiv class\x3d"g-label" style\x3d"position:absolute;"\x3e{text}\x3c/div\x3e',duration:400};e.extend(g,f);e.augment(g,{_initCfg:function(){g.superclass._initCfg.call(this);this.deepSet("label")},_renderUI:function(){g.superclass._renderUI.call(this);this._drawLabels()},_drawLabels:function(){var c=this,a=c.get("items");e.each(a,function(b,a){c._addLabel(b,a)})},_addLabel:function(c,a){var b=this._getLabelCfg(c,a);return this._createText(b)},_getLabelCfg:function(c,a){var b=this.get("label")||{},h=this.get("renderer");e.isObject(c)||(c={},c.text=c);h&&(c.text=h(c.text,c,a));e.isNull(c.text)&&(c.text="");c.text=c.text.toString();c.x=(c.x||0)+(b.x||0);c.y=(c.y||0)+(b.y||0);return e.mix({},c,b)},_createText:function(c){var a=this.get("custom"),b=this.get("customDiv");if(!a)return this.addShape("Text",{attrs:c});b||(b=this.get("html"),a=this.get("canvas").get("el").parentNode,b=e.createDom(b),a.style.position="relative",a.appendChild(b),this.set("customDiv",b));a=this._createDom(c);b.appendChild(a);this._setCustomPosition(c,a)},_setCustomPosition:function(c,a){var b=(this.get("canvas"),c["text-anchor"]||"start"),h=c.y,m=c.x,l=e.getWidth(a),d=e.getHeight(a);"middle"===b?m-=l/2:"end"===b&&(m-=l);a.style.top=parseInt(h-d/2)+"px";a.style.left=parseInt(m)+"px"},_createDom:function(c){var a=this.get("itemTpl");c=e.substitute(a,c);return e.createDom(c)},getLabels:function(){var c=this.get("customDiv");return c?e.toArray(c.childNodes):this.get("children")},addLabel:function(c){var a=this.get("items"),b=a.length;return a.push(c),this._addLabel(c,b)},changeLabel:function(c,a){var b,h,m=this.get("custom");if(b=e.indexOf(this.get("children"),c),h=this._getLabelCfg(a,b),c)if(m)b=this._createDom(h),c.innerHTML=b.innerHTML,this._setCustomPosition(h,c);else if(c.attr("text",h.text),c.attr("x")!==h.x||c.attr("y")!==h.y)(b=c.get("attrs").rotate)&&c.rotateAtStart(-b),c.attr(h),b&&c.rotateAtStart(b)},clear:function(){var c=this.get("customDiv");c&&(c.innerHTML="");g.superclass.clear.call(this)},setItems:function(c){this.clear();this.set("items",c);this._drawLabels()}});k.exports=g},function(k,f,d){var e=d(9);f=d(12).GroupBase;var g=function(c){g.superclass.constructor.call(this,c)};g.CFG={title:{},titleText:null,plotRange:null,_title:{text:" ",fill:"#333",textBaseline:"middle"},dx:0,dy:0,position:!0};e.extend(g,f);e.augment(g,{_initCfg:function(){g.superclass._initCfg.call(this);e.isNull(this.get("title"))&&this.set("titleText",null);this.deepSet("title")},_beforeRenderUI:function(){g.superclass._beforeRenderUI.call(this);var c=this.get("title");this.set("itemsGroup",this.addGroup());this.set("titleShape",this.addShape("Text",{attrs:c}))},_renderUI:function(){g.superclass._renderUI.call(this);this._renderTitle()},_renderTitle:function(){var c=this.get("titleShape"),a=this.get("titleText");c.attr({x:0,text:a})},setPosition:function(c){c=c?c:this.get("position");var a=this.get("plotRange");if(a){var b=a.tl,a=a.br,h=this.get("dx"),m=this.get("dy"),l=this.getBBBox().width,e=0,d=0;switch(c){case "top":e=b.x;d=b.y;break;case "left":e=b.x;d=(b.y+a.y)/2;break;case "right":e=a.x-l;d=(b.y+a.y)/2;break;case "bottom":e=(b.x+a.x)/2-l/2,d=a.y}this.move(e+h,d+m);this.set("position",c)}},getCount:function(){return this.get("itemsGroup").get("children").length},getLeaveCount:function(){var c=this.get("itemsGroup").get("children"),a=[];return a=e.filter(c,function(b){return b.get("checked")}),a.length},setItems:function(c){this.set("items",c);this.clearItems();this._renderUI()},addItem:function(c){this.get("items").push(c);this.clearItems();this._renderUI()},clearItems:function(){this.get("itemsGroup").clear()}});k.exports=g},function(k,f,d){var e=d(1);f=d(12);var g=d(48);d=f.GroupBase;var c=function(a){c.superclass.constructor.call(this,a)};c.CFG={type:"plotBack",margin:null,border:null,plotRange:null,background:null};e.extend(c,d);e.augment(c,{_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBorder();this._renderBackground()},_renderBorder:function(){var a,b=this.get("border"),h=this.get("canvas"),c=this.get("borderShape");if(b){var l=this.get("width")||h.get("width"),h=this.get("height")||h.get("height");c?c.attr({x:0,y:0,width:l,height:h}):(a=e.mix({x:0,y:0,width:l,height:h},b),c=this.addShape("Rect",{attrs:a}),this.set("borderShape",c))}},_renderBackground:function(){var a,b,h,c,l=this.get("background"),d=this.get("plotRange"),n=this.get("backShape");l&&(a=d.getWidth(),b=d.getHeight(),h=d.tl,c={x:h.x,y:h.y,width:a,height:b},n?n.attr(c):(l.image?(c.img=l.image,n=this.addShape("Image",{attrs:c})):(e.mix(c,l),n=this.addShape("Rect",{attrs:c})),this.set("backShape",n)))},_calculateRange:function(){var a,b;a=this.get("margin");var h=this.get("canvas");b=this.get("width")||h.get("width");var c=this.get("height")||h.get("height"),h=this.get("plotRange"),l=0,d=0,n=0,f=0;e.isNumber(a)&&(l=d=n=f=a);e.isArray(a)&&(l=a[0],n=e.isNull(a[1])?a[0]:a[1],f=e.isNull(a[2])?a[0]:a[2],d=e.isNull(a[3])?n:a[3]);a={x:d,y:c-f};b={x:b-n,y:l};h?h.reset(a,b):(h=new g(a,b),this.set("plotRange",h))},repaint:function(){return this._calculateRange(),this._renderBorder(),this._renderBackground(),this}});k.exports=c},function(k,f,d){f=d(122);k.exports=f},function(k,f,d){f=d(9);d=d(16).G.Group;var e=function(d){e.superclass.constructor.call(this,d);this._beforeRenderUI();this._renderUI();this._bindUI()};e.CFG={};f.extend(e,d);f.augment(e,{_beforeRenderUI:function(){this._initCfg()},_renderUI:function(){},_initCfg:function(){},_bindUI:function(){}});k.exports=e},function(k,f,d){f=d(37);var e=d(72),g=d(49),c=d(138),a=d(137),b=d(38),h=d(139),m=d(134),l=d(135);d=d(136);f.Cartesian=e;f.Rect=e;f.Polar=g;f.Theta=c;f.Rho=a;f.Plus=b;f.TriAngle=h;f.Clock=m;f.Gauge=l;f.Map=d;k.exports=f},function(k,f,d){var e=d(1);f=d(37);var g=function(c){var a={};e.mix(a,g.ATTRS,c);g.superclass.constructor.call(this,a);this._init()};g.ATTRS={start:{x:0,y:0},end:{x:0,y:0}};e.extend(g,f);e.augment(g,{type:"cartesian",isRect:!0,_init:function(){var c=this.get("start"),a=this.get("end"),b={start:c.y,end:a.y};this.set("x",{start:c.x,end:a.x});this.set("y",b)},convertPoint:function(c){var a=this.isTransposed?c.x:c.y;return{x:this.convertDim(this.isTransposed?c.y:c.x,"x"),y:this.convertDim(a,"y")}},invertPoint:function(c){var a=this.invertDim(c.x,"x");c=this.invertDim(c.y,"y");var b={};return b.x=this.isTransposed?c:a,b.y=this.isTransposed?a:c,b}});k.exports=g},function(k,f){k.exports={uniform:function(d){return 1>Math.abs(d)?.5:0},triangular:function(d){return 1>Math.abs(d)?1-Math.abs(d):0},epanechnikov:function(d){return 1>Math.abs(d)?.75*(1-d*d):0},quartic:function(d){return 1>Math.abs(d)?.9375*Math.pow(1-d*d,2):0},triweight:function(d){return 1>Math.abs(d)?1.09375*Math.pow(1-d*d,3):0},tricube:function(d){return 1>Math.abs(d)?70/81*Math.pow(1-Math.pow(Math.abs(d),3),3):0},gaussian:function(d){return 3>Math.abs(d)?1/Math.sqrt(2*Math.PI)*Math.exp(-.5*d*d):0},cosine:function(d){return 1>Math.abs(d)?Math.PI/4*Math.cos(Math.PI/2*d):0}}},function(k,f,d){var e=d(1);f=d(30);var g=d(2),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"tree",levels:0,totalValue:0,initDims:function(a){a.unshift("..y");a.unshift("..x")},getValueField:function(){return this.getDims()[3]||"_value"},getChildrenField:function(){return this.getDims()[2]},exec:function(a){var b=[];a=g.merge.apply(null,a);return b.push(this.execFrame(a)),b},_traverseNodes:function(a,b){var h,c=this;h=b?b._level+1:0;var l=c.getChildrenField(),d=c.getValueField();e.each(a,function(a){a._level=h;a.parent=b;var e=a[l];e?(c._traverseNodes(a[l],a),"_value"===d&&(a[d]=c.getTotalValue(e))):("_value"===d&&(a[d]=1),h+1>c.levels&&(c.levels=h+1))})},getNodeValue:function(a){var b=this.getValueField();return a[b]},getNodeRange:function(a,b,h){var c,l=a._level,e=this.levels,d=b.indexOf(a),g=a.parent,f=0,p=1,u=0;if(g?(c=this.getNodeValue(g),p=h.end.x-h.start.x,u=h.start.x):c=this.getTotalValue(b),0<d)f=b.slice(0,d),f=this.getTotalValue(f);a=this.getNodeValue(a);return{start:{x:f/c*p+u,y:l/e},end:{x:(f+a)/c*p+u,y:(l+1)/e}}},getTotalValue:function(a){var b=this.getValueField(),h=0;return e.each(a,function(a){h+=a[b]}),h},getStatObject:function(a,b){var h=e.mix({},a);return h["..x"]=(b.end.x+b.start.x)/2,h["..y"]=(b.end.y+b.start.y)/2,h},_extractData:function(a,b,h){var c=this,l=c.getChildrenField();e.each(a,function(e){var d=c.getNodeRange(e,a,h),g=c.getStatObject(e,d);b.push(g);e[l]&&c._extractData(e[l],b,d)})},execFrame:function(a){a=a.toJSON();var b=[];this._traverseNodes(a);this._extractData(a,b,0);return a=new g(b)}});k.exports=c},function(k,f,d){var e=d(1);f=d(43);var g=d(2),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{fractions:10,execFrame:function(a){var b=this;a=a.toJSON();e.each(a,function(a){b.toBin(a)});a=new g(a);return b.execQuantile(a)},getSplitArray:function(){for(var a=[],b=1/this.fractions,h=0;1>=h;h+=b)a.push(h);return a},execQuantile:function(a){var b=[],h=this.getDims(),c=h[h.length-1],h=h.slice(0,h.length-1);a=g.group(a,h);var l=this.getSplitArray();return e.each(a,function(a){var h=a.rowObject(0);h[c]=g.quantile(a,c,l);b.push(h)}),new g(b)}});k.exports=c},function(k,f,d){f=d(31);var e=d(1),g=d(2),c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{type:"density",bandWidth:.01,colRange:{},initDims:function(a){a.push("..density")},execFrame:function(a){return a},getWindowWidth:function(a,b){var h=g.max(a,b),c=g.min(a,b);return(h-c)*this.bandWidth},getCoordinate:function(a,b,h){var c=this.getDimRange(a,b);a=c.max;b=[];for(c=c.min;c<=a;c+=h)b.push(c);return b},getDimRange:function(a,b){var h=this.colRange[b];h||(h=g.range(a,b),h={min:h[0],max:h[1]});return h},setRange:function(a,b){this.colRange[a]=b}});k.exports=c},function(k,f,d){var e=d(1),g=d(2);k.exports={exec:function(c){var a=this;a.preExecute(c);this.stat&&(c=this.stat.exec(c));var b=[],h=g.merge.apply(null,c),m=a.getGroupCondition(),l=g.groupToMap(h,m);1<c.length?e.each(c,function(h){h=a.execFrame(h,l);b.push(h)}):(c=a.execFrame(c[0]),b.push(c));return b},execFrame:function(c,a){var b=this,h=b.getGroupCondition(),h=g.groupToMap(c,h),m=[],l=b.getStatDims()[0];return e.each(h,function(h,e){var d=b.transform(h,l,a?a[e]:c);m.push(d)}),g.merge.apply(null,m)}}},function(k,f,d){function e(a,b){a.sort(function(a,c){return a[b]-c[b]})}function g(a,b){var h=0;return c.each(a,function(a){h+=a[b]}),h}var c=d(1);f=function(a){c.mix(this,a);this.rect=this.rect||{x:0,y:0,dx:1,dy:1};this.init()};c.augment(f,{nodes:null,rect:null,valueField:"value",childrenField:"children",init:function(){var a=this,b=a.nodes,h=a.rect,m=a.valueField;e(b,m);c.each(b,function(b){a._traverse(b)});m=g(b,m);a.processNodes(b,h,m)},_traverse:function(a,b){var h=this;b=b||0;a.depth=b;var m=h.childrenField;a.parent||(a.parent=null);m=a[m];c.isArray(m)&&(e(m,h.valueField),c.each(m,function(c){c.parent=a;h._traverse(c,b+1)}))},getNodes:function(){return this.nodes},changeNodes:function(a){return this.nodes=a,this.init(),this},processNodes:function(){},pad:function(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}},position:function(a,b,h,c){var l,e=-1,d=a.length,g=h.x,f=h.y,p=b?a.area/b:0;if(b===h.dx){for((c||p>h.dy)&&(p=h.dy);++e<d;)l=a[e],l.x=g,l.y=f,l.dy=p,g+=l.dx=Math.min(h.x+h.dx-g,p?l.area/p:0);l.z=!0;l.dx+=h.x+h.dx-g;h.y+=p;h.dy-=p}else{for((c||p>h.dx)&&(p=h.dx);++e<d;)l=a[e],l.x=g,l.y=f,l.dx=p,f+=l.dy=Math.min(h.y+h.dy-f,p?l.area/p:0);l.z=!1;l.dy+=h.y+h.dy-f;h.x+=p;h.dx-=p}},scale:function(a,b){for(var h,c,l=-1,e=a.length,d=this.valueField;++l<e;)c=(h=a[l])[d]*(0>b?0:b),h.area=isNaN(c)||0>=c?0:c}});k.exports=f},function(k,f,d){function e(a){if(!a.__attrs&&a!==b){var c=a.superclass.constructor;c&&!c.__attrs&&e(c);a.__attrs={};g.mix(!0,a.__attrs,c.__attrs);g.mix(!0,a.__attrs,a.ATTRS)}}var g=d(5),c=d(13);f=d(226);var a=d(232);d=d(231);var b=function(a){this.__cfg={};var m=this.getDefaultCfg();g.mix(this.__cfg,b.CFG,m,a);this.__cfg.uuid=g.guid(c.prefix);e(this.constructor);this.initAttrs(this.__cfg.attrs);this.initTransform();this.initEventDispatcher();this.init()};b.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1};g.augment(b,f,a,d,{init:function(){},getDefaultCfg:function(){return{}},set:function(b,a){var c="__set"+g.ucfirst(b);return this[c]&&(a=this[c](a)),this.__cfg[b]=a,this},get:function(b){return this.__cfg[b]},beforeDraw:function(){},draw:function(){var b=this.get("context"),a=this.__attrs.clip;this.beforeDraw();this.get("visible")&&(b.save(),a&&(b.save(),a.resetTransform(),a.createPath(),b.restore(),b.clip()),this.resetAttrs(),this.resetTransform(),this.drawInner(),b.restore())},drawInner:function(){},show:function(){return this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},remove:function(b){if(void 0===b&&(b=!0),this.get("parent")){var a=this.get("parent").get("children");g.remove(a,this);this.set("parent",null)}return b&&this.destroy(),this},destroy:function(){if(!this.get("destroyed"))return this.__cfg={},this.__attrs=null,this.__listeners=null,this.__m=null,this.set("destroyed",!0),this},__setZIndex:function(b){return this.__cfg.zIndex=b,g.notNull(this.get("parent"))&&this.get("parent").sort(),b},__setAttrs:function(b){return this.attr(b),b},clone:function(){return g.clone(this)},getBBox:function(){return{minX:0,maxX:0,minY:0,maxY:0}}});k.exports=b},function(k,f,d){function e(a){e.superclass.constructor.call(this,a);this.set("children",[])}var g=d(5);f=d(79);var c=(d(7),d(3)).Vector3;g.extend(e,f);g.augment(e,{isGroup:!0,canFill:!0,canStroke:!0,remove:function(a,b){if(2<=arguments.length)this.contain(a)&&a.remove(b);else{if(1===arguments.length){if(!g.isBoolean(a))return this.contain(a)&&a.remove(!0),this;b=a}0===arguments.length&&(b=!0);e.superclass.remove.call(this,b)}return this},add:function(a){var b=this,c=b.get("children");g.isArray(a)?(g.each(a,function(a){a.get("parent")&&a.get("parent").remove(a,!1);b.__setEvn(a)}),c.push.apply(c,a)):(a.get("parent")&&a.get("parent").remove(a,!1),b.__setEvn(a),c.push(a));return b},contain:function(a){for(var b=this.get("children"),c=0,e=b.length;c<e;c++)if(b[c]===a)return!0;return!1},__setEvn:function(a){a.set("parent",this);a.set("context",this.get("context"));var b=a.__attrs.clip;b&&(b.set("parent",this),b.set("context",this.get("context")));a.set("canvas",this.get("canvas"));g.each(a.get("children"),function(b){a.__setEvn(b)})},getBBox:function(){var a=1/0,b=-(1/0),h=1/0,e=-(1/0),l=this.get("children");return g.each(l,function(l){if(l.get("visible")){var d=l.getBBox("box");if(!d)return!0;var g=new c(d.minX,d.minY,1),f=new c(d.minX,d.maxY,1),p=new c(d.maxX,d.minY,1),d=new c(d.maxX,d.maxY,1);l.apply(g);l.apply(f);l.apply(p);l.apply(d);l=Math.min(g.x,f.x,p.x,d.x);var u=Math.max(g.x,f.x,p.x,d.x),q=Math.min(g.y,f.y,p.y,d.y),g=Math.max(g.y,f.y,p.y,d.y);l<a&&(a=l);u>b&&(b=u);q<h&&(h=q);g>e&&(e=g)}}),{minX:a,minY:h,maxX:b,maxY:e}},drawInner:function(){var a=this.get("children");return g.each(a,function(b){b.draw()}),this},getCount:function(){return this.get("children").length},sort:function(){return this.get("children").sort(function(a,b){return a.get("zIndex")-b.get("zIndex")}),this},find:function(a){return this.findBy(function(b){return b.get("id")===a})},findBy:function(a){var b=this.get("children"),c=null;return g.each(b,function(b){if(a(b)?c=b:b.findBy&&(c=b.findBy(a)),c)return!1}),c},getShape:function(a,b){function c(){for(var h=d.length-1;0<=h;h--){var l=d[h];if(l.get("visible")&&l.get("capture")&&(l.isGroup?e=l.getShape(a,b):l.isHit(a,b)&&(e=l)),e)break}}var e,l=this.__attrs.clip,d=this.get("children");return l?l.inside(a,b)&&c():c(),e},clear:function(){for(var a=this.get("children");0!==a.length;)a[a.length-1].remove();return this},destroy:function(){this.get("destroyed")||(this.clear(),e.superclass.destroy.call(this))}});k.exports=e},function(k,f,d){function e(b,a,h){b=b.match(t);c.each(b,function(b){b=b.split(":");var c=g(b[1],h);a.addColorStop(b[0],c)})}function g(a,c){if(void 0===c)return a;a=new b(a);a.multiplyA(c);var h=a.getType();return"hsl"===h?a.getHSLStyle():"rgb"===h?a.getRGBStyle():void 0}var c=d(5),a=d(4),b=d(36),h=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,m=/[^\s\,]+/gi,l=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,w=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/^p\s*([axyn])\s+(.*)/i,t=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;k.exports={parsePath:function(b){return b=b||[],c.isArray(b)?b:c.isString(b)?(b=b.match(h),c.each(b,function(a,h){if(a=a.match(m),1<a[0].length){var l=a[0].charAt(0);a.splice(1,0,a[0].substr(1));a[0]=l}c.each(a,function(b,c){isNaN(b)||(a[c]=+b)});b[h]=a}),b):void 0},parseStyle:function(b,h,m){var d,f,t,k;if(c.isString(b)){if(l.test(b)){b=l.exec(b);var v=a.mod(a.degreeToRad(parseFloat(b[1])),2*Math.PI);b=b[2];f=h.getBBox();0<=v&&v<.5*Math.PI?(t=f.minX,k=f.minY,d=f.maxX,f=f.maxY):.5*Math.PI<=v&&v<Math.PI?(t=f.maxX,k=f.minY,d=f.minX,f=f.maxY):(Math.PI<=v&&v<1.5*Math.PI?(t=f.maxX,k=f.maxY,d=f.minX):(t=f.minX,k=f.maxY,d=f.maxX),f=f.minY);var A=Math.tan(v),y=A*A,v=(d-t+A*(f-k))/(y+1)+t;d=A*(d-t+A*(f-k))/(y+1)+k;h=h.get("context").createLinearGradient(t,k,v,d);m=(e(b,h,m),h)}else if(w.test(b))d=w.exec(b),b=parseFloat(d[1]),t=parseFloat(d[2]),k=parseFloat(d[3]),d=d[4],f=h.getBBox(),h=h.get("context"),v=f.maxX-f.minX,A=f.maxY-f.minY,h=h.createRadialGradient(f.minX+v*b,f.minY+A*t,k,f.minX+v/2,f.minY+A/2,Math.sqrt(v*v+A*A)/2),m=(e(d,h,m),h);else if(n.test(b)){b=n.exec(b);m=b[1];b=b[2];switch(m){case "a":m="repeat";break;case "x":m="repeat-x";break;case "y":m="repeat-y";break;case "n":m="no-repeat";break;default:m="no-repeat"}b=document.getElementById(b);m=h.get("context").createPattern(b,m)}else m=g(b,m);return m}}}},function(k,f,d){var e=d(3).Vector2;k.exports={at:function(e,c,a){return(c-e)*a+e},pointDistance:function(d,c,a,b,h,m){a=new e(a-d,b-c);if(a.isZero())return NaN;a=a.vertical();a.normalize();d=new e(h-d,m-c);return Math.abs(d.dot(a))},box:function(e,c,a,b,h){h/=2;return{minX:Math.min(e,a)-h,minY:Math.min(c,b)-h,maxX:Math.max(e,a)+h,maxY:Math.max(c,b)+h}}}},function(k,f,d){var e=d(1);f=d(84);var g=d(2),c=d(33);d=function b(c){b.superclass.constructor.call(this,c)};e.extend(d,f);e.augment(d,{dims:[],cols:5,rows:null,drawTitles:function(b,c){var m=this,l=m.dims;e.each(b,function(b){m.drawFacetTitle("col",b,c)});m.drawDimTitle("col",l[0],c)},getRegion:function(b,c,e,l){var d=this.plotRange,n=this.margin,g=d.tl,d=d.br;c=(d.x-g.x)/c;b=(d.y-g.y)/b;e={x:g.x+c*e,y:g.y+b*(l+1)-n};return{start:e,end:{x:e.x+c-n,y:e.y-b+n}}},generateFacets:function(b){var h=this,m=h.dims[0];if(!m)throw Error("Please specify for the field for facet!");var l=h.getDimValues(m,b),d=l.length,n=h.cols,f=parseInt((d+n-1)/n,10),r=[],p=0;return e.each(l,function(e,q){var k=parseInt(q/n,10),z=q%n,x=h.getFilter([{dim:m,value:e,values:l}]),x=g.filter(b,x),k=new c({type:h.type,count:d,xValue:e,xDim:m,yValue:e,yDim:m,colIndex:z,rowIndex:k,cols:n,rows:f,frame:x,region:h.getRegion(f,n,z,k),index:p++});r.push(k)}),r}});k.exports=d},function(k,f,d){var e=d(1),g=d(2);f=d(44);var c=d(33);d=function b(c){b.superclass.constructor.call(this,c)};e.extend(d,f);e.augment(d,{dims:[],defs:{},type:"rect",plotRange:null,drawTitles:function(b,c){if(!(1>=b.length)){var m=this,l=b[0];e.each(b,function(b){0<b.cols&&b.rowIndex===b.rows-1&&m.drawFacetTitle("col",b,c);0<b.rows&&b.colIndex===b.cols-1&&m.drawFacetTitle("row",b,c)});l&&(1<l.cols&&m.drawDimTitle("col",l.xDim,c),1<l.rows&&m.drawDimTitle("row",l.yDim,c))}},getRegion:function(b,c,e,l){var d=this.plotRange,n=1===b&&1===c?0:this.margin,g=d.bl,d=d.tr;c=(d.x-g.x)/c;b=(d.y-g.y)/b;e={x:g.x+c*e,y:g.y+b*l-n};return{start:e,end:{x:e.x+c-n,y:e.y+b+n}}},generateFacets:function(b){var h=this,m=h.dims,l=[],d=1,n=1,f=m[0],r=m[1],p=[""],k=[""];f&&(p=h.getDimValues(f,b),n=p.length);r&&(k=h.getDimValues(r,b),d=k.length);var q=0;return e.each(p,function(m,z){e.each(k,function(e,v){var A=h.getFilter([{dim:f,value:m,values:p},{dim:r,value:e,values:k}]),A=g.filter(b,A),A=new c({type:h.type,xValue:m,yValue:e,xDim:f,yDim:r,colIndex:z,rowIndex:v,cols:n,rows:d,frame:A,region:h.getRegion(d,n,z,v),index:q++});l.push(A)})}),l}});k.exports=d},function(k,f,d){f={Point:d(289),Path:d(57),Line:d(88),Interval:d(281),Area:d(278),Polygon:d(290),Schema:d(291),Heatmap:d(280),Contour:d(279)};k.exports=f},function(k,f,d){var e=d(1);f=d(87);var g=d(24);d=function a(b){a.superclass.constructor.call(this,b)};e.extend(d,f);e.augment(d,{getPointRauis:function(a,b){return g.getPointRadius(a,b)},getCirclePoint:function(a,b,h){var e=this.get("coord"),l=e.getCenter();h=this.getPointRauis(e,h);e.isTransposed&&h>b?a+=2*Math.asin(b/(2*h)):h+=b;return{x:l.x+h*Math.cos(a),y:l.y+h*Math.sin(a),angle:a,r:h}},getArcPoint:function(a,b){var h;return b=b||0,h=e.isArray(a.x)||e.isArray(a.y)?{x:e.isArray(a.x)?a.x[b]:a.x,y:e.isArray(a.y)?a.y[b]:a.y}:a,this.transLabelPoint(h),h},getPointAngle:function(a){var b=this.get("coord");return g.getPointAngle(b,a)},getMiddlePoint:function(a){var b=this.get("coord"),h=a.length,m={x:0,y:0};return e.each(a,function(b){m.x+=b.x;m.y+=b.y}),m.x/=h,m.y/=h,m=b.convert(m)},_isToMiddle:function(a){return 2<a.x.length},getLabelPoint:function(a,b,h){var e,l=a[h],d=1;this._isToMiddle(b)?e=this.getMiddlePoint(b.points):(1===a.length&&0===h?h=1:0===h&&(d=-1),e=this.getArcPoint(b,h));a=this.getDefaultOffset();a*=d;d=this.getPointAngle(e);e=this.getCirclePoint(d,a,e);return e.text=l,e.angle=d,e.color=b.color,e.rotate=this.getLabelRotate(d,a,b),e},_isEmitLabels:function(){return this.get("labels").labelEmit},getLabelRotate:function(a){var b;return b=180*a/Math.PI,b+=90,this._isEmitLabels()&&(b-=90),b&&(90<b?b-=180:-90>b&&(b+=180)),b},getLabelAlign:function(a){var b=this.get("coord");if(b.isTransposed){var b=b.getCenter(),h=this.getDefaultOffset();a=1>Math.abs(a.x-b.x)?"middle":a.angle>Math.PI||0>=a.angle?0<h?"start":"end":0<h?"end":"start"}else a="middle";return a}});k.exports=d},function(k,f,d){function e(b){var a=0;return c.each(b,function(b){a+=b}),a/b.length}var g=d(11);f=g.Components.Labels;var g=g.Group,c=d(1),a=d(6),b=["line","point","path"],h=function l(b){l.superclass.constructor.call(this,b)};h.CFG={labels:a.labels,labelsCfg:null,coord:null,geomType:null,zIndex:6};c.extend(h,g);c.mixin(h,[f.ShowLabels]);c.augment(h,{_renderUI:function(){h.superclass._renderUI.call(this);this.initLabelsCfg();this.renderLabels()},initLabelsCfg:function(){var b=this.getDefaultLabelCfg(),a=this.get("labelsCfg");c.mix(!0,b,a);this.set("labels",b)},getDefaultLabelCfg:function(){var h=this.get("labelsCfg"),e=this.get("geomType");return"polygon"===e||h&&0>h.offset&&-1===c.indexOf(b,e)?c.mix(!0,{},a.innerLabels):this.get("labels")},getLabelsItems:function(b){var a=this,h=[],e=a.get("labels");return c.each(b,function(b){var l=b.label;c.isArray(l)||(l=[l]);var d=l.length;c.each(l,function(g,f){var k=a.getLabelPoint(l,b,f);if(k){var k=c.mix({},b._origin,k),x;x=e&&e.label&&e.label["text-anchor"]?e.label["text-anchor"]:a.getLabelAlign(k,f,d);k["text-anchor"]=x;h.push(k)}})}),h},adjustItems:function(b){return b},drawLines:function(){},getLabelPoint:function(b,a,h){function d(a,h){return c.isArray(a)&&(a=1===b.length?2>=a.length?a[a.length-1]:e(a):a[h]),a}a={x:d(a.x,h),y:d(a.y,h),text:b[h]};h=this.getLabelOffset(a,h,b.length);return this.transLabelPoint(a),a.x+=h.x,a.y+=h.y,a},transLabelPoint:function(b){var a=this.get("coord").trans(b.x,b.y,1);b.x=a.x;b.y=a.y},getOffsetVector:function(){var b=this.get("labels").offset||0,a=this.get("coord");return a.isTransposed?a.trans(b,0):a.trans(0,b)},getDefaultOffset:function(){var b=this.get("coord"),a=this.getOffsetVector();return b.isTransposed?a.x:a.y},getLabelOffset:function(b,a,c){b=this.getDefaultOffset();var h=this.get("coord").isTransposed,e=h?"x":"y",h=h?1:-1,d={x:0,y:0};return 0<a||1===c?d[e]=b*h:d[e]=b*h*-1,d},getLabelAlign:function(b,a,c){b="middle";this.get("coord").isTransposed&&(b=this.getDefaultOffset(),b=0>b?"end":0===b?"middle":"start",1<c&&0===a&&("end"===b?b="start":"start"===b&&(b="end")));return b},showLabels:function(b){b=this.getLabelsItems(b);var a=this.get("labels");b=this.adjustItems(b);this.resetLabels(b);a.labelLine&&this.drawLines(b,a.labelLine)},destroy:function(){this.removeLabels();h.superclass.destroy.call(this)}});k.exports=h},function(k,f,d){var e=d(1);f=d(57);d=function c(a){c.superclass.constructor.call(this,a)};d.ATTRS={type:"line"};e.extend(d,f);e.augment(d,{framePreprocess:function(c){var a=this,b=[];return e.each(c,function(c){b.push(a.sortFrame(c))}),b}});k.exports=d},function(k,f){function d(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e}var e=/rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;k.exports={toRGB:function(){var g;return document.body&&(g=d()),function(c){g||(g=d());g.style.color=c;c=document.defaultView.getComputedStyle(g,"").getPropertyValue("color");c=e.exec(c);return c.shift(),this.arr2rgb(c)}}(),toHex:function(e){return e=Math.round(e),e=e.toString(16),1===e.length&&(e="0"+e),e},hsl2Rgb:function(e){var c=e[0],a=e[1],b=e[2];if(0===a)a=b=c=b;else{e=function(b,a,c){return 0>c&&(c+=1),1<c&&--c,c<1/6?b+6*(a-b)*c:.5>c?a:c<2/3?b+6*(a-b)*(2/3-c):b};var h=.5>=b?b*(1+a):b+a-b*a,m=2*b-h,a=e(m,h,c+1/3),b=e(m,h,c),c=e(m,h,c-1/3)}return a=Math.min(Math.round(255*a),255),b=Math.min(Math.round(255*b),255),c=Math.min(Math.round(255*c),255),"#"+this.toHex(a)+this.toHex(b)+this.toHex(c)},rgb2hsl:function(e){var c,a,b,h=this.rgb2arr(e);e=h[0]/255;var m=h[1]/255,h=h[2]/255,l=Math.min(e,m,h),d=Math.max(e,m,h),n=d-l;return d==l?c=0:e==d?c=(m-h)/n:m==d?c=2+(h-e)/n:h==d&&(c=4+(e-m)/n),c=Math.min(60*c,360),0>c&&(c+=360),b=(l+d)/2,a=d==l?0:.5>=b?n/(d+l):n/(2-d-l),[c/360,a,b]},arr2rgb:function(e){return"#"+this.toHex(e[0])+this.toHex(e[1])+this.toHex(e[2])},rgb2arr:function(e){var c=[];return c.push(parseInt(e.substr(1,2),16)),c.push(parseInt(e.substr(3,2),16)),c.push(parseInt(e.substr(5,2),16)),c}}},function(k,f,d){var e=d(1),g=function(c,a){this.data=c;for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.initFrame()};g.prototype={isFrame:!0,initFrame:function(){var c=this.data,a=this.colNames(),b=this.arr;if(e.isArray(c[0])&&(b=this.arr=c),!b){for(var b=[],h=0;h<a.length;h++){for(var m=[],l=a[h],d=0;d<c.length;d++)m.push(c[d][l]);b.push(m)}this.arr=b}},contains:function(c){var a=this.colNames();return-1!==e.indexOf(a,c)},colNames:function(){var c=this.names;if(!c){var a=this.data[0];if(c=[],a)for(var b in a)a.hasOwnProperty(b)&&c.push(b);this.names=c}return c},rowCount:function(){var c=this.arr;return c&&c.length?c[0].length:0},colCount:function(){var c=this.colNames();return c?c.length:0},colIndex:function(c){return e.indexOf(this.names,c)},colArray:function(c){return this.col(c).toArray()[0]},colReplace:function(c,a){var b=this.arr,h=this.colNames();e.isString(c)&&(c=e.indexOf(h,c));return b[c]=a,this},each:function(c){for(var a=this.rowCount(),b=0;b<a;b++){var h=this._getObject(b);c(h,b)}return this},row:function(c){var a=this.colNames(),b=[];return b.push(this._getObject(c,a)),new g(b,{names:a.slice(0)})},rowObject:function(c){return this._getObject(c)},_getObject:function(c,a){var b=this.arr,h={};a=a||this.colNames();for(var e=0;e<a.length;e++)h[a[e]]=b[e][c];return h},rows:function(c){var a=this.colNames(),b=[];if(this.data)for(var h=0;h<c.length;h++)b.push(this._getObject(h,a));return new g(b,{names:a.slice(0)})},_getColArray:function(c,a,b){var h=this.arr,m=this.colNames(),l=[],d=this.rowCount();c=e.map(c,function(b){return e.indexOf(m,b)});a=a||0;b=null===b||void 0===b?d:b;for(d=0;d<c.length;d++){var n=(h[c[d]]||[]).slice(a,b);l.push(n)}return l},col:function(c){var a,b=this.colNames();e.isString(c)?(a=c,e.indexOf(b,a)):a=b[c];c=this._getColArray([a]);return new g(c,{names:[a]})},addCol:function(c,a){if(e.isFunction(a)){var b=a;a=[];this.each(function(c,e){var l=b(c,e);a.push(l)})}this.names.push(c);this.arr.push(a)},cols:function(c){for(var a=0;a<c.length;a++){var b=c[a];e.isNumber(b)&&(c[a]=this.names[b])}a=this._getColArray(c);return new g(a,{names:c})},cell:function(c,a){var b=this.colNames(),h=this.arr;return e.isString(a)&&(a=e.indexOf(b,a)),h[a]?h[a][c]:void 0},toArray:function(){return this.arr},toJSON:function(){for(var c=this.rowCount(),a=[],b=0;b<c;b++)a.push(this._getObject(b));return a},sub:function(c,a,b,h){var e,l=this.colNames();return c=c||0,a?a+=1:a=void 0,l=l.slice(c,a),null===b||void 0===b||(h?h+=1:h=this.rowCount-1),e=this._getColArray(l,b,h),new g(e,{names:l})},toString:function(){var c=[],a=this.arr,b=this.colNames(),h=this.rowCount();c.push(b.join("\t"));for(b=0;b<h;b++){for(var e=[],l=0;l<a.length;l++)e.push(a[l][b]);c.push(e.join("\t"))}return c.join("\n")},s:function(){return this.toString()}};k.exports=g},function(k,f,d){function e(b,a,c,e){return b[e]+(a[e]-b[e])*c}var g=d(60),c=d(1),a={calColor:function(b,a,c){var l,d=b.length-1,n=Math.floor(d*a);a=d*a-n;var f=b[n];b=n===d?f:b[n+1];return"hsl"===c?l=g.hsl2Rgb([e(f,b,a,0),e(f,b,a,1),e(f,b,a,2)]):(l={r:e(f,b,a,0),g:e(f,b,a,1),b:e(f,b,a,2)},l="#"+g.toHex(l.r)+g.toHex(l.g)+g.toHex(l.b)),l},lightness:function(b,c){c=c||0;return a.calColor([[c,1,.9],[c,1,.5]],b,"hsl")},red:function(b){return this.lightness(b,0)},blue:function(b){return this.lightness(b,.66)},green:function(b){return this.lightness(b,.33)},gradient:function(b){var h=[];return c.isString(b)&&(b=b.split("-")),c.each(b,function(b){-1===b.indexOf("#")&&(b=g.toRGB(b));h.push(g.rgb2arr(b))}),function(b){return a.calColor(h,b)}},gradientHsl:function(b){var h=[];return c.isString(b)&&(b=b.split("-")),c.each(b,function(b){-1===b.indexOf("#")&&(b=g.toRGB(b));h.push(g.rgb2hsl(b))}),function(b){return a.calColor(h,b,"hsl")}},saturation:function(b,c){c=c||0;return a.calColor([[c,0,.5],[c,1,.5]],b,"hsl")},hue:function(b){return a.calColor([[0,1,.5],[1,1,.5]],b,"hsl")},brightness:function(b){return a.calColor([[255,255,255],[0,0,0]],b)},heat:function(b){return a.calColor([[255,255,255],[255,127.5,0],[0,0,0]],b)},rainbow:function(b){return a.calColor([[0,255,255],[0,0,255],[0,255,0],[255,0,0]],b)},circular:function(b){return a.calColor([[0,0,255],[0,255,0],[255,255,0],[255,0,0],[0,0,255]],b)},bipolar:function(b){return a.calColor([[0,255,0],[0,0,0],[255,0,0]],b)}};k.exports=a},function(k,f,d){f=d(93);f.Group=d(94);k.exports=f},function(k,f,d){f=d(1);d=function(){};d.ATTRS={actived:!1};f.augment(d,{isActived:function(){return this.get("actived")},setActived:function(){this.setActiveStatus(!0);this.set("actived",!0)},setActiveStatus:function(){},clearActived:function(){this.setActiveStatus(!1);this.set("actived",!1);this.clearActivedItem&&this.clearActivedItem()}});k.exports=d},function(k,f,d){var e=d(1);f=function(){};f.ATTRS={multipleActive:!1};e.augment(f,{isItemActived:function(e){return e.isActived()},getActiveItems:function(){return this.get("children")},setItemActived:function(e,c){c?e.setActived():e.clearActived()},onActived:function(e){this.fire("itemactived",{item:e});this.fireUpGroup&&this.fireUpGroup("actived",e)},onUnActived:function(e){this.fire("itemunactived",{item:e});this.fireUpGroup&&this.fireUpGroup("unactived",e)},setActivedItem:function(e){this.get("multipleActive")||this.clearActivedItem();e&&!this.isItemActived(e)&&(this.setItemActived(e,!0),this.onActived(e))},getActived:function(){var d=this,c=d.getActiveItems(),a=null;return e.each(c,function(b){if(d.isItemActived(b))return a=b,!1}),a},getAllActived:function(){var d=this,c=d.getActiveItems(),a=[];return e.each(c,function(b){d.isItemActived(b)&&a.push(b)}),a},clearAllActived:function(){var d=this,c=d.getAllActived();return e.each(c,function(a){d.setItemActived(a,!1);d.onUnActived(a)}),this},clearActivedItem:function(e){return e=e||this.getActived(),e&&(this.setItemActived(e,!1),this.onUnActived(e)),this}});k.exports=f},function(k,f,d){f=d(98);k.exports=f},function(k,f,d){f=d(15);var e=d(1),g=function(c){g.superclass.constructor.call(this,c)};g.ATTRS={_circle:{center:{x:0,y:0},r:0,startAngle:-Math.PI/2,endAngle:1.5*Math.PI}};e.extend(g,f);e.augment(g,{getInitAttrs:function(){var c=this.get("_circle"),a=this.getCircleInfo(),b=a.center,a=e.mix(c,a);return{x:b.x,y:b.y,rs:0,re:a.r+100,startAngle:a.startAngle/Math.PI*180,endAngle:a.startAngle/Math.PI*180}},getEndAttrs:function(){var c=this.get("_circle"),a=this.getCircleInfo(),a=e.mix(c,a);return{endAngle:a.endAngle/Math.PI*180}},getTarget:function(){var c=this.get("group"),a=c.getParent().addShape("Fan");return c.attr("clip",a),a}});k.exports=g},function(k,f,d){f=d(15);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{getInitAttrs:function(){var e=this.getCircleInfo().center;return{x:e.x,y:e.y,r:0}},getEndAttrs:function(){return{r:this.getCircleInfo().r+150}},getTarget:function(){var e=this.get("group"),c=e.getParent().addShape("Circle");return e.attr("clip",c),c}});k.exports=e},function(k,f,d){f=d(15);var e=d(96),g=d(97),c=d(102),a=d(101),b=d(100),h=d(99);d=d(103);f.angle=e;f.circle=g;f.waveh=c;f.scaleXY=a;f.scaleY=b;f.scaleX=h;f.waves=d;k.exports=f},function(k,f,d){f=d(15);var e=d(1),g=d(11).Matrix.Matrix3,c=e.MatrixUtil,a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{getInitMatrix:function(){var b=this.get("rect"),a=this.getRectCenter(b),e=new g;return c.scale(e,.01,1,a.x-b.width/2,b.y)},getAnimMatrix:function(){var b=this.get("rect"),a=this.getRectCenter(b),e=new g;return c.scale(e,1,1,a.x-b.width/2,b.y)}});k.exports=a},function(k,f,d){f=d(15);var e=d(1),g=d(11).Matrix.Matrix3,c=e.MatrixUtil,a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{getInitMatrix:function(){var b=this.get("rect"),a=this.getRectCenter(b),e=new g;return c.scale(e,1,-.01,a.x,b.y+b.height)},getAnimMatrix:function(){var b=this.get("rect"),a=this.getRectCenter(b),e=new g;return c.scale(e,1,1,a.x,b.y+b.height)}});k.exports=a},function(k,f,d){f=d(15);var e=d(1),g=d(11).Matrix.Matrix3,c=e.MatrixUtil,a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{getInitMatrix:function(){var b=this.get("rect"),b=this.getRectCenter(b),a=new g;return c.scale(a,.01,.01,b.x,b.y)},getAnimMatrix:function(){var b=this.get("rect"),b=this.getRectCenter(b),a=new g;return c.scale(a,1,1,b.x,b.y)}});k.exports=a},function(k,f,d){f=d(61);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{getInitAttrs:function(){var e=this.get("rect");return{x:e.x,y:e.y,width:e.width,height:0}}});k.exports=e},function(k,f,d){f=d(61);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{getInitAttrs:function(){var e=this.get("rect");return{x:e.x,y:e.y,width:0,height:e.height}}});k.exports=e},function(k,f,d){function e(b){return null===b||void 0===b}function g(b,a,c){c=c||p;var h=c!==p,e=1;0>b&&(e=-1);b*=e;var l;l=b;var m=1;if(!(1E-6>l)){for(;10<l;)m*=10,l/=10;for(;1>l;)m/=10,l*=10}l=m;e*=l;b/=l;if(h){h=a=b;for(l=1;l<c.length;l++){m=c[l];if(m>b){a=m;break}h=m}c=Math.abs(h-b)<Math.abs(a-b)?h:a}else c=a&&0<e?r.snapFloor(c,b):r.snapCeiling(c,b);return b=c,b*e}function c(b,a,c){var h;return h=c?Math.ceil(b/a,10):Math.floor(b/a,10),h*a}function a(b,a){var c=[];return a?n.isArray(b[0])&&n.each(b[0],function(a,h){for(var e=a,l=1;l<b.length;l++)e+=b[l][h];c.push(e)}):n.each(b,function(b){n.isArray(b)?c=c.concat(b):c.push(b)}),c}function b(b,c,h){b=a(b,h);c&&(b=n.map(b,c));c=b[0];h=b[0];for(var e=b.length,l=1;l<e;l++){var m=b[l];c<m&&(c=m);h>m&&(h=m)}return h===c&&(0<h?h=0:c=0),{max:c,min:h}}function h(b){return b=new Date(b),t.getDate(b).getTime()}function m(b){b=new Date(b);var a=t.getDate(b);return a<b&&(a=t.addDay(1,a)),a.getTime()}function l(b){return(new Date(b)).getFullYear()}function w(b,a){var c=l(b),h=l(a),e=(new Date(b)).getMonth(),m=(new Date(a)).getMonth();return 12*(h-c)+(m-e)%12}var n=d(1),t=d(39),r=d(4),p=[0,1,1.5,2,2.5,3,4,5,6,8,10],u=[0,1,2,4,5,10],q=[1,2,4,6,8,12];f={caculate:function(a,h){var l,m=a.min,d=a.max,w=a.data,f=a.interval,t=[],r=a.minCount||5,p=a.maxCount||7,k=(r+p)/2;h&&"percent"===h&&(m=0,d=100,f=25);var q;(e(m)||e(d)||e(f))&&(q=b(w,null,!1),e(d)&&(d=q.max+.05*(q.max-q.min)),e(m)&&(m=q.min),d===m&&(d=m+1,--m,n.isNull(a.max)||(m=a.max-1),n.isNull(a.min)||(d=a.min+1),f=1),e(f))&&(f=g((d-m)/k,!0,u),l=parseInt((d-m)/f,10),l>p&&(l=p),l<r&&(l=r),f=g((d-m)/l,!0,u),d=c(d,f,!0),m=c(m,f),l=Math.round((d-m)/f));e(l)&&(d=c(d,f,!0),m=c(m,f),l=Math.round((d-m)/f));m=n.fixedBase(m,f);e(m)||t.push(m);for(w=1;w<=l;w++)t.push(n.fixedBase(f*w+m,f));return{min:m,max:n.fixedBase(d,f),interval:f,count:l,ticks:t,info:q}},Time:{}};f.Time.caculate=function(a){var c,d=a.min,g=a.max;c=a.data;var f=a.interval,t=[],p={};if(e(d)||e(g)||e(f)){if(p=b(c,function(b){return n.isDate(b)&&(b=b.getTime()),n.isString(b)&&(b=b.replace(/-/gi,"/"),b=new Date(b)),b}),e(g)&&(g=p.max),e(d)&&(d=p.min),864E5<g-d&&(d=h(d),g=m(g)),g===d)throw"max not  equal to min";if(e(f)){f=parseInt((g-d)/(a.maxCount||8));a=f/31536E6;var k=l(d);if(.51<a){c=Math.ceil(a);f=31536E6*c;f=l(g);for(a=k;a<=f+c;a+=c)t.push((new Date(a,0,1)).getTime());f=null}else if(.0834<a){c=l(d);var u=Math.floor(a/.0834),f=(new Date(d)).getMonth();c=w(d,g);for(a=0;a<=c+u;a+=u)t.push((new Date(k,a+f,1)).getTime());f=null}else if(432E5<f){a=new Date(d);c=a.getFullYear();var u=a.getMonth(d),I=a.getDate(),k=Math.ceil(f/864E5),E=Math.ceil((g-d)/864E5),f=864E5*k;for(a=0;a<E+k;a+=k)t.push((new Date(c,u,I+a)).getTime())}else if(36E5<f){a=new Date(d);c=a.getFullYear();var u=a.getMonth(d),k=a.getDate(),I=a.getHours(),E=r.snapTo(q,Math.ceil(f/36E5)),G=Math.ceil((g-d)/36E5),f=36E5*E;for(a=0;a<=G+E;a+=E)t.push((new Date(c,u,k,I+a)).getTime())}else if(6E4<f)for(c=Math.ceil((g-d)/6E4),u=Math.ceil(f/6E4),f=6E4*u,a=0;a<=c+u;a+=u)t.push(d+6E4*a);else for(1E3>f&&(f=1E3),d=1E3*Math.floor(d/1E3),c=Math.ceil((g-d)/1E3),u=Math.ceil(f/1E3),f=1E3*u,a=0;a<c+u;a+=u)t.push(d+1E3*a)}}if(!t.length)for(d=1E3*Math.floor(d/1E3),g=1E3*Math.ceil(g/1E3),c=(g-d)/f,a=0;a<=c;a++)t.push(n.fixedBase(f*a+d,f));return{max:p.max||g,min:p.min||d,interval:f,ticks:t,count:t.length}};f.Category={};f.Category.caculate=function(b){var c={},h=[],e=b.maxCount||7,l=a(b.data);if(l.length<e)h=[].concat(l);else{b=l.length;var m=parseInt(b/(e-1),10),d=l.map(function(b,a){return 0===a%m?l.slice(a,a+m):null}).filter(function(b){return b});h.push(l[0]);for(var n=1;n<d.length&&n<e-1;n++)h.push(d[n][0]);h.push(l[b-1])}return c.categories=l,c.ticks=h,c};k.exports=f},function(k,f,d){function e(a){if(!a._attrs&&a!==g){var b=a.superclass.constructor;b&&!b._attrs&&e(b);a._attrs={};c.mix(!0,a._attrs,b._attrs);c.mix(!0,a._attrs,a.ATTRS)}}var g,c=d(1);g=function(a){e(this.constructor);this._attrs={};this.events={};var b=this.getDefaultCfg();c.mix(this._attrs,b,a)};c.augment(g,{getDefaultCfg:function(){return c.mix(!0,{},this.constructor._attrs)},set:function(a,b){var h="_onRender"+c.ucfirst(a);return this[h]&&this[h](b,this._attrs[a]),this._attrs[a]=b,this},get:function(a){return this._attrs[a]},on:function(a,b){var c=this.events,e=c[a];return e||(e=c[a]=[]),e.push(b),this},fire:function(a,b){var h=this.events[a];h&&c.each(h,function(a){a(b)})},off:function(a,b){var h=this.events[a];return a?(h&&c.remove(h,b),this):(this.events={},this)},destroy:function(){return this.destroyed?this:(this._attrs={},this.events={},void(this.destroyed=!0))}});k.exports=g},function(k,f,d){var e=d(27);f=d(21);var g=f.Shape.superclass.constructor,c=f.Canvas;d=d(63);e.mixin(g,[d.GMixin]);e.mixin(f.Group,[d.GroupMixin]);var a=function(b){a.superclass.constructor.call(this,b)};a.CFG={width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null};e.extend(a,c);e.augment(a,{init:function(){a.superclass.constructor.superclass.init.call(this);this._setGlobalParam();this._setDOM();this._setInitSize();this._setCanvas();this._scale()},_scale:function(){var b=this.get("pixelRatio");this.scale(b,b)},_setCanvas:function(){var b=this.get("canvasDOM");this.set("el",b);this.set("context",b.getContext("2d"));this.set("canvas",this);this.__events()},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",e.getRatio())},_setDOM:function(){this._setContainer();this._setLayer()},_setContainer:function(){var b=this.get("containerId"),a=this.get("containerDOM");a||(a=document.getElementById(b),this.set("containerDOM",a));e.modiCSS(a,{position:"relative"})},_setLayer:function(){var b=this.get("containerDOM"),a=e.guid("canvas_");b&&(a=e.createDom('\x3ccanvas id\x3d"'+a+'"\x3e\x3c/canvas\x3e'),b.appendChild(a),this.set("canvasDOM",a))},_setInitSize:function(){this.get("widthStyle")?this.changeSizeByCss(this.get("widthStyle"),this.get("heightStyle")):this.get("width")&&this.changeSize(this.get("width"),this.get("height"))},_getPx:function(b,a){var c=this.get("canvasDOM");c.style[b]=a;c=e.getBoundingClientRect(c);return"width"===b?c.right-c.left:"height"===b?c.bottom-c.top:void 0},_reSize:function(){var b=this.get("canvasDOM"),a=this.get("widthCanvas"),c=this.get("heightCanvas"),e=this.get("widthStyle"),d=this.get("heightStyle");b.style.width=e;b.style.height=d;b.setAttribute("width",a);b.setAttribute("height",c)},getWidth:function(){var b=this.get("pixelRatio");return this.get("width")*b},getHeight:function(){var b=this.get("pixelRatio");return this.get("height")*b},changeSizeByCss:function(b,a){var c=this.get("pixelRatio");b=this._getPx("width",b);a=this._getPx("height",a);var e=b*c,c=a*c;this.set("widthStyle",b);this.set("heightStyle",a);this.set("widthCanvas",e);this.set("heightCanvas",c);this.set("width",b);this.set("height",a);this._reSize()},changeSize:function(b,a){var c=this.get("pixelRatio"),e=a*c;this.set("widthCanvas",b*c);this.set("heightCanvas",e);this.set("widthStyle",b+"px");this.set("heightStyle",a+"px");this.set("width",b);this.set("height",a);this._reSize()}});k.exports=a},function(k,f,d){var e=d(27);f=(d(21),function(){});e.augment(f,{getParent:function(){return this.get("parent")||this.get("father")},getDefaultCfg:function(){e.initClassCfgs(this.constructor);return e.mix(!0,{},this.constructor.__cfg)},getBBBox:function(){var e=this.getBBox();return e?(e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2):e={x:0,y:0,centerX:0,centerY:0,width:0,height:0},e},move:function(e,c){var a=this.get("x")||0,b=this.get("y")||0;this.translate(e-a,c-b);this.set("x",e);this.set("y",c)}});k.exports=f},function(k,f,d){var e=d(27),g=d(21),c=d(62);f=function(){};e.augment(f,{addShape:function(a,b){var c,d=this.get("canvas");return b=e.mix({},b),b?(b.type=a,b.canvas=d,b.father=this,a=e.upperFirst(a),c=new g[a](b)):c=new g[a],this.add(c),c},addGroup:function(a,b){var h,d=this.get("canvas");if(b=e.mix({},b),e.isFunction(a))b?(b.canvas=d,b.father=this,h=new a(b)):h=new a({canvas:d,father:this});else if(e.isObject(a))a.canvas=d,h=new c(a);else{if(void 0!==a)return!1;h=new c}this.add(h);return h},findByCFG:function(a,b){var c=this.get("children"),d=[];return e.each(c,function(c,h){c.get(a)===b&&d.push(c)}),d}});k.exports=f},function(k,f,d){f=d(9);var e=d(16),g=d(12);d=d(164);var c=e.G,a=c.Shape.superclass.constructor;new d(c);f.mixin(a,[g.GMixin]);f.mixin(c.Group,[g.GroupMixin]);c.Marker=g.Marker;var b=function(a){b.superclass.constructor.call(this,a)};b.CFG={};f.extend(b,e);k.exports=b},function(k,f,d){var e=d(1);f=d(46);var g=d(3).Vector2,c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);c.CFG={type:"circle",tickInterval:null,grid:{line:{"stroke-width":1,stroke:"#C0D0E0"}},labelOffset:5};e.augment(c,{_beforeRenderUI:function(){c.superclass._beforeRenderUI.call(this)},parseTick:function(a,b,c){return{text:a,value:b/c}},_isReflectY:function(){var a=this.get("coord").get("y");return a.start>a.end},getOffsetPoint:function(a){var b=this.get("coord"),c=this._isReflectY();return b.convertPoint({x:a.value,y:c?0:1})},getCenter:function(){return this.get("coord").getCenter()},getRadius:function(){return this.get("coord").getRadius()},getLinePath:function(){var a=this.getCenter(),b=a.x,c=a.y,a=this.getRadius(),e=this.get("coord"),l=e.get("startAngle"),d=e.get("endAngle");if(d-l===2*Math.PI)a=[["M",b,c],["m",0,-a],["a",a,a,0,1,1,0,2*a],["a",a,a,0,1,1,0,-2*a],["z"]];else{var n=e.get("inner"),g=e.convertPoint({x:0,y:1}),f=e.convertPoint({x:1,y:1}),l=d-l>Math.PI?1:0;n?(b=e.convertPoint({x:0,y:0}),e=e.convertPoint({x:1,y:0}),a=[["M",b.x,b.y],["L",g.x,g.y],["A",a,a,0,l,1,f.x,f.y],["L",e.x,e.y],["A",a*n,a*n,0,l,0,b.x,b.y]]):a=[["M",b,c],["L",g.x,g.y],["A",a,a,0,l,1,f.x,f.y],["z"]]}return a},getGridItemCfg:function(a){var b=this.get("coord"),c=b.invertPoint(a),b=b.convertPoint({x:c.x,y:0});return{x1:b.x,y1:b.y,x2:a.x,y2:a.y}},getEndMiddlePoint:function(a,b){var c=this.get("coord"),e=this.getOffsetPoint({value:.9999}),c=c.invertPoint(e);return{x:(c.x+b.x)/2,y:(c.y+b.y)/2}},addLabel:function(a,b){var h=this.get("labelOffset");b=this.getSidePoint(b,h);c.superclass.addLabel.call(this,a,b)},autoRotateLabels:function(){var a=this.get("ticks"),b=this.get("labelsGroup");if(b&&12<a.length){var c=this.get("coord"),d=this.getRadius(),l=c.get("startAngle"),g=c.get("endAngle")-l,n=Math.sin(g/a.length/2)*d*2,f=this.getMaxLabelWidth(b);e.each(b.get("children"),function(b,c){var h=a[c].value*g+l,e=h%(2*Math.PI);f<n?(0>=e&&(h+=Math.PI),e>Math.PI&&(h-=Math.PI),h-=Math.PI/2,b.attr("text-anchor","middle")):e>Math.PI/2?h-=Math.PI:e<Math.PI/2*-1&&(h+=Math.PI);b.rotateAtStart(180*h/Math.PI)})}},getSideVector:function(a,b){var c=this.getCenter(),c=new g(b.x-c.x,b.y-c.y);return c.setLength(a),c},getSidePoint:function(a,b){var c=this.getSideVector(b,a);return{x:a.x+c.x,y:a.y+c.y}},getTextAnchor:function(a){return this.get("coord").isTransposed?"end":0<=a.x?"start":"end"},getGridMiddlePoint:function(a,b){if(!b){var h=this.get("coord"),e=h.get("startAngle");if(h.get("endAngle")-e<2*Math.PI)return null}return c.superclass.getGridMiddlePoint.call(this,a,b)},getTickEnd:function(a,b){var c=this.get("tickLine");b=b?b:c.value;c=this.getSidePoint(a,b);return{x:c.x,y:c.y}}});k.exports=c},function(k,f,d){function e(a,b){var h="",e=c.mix({},b);return c.each(a,function(b){b=c.substitute("M{x1} {y1}L{x2} {y2}",b);h+=b}),e.path=h,e}function g(a){g.superclass.constructor.call(this,a)}f=d(12).GroupBase;var c=d(1);c.extend(g,f);g.CFG={zIndex:1,elCls:"x-chart-grid",type:"line",line:null,minorLine:null,minorCount:0,renderer:null,items:null,odd:null,even:null,animate:!1,matrix:null,duration:1E3};c.augment(g,{_renderUI:function(){g.superclass._renderUI.call(this);this._drawLines()},_drawLines:function(){var a=this.get("line"),b=this.get("items");b&&(this._precessItems(b),this._drawGridLines(b,a,"x-chart-grid-line"),this.get("minorCount")&&this.drawMinorLines())},_precessItems:function(a){var b,h=this,e=h.get("minorCount"),l=h.get("renderer");c.each(a,function(a,c){l?l.call(h,a,c):e&&b&&h._addMonorItem(a,b);b&&(h.get("odd")||h.get("even"))&&h._drawOddEven(a,b,c);b=a})},change:function(a){return this.set("items",a),this._clearPre(),this._precessItems(a),this._changeGridLines(a,"x-chart-grid-line"),this._changeMinorLinses(),this},_clearPre:function(){var a;this.get("minorCount")&&this.set("minorItems",[]);a=this.findAllBy(function(b){b=b.get("elCls");return"x-chart-grid-line"!==b&&"x-chart-grid-minor"!==b});c.each(a,function(b){b.remove()})},_isVertical:function(a){return a.x1===a.x2},_drawGridLines:function(a,b,c){a=this._linesToPath(a,b);a=this.addShape("Path",{elCls:c,attrs:a});this.set("gridLine"+c,a)},_changeGridLines:function(a,b){var h=this.get("animate"),e=this.get("gridLine"+b);if(e){var l=this._linesToPath(a,{});h?c.animPath(e,l.path,2):l?e.attr("path",l.path):e.remove()}else a&&a.length&&(h="x-chart-grid-line"===b?this.get("line"):this.get("minorLine"),this._drawGridLines(a,h,b))},_linesToPath:function(a,b){var h,d=this,l=[],g=d.get("type");return"line"===g?0!==a.length&&e(a,b):(h=c.mix({},b),c.each(a,function(b){l=l.concat(d._getMultiplePath(b,g))}),h.path=l,h)},_getMultiplePath:function(a,b){var h=a.points,e=[];if("polygon"===b)c.each(h,function(b,a){0===a?e.push(["M",b.x,b.y]):e.push(["L",b.x,b.y])});else if(a.center){var l=a.center.x,d=a.center.y,n=a.r,g=a.r;0===n?e=[]:a.endAngle-a.startAngle===2*Math.PI?e=[["M",l,d],["m",0,-g],["a",n,g,0,1,1,0,2*g],["a",n,g,0,1,1,0,-2*g]]:c.each(h,function(b,a){0===a?e.push(["M",b.x,b.y]):e.push(["A",n,g,1,0,1,b.x,b.y])})}return e},_drawOddEven:function(a,b,c){var e,l,d=this.get("odd"),n=this.get("even");0===c%2?n&&(l=this._getBackItem(b,a,n),e="even"):d&&(l=this._getBackItem(b,a,d),e="odd");l&&this.addShape("Path",{elCls:"x-chart-grid-"+e,attrs:l})},_getBackItem:function(a,b,h){a=c.substitute("M {x1} {y1} L{x2} {y2}",a);return a+=c.substitute("L{x2} {y2} L{x1} {y1}Z",b),c.mix({},h,{path:a})},_getMinorItem:function(a,b,c,e){var l=this._isVertical(a,b),d=l?"x":"y",l=l?"y":"x",n={};return n[d+"1"]=n[d+"2"]=(b[d+"1"]-a[d+"1"])/(e+1)*(c+1)+a[d+"1"],n[l+"1"]=a[l+"1"],n[l+"2"]=a[l+"2"],n},_addMonorItem:function(a,b){var c;c=[];var e=this.get("minorItems");c=(e||(e=c,this.set("minorItems",e)),e);if(e=this.get("minorCount"))for(var l=0;l<e;l++){var d=this._getMinorItem(b,a,l,e);c.push(d)}},drawMinorLines:function(){var a=this.get("minorLine"),b=this.get("minorItems");this._drawGridLines(b,a,"x-chart-grid-minor")},_changeMinorLinses:function(){var a=this.get("minorItems");this._changeGridLines(a,"x-chart-grid-minor")}});k.exports=g},function(k,f,d){f=d(64);f.Abstract=d(46);f.Circle=d(110);f.Radius=d(113);k.exports=f},function(k,f,d){f=d(1);d=d(64);var e=function(d){e.superclass.constructor.call(this,d)};e.CFG={circle:null,position:"left",type:"radius"};f.extend(e,d);f.augment(e,{_beforeRenderUI:function(){e.superclass._beforeRenderUI.call(this);var d=this.get("coord");d.isTransposed?(this.set("start",d.convertPoint({x:0,y:0})),this.set("end",d.convertPoint({x:1,y:0}))):(this.set("start",d.convertPoint({x:0,y:0})),this.set("end",d.convertPoint({x:0,y:1})))},getGridItemCfg:function(e){var c={},a=[],b=this.get("circle").get("ticks"),h=b.length,d=this.get("coord");e=d.invertPoint(e);for(var l=d.get("inner"),w=d.getRadius(),n=0;n<h;n++){var f=d.convertPoint({x:b[n].value,y:e.y});a.push(f)}0!==b[0].value&&(b=d.convertPoint({x:0,y:e.y}),a.unshift(b));b=a[a.length-1];f=d.convertPoint({x:1,y:e.y});b.x!==f.x&&b.y!==f.y&&a.push(f);b=d.get("startAngle");h=d.get("endAngle");return c.points=a,c.r=w*(1-l)*e.y+w*l,c.center=d.getCenter(),c.endAngle=h,c.startAngle=b,c}});k.exports=e},function(k,f,d){k.exports={Axis:d(112),PlotBack:d(68),PlotRange:d(48),Plot:{Back:d(68),Range:d(48)},Labels:d(65),Tooltip:d(120),Li:d(47),Ul:d(69),Legend:d(118)}},function(k,f,d){var e=d(9),g=d(66);f=function(){};f.ATTRS={labels:null};e.augment(f,{renderLabels:function(){var c,a=this.get("labels");a&&(a.items||(a.items=[]),e.isNull(a.animate)&&(a.animate=this.get("animate")),c=this.addGroup(g,a),this.set("labelsGroup",c))},resetLabels:function(c){var a=this,b=a.get("labels");if(b){var h=a.get("labelsGroup"),d=h.getLabels(),l=d.length;c=c||b.items;e.each(c,function(b,c){c<l?h.changeLabel(d[c],b):a.addLabel(b.text,b)});for(b=l-1;b>=c.length;b--)d[b].remove()}},addLabel:function(c,a){var b,h=this.get("labelsGroup"),e={};return h&&(e.text=c,e.x=a.x,e.y=a.y,e.point=a,e["text-anchor"]=a["text-anchor"],a.rotate&&(e.rotate=a.rotate),b=h.addLabel(e)),b},removeLabels:function(){var c=this.get("labelsGroup");c&&c.remove();this.set("labelsGroup",null)}});k.exports=f},function(k,f,d){var e=d(9),g=(d(12),d(47)),c=d(50);f=d(67);var a=function(b){a.superclass.constructor.call(this,b)};a.CFG={type:"category-legend",items:null,spacingX:5,spacingY:10,wordSpaceing:2,itemsGroup:null,layout:"horizontal",leaveChecked:!0,backPadding:[0,0,0,0],checkable:!0,itemsbeginX:0,itemsbeginY:0,unChecked:"#CCC",word:{fill:"#3c3c3c"},back:null,itemWrap:!1,maxLength:100,_back:{}};e.extend(a,f);e.augment(a,{_initCfg:function(){a.superclass._initCfg.call(this);this.deepSet("back")},_beforeRenderUI:function(){a.superclass._beforeRenderUI.call(this);var b=this.get("col"),c=this.get("items").length;this.set("_row",Math.ceil(c/b))},_renderUI:function(){a.superclass._renderUI.call(this);this._renderTitle();this._renderItems();this._wrapItems();this._renderBack();this.setPosition()},_wrapItems:function(){var b=this.get("itemWrap"),a=this.get("layout"),c=this.get("maxLength");b&&0<c&&("horizontal"===a?this._warpHorizontal():"vertical"===a&&this._warpVertical())},_warpVertical:function(){var b,a,c,l,d=this.get("itemsGroup"),n=this.get("titleShape"),g=d.get("children"),f=this.get("maxLength"),p=this.get("spacingX"),k=this.get("spacingY"),q=n.getBBBox().height+k,B=1,z=q,x=0,v=0,A=0;d.getBBBox().height>f&&e.each(g,function(e,d){l=e.getBBBox();a=l.width+p;c=l.height+k;x=v;v=a>v?a:v;b=z;z+=c;z>f?(A+=x,z=c+q,B++,v=0,x=0,e.move(A,q)):e.move(A,b)})},_warpHorizontal:function(){var b,a,c,l=this.get("itemsGroup"),d=l.get("children"),n=this.get("maxLength"),g=this.get("spacingX"),f=this.get("spacingY"),p=1,k=0,q=0;l.getBBBox().width>n&&e.each(d,function(e,l){c=e.getBBBox();b=c.width+g;a=c.height+f;q=k;k+=b;k>n?(k=b,p++,e.move(0,p*a)):e.move(q,p*a)})},_bindUI:function(){this._bindOverOut();this._bindClick()},_bindClick:function(){(this.get("canvas"),this.get("checkable"))&&this.on("click",e.wrapBehavior(this,"_onClick"))},_bindOverOut:function(){this.on("mouseenter",e.wrapBehavior(this,"_onMouseenter"));this.on("mouseleave",e.wrapBehavior(this,"_onMouseleave"))},_onClick:function(b){var a,e,l,d,n=(this.get("leaveChecked"),this._getLi(b.currentTarget));this.get("canvas");n&&(n.findByType("marker"),d=n.get("checked"),a=new c("itemclick",b),a.item=n,this.trigger(a),this.get("leaveChecked")&&d&&1===this.getLeaveCount()||(d?(l=new c("itemunchecked",b),l.item=n,this.trigger(l)):(e=new c("itemchecked",b),e.item=n,this.trigger(e))))},_onMouseenter:function(b){var a=new c("itemover",b),d=b.currentTarget;b=this._getLi(b.currentTarget);d=d.getCanvasNode();b&&(a.item=b,this.trigger(a),e.modiCSS(d,{cursor:"pointer"}))},_onMouseleave:function(b){var a=new c("itemout",b),d=this.getCanvasNode();(b=this._getLi(b.currentTarget))&&(a.item=b,this.trigger(a),e.modiCSS(d,{cursor:"default"}))},_renderBack:function(){var b=this.get("itemsGroup"),a=this.get("backPadding"),c=this.get("back");b.renderBack(a,c)},_renderItems:function(){var b=this,a=b.get("items");e.each(a,function(a,c){b._addItem(a,c)})},_addItem:function(b){var a=this.get("itemsGroup"),c=this._getNextX(),e=this._getNextY(),d=this.get("unChecked"),n={words:[{text:b.name}]};b.symbol?n.marker={symbol:b.symbol,fill:b.checked?b.color:d}:b.marker&&(b.checked||(b.marker.fill=d,b.marker.stroke=d),n.marker=b.marker);a.addGroup(g,{value:b.name,"class":"legend-item",word:b.word,checked:b.checked,x:c,y:e,items:n})},_getNextX:function(){var b=this.get("layout"),a=this.get("spacingX"),c=this.get("itemsGroup").get("children"),l=0;return"horizontal"===b&&e.each(c,function(b){l+=b.getBBBox().width+a}),l},_getNextY:function(){var b=this.get("spacingY"),a=this.get("layout"),c=this.get("itemsGroup"),l=this.get("titleShape"),c=c.get("children"),d=l.getBBBox().height+b;return"vertical"===a&&e.each(c,function(a){d+=a.getBBBox().height+b}),d},_getLi:function(b){b=b.getParent();return"li"===b.get("type")&&b}});k.exports=a},function(k,f,d){var e=d(9);f=(d(12),d(67));var g=d(36),c=function(a){c.superclass.constructor.call(this,a)};c.CFG={type:"continuous-legend",items:null,layout:"vertical",width:200,height:60,theme:"block",nameGroup:null,titleOffset:30,nameOffset:10,word:{},title:{text:" "},_word:{fill:"#333",textAlign:"center",textBaseline:"middle"}};e.extend(c,f);e.augment(c,{_initCfg:function(){c.superclass._initCfg.call(this);this.deepSet("word")},_beforeRenderUI:function(){c.superclass._beforeRenderUI.call(this);var a=(this.get("itemsGroup"),this.addGroup());this.set("nameGroup",a)},_renderUI:function(){c.superclass._renderUI.call(this);"gradient"===this.get("theme")?this._renderGradient():this._renderBlock()},_renderBlock:function(){var a=this.get("items"),b=this.get("titleShape"),c=this.get("layout"),e=this.get("titleOffset"),b={x:0,y:b.getBBBox().height+e};this._renderName(a,c,b);this._renderBlockShape(a,c,b)},_renderGradient:function(){var a=this.get("items"),b=this.get("titleShape"),c=this.get("layout"),e=this.get("titleOffset"),b={x:0,y:b.getBBBox().height+e};this._renderName(a,c,b);this._renderGradientShape(a,c,b)},_renderBlockShape:function(a,b,c){var d,l,g=this.get("itemsGroup"),n=this.get("width"),f=this.get("height");e.each(a,function(e,p){"vertical"===b?(l=0!=p?(e.value-a[p-1].value)*f:e.value*f,d={x:c.x,y:c.y+(1-e.value)*f,width:n,height:l,fill:e.color}):(l=0!=p?(e.value-a[p-1].value)*n:e.value*n,d={x:c.x+e.value*n-l,y:c.y,width:l,height:f,fill:e.color});g.addShape("Rect",{attrs:d})})},_renderGradientShape:function(a,b,c){var d,l=this.get("itemsGroup"),w=this.get("width"),n=this.get("height"),f="";"vertical"===b?(f+="l (90) ",e.each(a,function(b,a){d=(new g(b.color)).getRGBStyle();f+=1-b.value+":"+d+" "})):(f+="l (0) ",e.each(a,function(b,a){d=(new g(b.color)).getRGBStyle();f+=b.value+":"+d+" "}));l.addShape("Rect",{attrs:{x:c.x,y:c.y,width:w,height:n,fill:f}})},setLayout:function(a){this.set("layout",a);this.clear();this._renderUI()},_renderName:function(a,b,c){var d=this.get("nameGroup"),l=e.mix({},this.get("word")),g=this.get("nameOffset"),n=this.get("width"),f=this.get("height");e.each(a,function(r,p){0!==p&&p!==a.length-1||("vertical"===b?(g=0===p?g:-g,l=e.mix(l,{x:c.x+n/2,y:c.y+f*(1-r.value)+g,text:r.name}),d.addShape("Text",{attrs:l})):(g=1===p?g:-g,l=e.mix(l,{x:c.x+n*r.value+g,y:c.y+f/2,text:r.name}),d.addShape("Text",{attrs:l})))})},clear:function(){var a=this.get("itemsGroup"),b=this.get("nameGroup");a.clear();b.clear()}});k.exports=c},function(k,f,d){f=d(116);f.Continuous=d(117);k.exports=f},function(k,f,d){var e=d(9);f=d(12).GroupBase;var g=function(c){g.superclass.constructor.call(this,c)};g.CFG={type:"li",items:null,itemsGroup:null,word:null,marker:null,wordSpaceing:null,_marker:{fill:"red",lineWidth:4,r:2.5},_wordSpaceing:6,_word:{fill:"#fff",textBaseline:"middle"}};e.extend(g,f);e.augment(g,{_initCfg:function(){this.deepSet("word");this.deepSet("marker");this.deepSet("wordSpaceing");this.deepSet("markerAlign")},_renderUI:function(){g.superclass._renderUI.call(this);this._renderItems()},_renderItems:function(){var c=this,a=c.getBBBox(),b=a.width,h=c.get("word"),d=c.get("wordSpaceing"),l=c.get("items"),g=c.get("marker"),n=c.get("markerAlign");l.marker&&(g=e.mix({},g,l.marker,{x:"center"===n?0:l.marker.radius,y:0}),e.mixXY(g,c),c.addShape("Marker",{type:"marker",attrs:g}));e.each(l.words,function(l,g){a=c.getBBBox();b=Math.abs(a.width)===1/0?0:a.width;var w=e.mix({},h,l,{x:"center"===n?d:0===b?0:b+d,y:0});e.mixXY(w,c);c.addShape("Text",{attrs:w})})}});k.exports=g},function(k,f,d){f=d(121);k.exports=f},function(k,f,d){var e=d(9),g=d(3);f=d(12);var c=d(69);d=f.GroupBase;var a=function(b){a.superclass.constructor.call(this,b)};a.CFG={zIndex:10,x:0,y:0,itemName:"tootip",items:[],ulItems:[],ul:{fill:"#fff",textAlign:"start"},title:{},name:{},value:{},crossLine:{stroke:"#999",lineWidth:1},markerCfg:null,titleText:void 0,wordSpaceing:6,padding:[10,10,10,10],crosshairs:!1,titleShape:null,ulGroup:null,crossShapeX:null,crossShapeY:null,backShape:null,plotRange:null,shared:!1,offset:10,animate:!0,duration:50,visible:!1,valueSplit:"",valueSuffix:"",custom:!1,customDiv:null,customFollow:!0,timeStamp:0,html:'\x3cdiv class\x3d"ac-tooltip" style\x3d"position:absolute;visibility: hidden;"\x3e\x3ch4 class\x3d"ac-title"\x3e\x3c/h4\x3e\x3cul class\x3d"ac-list"\x3e\x3c/ul\x3e\x3c/div\x3e',itemTpl:'\x3cli\x3e\x3cspan style\x3d"color:{color}"\x3e{name}\x3c/span\x3e : {value}\x3c/li\x3e'};e.extend(a,d);e.augment(a,{_beforeRenderUI:function(){c.superclass._beforeRenderUI.call(this);var b=this.get("ul"),a=this.get("custom"),e=this.get("crossLine"),e=this.addGroup({attrs:e}),b=this.addGroup(c,{zIndex:10,attrs:b});this.set("ulItems",[]);this.set("crossGroup",e);this.set("ulGroup",b);a&&this._setCustomDiv()},_renderUI:function(){c.superclass._renderUI.call(this);this.get("custom")?this._renderCustom():this._renderUl();this._renderCrossLine()},_renderUl:function(){var b,a,c,l=[],d=this.get("ulGroup");c=this.get("items");var n=this.get("title"),g=this.get("titleText"),f=this.get("name"),p=this.get("value"),k=this.get("valueSplit"),q=this.get("valueSuffix"),B=this.get("markerCfg");n&&l.push({words:[{text:g}],attrs:n});e.each(c,function(b,a){var c=e.mix({},f,{text:b.name?b.name+":":""}),h=e.mix({},p,{text:b.value+k+q});!0===b.marker&&(b.marker="circle");l.push({color:b.color,words:[c,h],marker:e.mix(b.marker?{symbol:b.marker,fill:b.color}:{},B)})});d.setItems(l);c=d.get("backShape");n&&(b=d.get("itemsGroup").getFirst(),a=b.getFirst(),this.set("titleShape",a));b=d.get("itemsGroup").getFilterChild(b);this.set("backShape",c);this.set("ulItems",l);this.set("textGroup",b)},_renderCrossLine:function(){var b=this.get("crosshairs"),a=this.get("canvas"),c=this.get("plotRange");if(this.clearCrossGroup(),b)switch(b.type){case "x":this._renderCrossLineX(a,c);break;case "y":this._renderCrossLineY(a,c);break;case "cross":this._renderCrossLineX(a,c);this._renderCrossLineY(a,c);break;default:this._renderCrossLineY(a,c)}},_renderCrossLineY:function(b,a){var c,l,d=this.get("crosshairs");a?(c=a.bl.y,l=a.tl.y):(c=b.get("height"),l=0);c=e.mix({x1:0,y1:c,x2:0,y2:l},this.get("crossLine"));"dash"===d.shape&&(c=e.mix(c,{lineDash:"6 3"}));d=this._getCrossShape(c);this.set("crossShapeY",d)},_renderCrossLineX:function(b,a){var c,l,d;d=this.get("crosshairs");a?(c=a.bl.x,l=a.br.x):(c=b.get("width"),l=0);c=e.mix({x1:c,y1:0,x2:l,y2:0},this.get("crossLine"));"dash"===d.shape&&(c=e.mix(c,{lineDash:"6 3"}));d=this._getCrossShape(c);this.set("crossShapeX",d)},_getCrossShape:function(b){return this.get("crossGroup").addShape("Line",{attrs:b})},clearCrossGroup:function(){var b=this.get("crossGroup");this.set("crossShapeX",void 0);this.set("crossShapeY",void 0);b.clear()},setCross:function(b){this.set("crosshairs",{type:b});this._renderCrossLine()},setContent:function(b,a){if(!this._isContentChange(b,a)){var c=this.get("custom"),e=(this.get("timeStamp"),+new Date);this.set("items",a);this.set("titleText",b);this.set("timeStamp",e);c?this._renderCustom():this._renderUl()}return this},_isContentChange:function(b,a){var c=this.get("titleText"),e=this.get("items");return b===c&&e.length===a.length&&a[0].value===e[0].value},getTitle:function(){return this.get("titleShape")},setPosition:function(b,a){var c=this.get("canvas"),e=this.get("customDiv"),d=this.get("plotRange"),n=this.get("offset"),f=this.get("crossShapeX"),r=this.get("crossShapeY"),p=this.get("ulGroup"),k=p.getBBBox(),q=this.get("animate"),B=(this.get("x"),this.get("y"),new g.Matrix3),z=!0,x=b,v=a;e&&this.get("customFollow")?b+=n:(b=b-k.width-n,a-=k.height);d&&(d.isInRange(b,a)||(d.isInVertical(a)||(a=d.tl.y),d.isInHorizontal(b)||(b=Math.max(d.tl.x,x)+n,z=!1)));this.get("x")===b&&this.get("y")===a||(r&&(z?r.move(x,0):r.move(b-n,0)),f&&f.move(0,v),B.translate(b,a),q&&this.get("visible")?p.animate({matrix:B},this.get("duration")):(p.setMatrix(B),this.get("visible")||this.show(),c.draw()),this.moveCustom(b,a,z))},_setCustomDiv:function(){var b,a,c=this.get("html"),d=this.get("canvas").get("el").parentNode;/^\#/.test(c)?(a=c.replace("#",""),b=document.getElementById(a)):b=e.createDom(c);this.set("customDiv",b);this.get("customFollow")&&(d.appendChild(b),d.style.position="relative")},_renderCustom:function(){var b=this,a=b.get("title"),c=b.get("titleText"),d=b.get("customDiv"),g=d.getElementsByClassName("ac-title")[0],d=d.getElementsByClassName("ac-list")[0],n=b.get("items");b._clearCustom();g&&a&&(g.innerHTML=c);d&&(b.set("titleText",c),e.each(n,function(a,c){b.addCustomItem(a,c)}))},_clearCustom:function(){var b=this.get("customDiv"),a=b.getElementsByClassName("ac-title")[0],b=b.getElementsByClassName("ac-list")[0];a&&(a.innerHTML="");b&&(b.innerHTML="")},addCustomItem:function(b,a){var c,d=this.get("customDiv").getElementsByClassName("ac-list")[0];c=this.get("itemTpl");c=e.substitute(c,b);c=e.createDom(c);d.appendChild(c)},moveCustom:function(b,a){var c=this.get("customDiv");c&&this.get("customFollow")&&(a-=e.getOuterHeight(c)/2,c.style.left=b+"px",c.style.top=a+"px")},show:function(){var b=this.get("crossShapeX"),c=this.get("crossShapeY"),e=this.get("customDiv"),d=this.get("hideHandler");d&&clearTimeout(d);a.superclass.show.call(this);e&&this.get("customFollow")&&(e.style.visibility="visible");b&&b.show();c&&c.show()},hide:function(){var b=this,c=b.get("customDiv"),e=b.get("crossShapeX"),d=b.get("crossShapeY"),g=b.get("canvas"),n=setTimeout(function(){c&&b.get("customFollow")&&(c.style.visibility="hidden");b.set("hideHandler",null);b.get("destroyed")||(a.superclass.hide.call(b),g.draw())},b.get("duration"));b.set("hideHandler",n);e&&e.hide();d&&d.hide()},remove:function(){var b=this.get("crossShapeX"),c=this.get("crossShapeY"),e=this.get("customDiv");b&&b.remove();c&&c.remove();a.superclass.remove.call(this);e&&e.parentNode.removeChild(e)}});k.exports=a},function(k,f,d){function e(a){e.superclass.constructor.call(this,a)}var g=d(1);f=d(12);var c=d(47);d=f.GroupBase;e.CFG={items:null,itemsGroup:null,backShape:null,back:{radius:6,fill:"#000",fillOpacity:.7},padding:null,lineHeight:null,_padding:[10,10,10,10],_lineHeight:20};g.extend(e,d);g.augment(e,{_initCfg:function(){this.deepSet("lineHeight");this.deepSet("padding");this.deepSet("marker")},_beforeRenderUI:function(){e.superclass._beforeRenderUI.call(this);this.get("items");this.set("itemsGroup",this.addGroup())},_renderUI:function(){e.superclass._renderUI.call(this);this.get("items")&&(this._renderItems(),this._renderBack())},_renderBack:function(){var a=this.get("padding"),b=this.get("back"),a=this.get("itemsGroup").renderBack(a,b);this.set("backShape",a)},_renderItems:function(){var a=this,b=a.get("items");g.each(b,function(b,c){a._addItem(b,c)})},_addItem:function(a,b){var h=(this.get("canvas"),this.get("itemsGroup")),e=(this.get("lineHeight"),this.get("padding")),d=b*this.get("lineHeight")+e[0]+8;h.addGroup(c,{x:e[3],y:d,items:a})},setItems:function(a){this.clearItems();this.set("items",a);this._renderItems();this._renderBack()},clearItems:function(){var a=this.get("itemsGroup");a&&a.clear()}});k.exports=e},function(k,f){var d=(Math.pow,Math.abs,{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return 1>(e/=.5)?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return 1>(e/=.5)?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return 1>(e/=.5)?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return 1>(e/=.5)?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:1>(e/=.5)?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return 1<=e?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return 1>(e/=.5)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var d=1.70158,c=0,a=1;return 0===e?0:1==(e/=1)?1:(c||(c=.3),a<Math.abs(1)?(a=1,d=c/4):d=c/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*--e)*Math.sin(2*(1*e-d)*Math.PI/c)))},easeOutElastic:function(e){var d=1.70158,c=0,a=1;return 0===e?0:1==(e/=1)?1:(c||(c=.3),a<Math.abs(1)?(a=1,d=c/4):d=c/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin(2*(1*e-d)*Math.PI/c)+1)},easeInOutElastic:function(e){var d=1.70158,c=0,a=1;return 0===e?0:2==(e/=.5)?1:(c||(c=.3*1.5),a<Math.abs(1)?(a=1,d=c/4):d=c/(2*Math.PI)*Math.asin(1/a),1>e?-.5*a*Math.pow(2,10*--e)*Math.sin(2*(1*e-d)*Math.PI/c):a*Math.pow(2,-10*--e)*Math.sin(2*(1*e-d)*Math.PI/c)*.5+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var d=1.70158;return 1>(e/=.5)?.5*e*e*(((d*=1.525)+1)*e-d):.5*((e-=2)*e*(((d*=1.525)+1)*e+d)+2)},easeInBounce:function(e){return 1-d.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*d.easeInBounce(2*e):.5*d.easeOutBounce(2*e-1)+.5}});k.exports=d},function(k,f,d){var e=d(9);f=d(16);var g=d(3),c=d(50);d=(g.Vector3,f.G,function(){});e.augment(d,{fire:function(a,b){var h,e=new c(a);for(h in b)e[h]=b[h];this.trigger(e)},getCenter:function(){var a=this.getBBBox();return{x:a.minX+a.width/2,y:a.minY+a.height/2}},getWidth:function(){return this.getBBBox().width},getHeight:function(){return this.getBBBox().height},init:function(){this.set("animable",!0);this.set("animCount",0);this.transformByAttr()},deepSet:function(a){var b=this.get("_"+a),c=this.deepGet(a);this.set(a,e.merge(b,c))},deepGet:function(a){for(var b=this.get(a),c=(this.get("canvas"),this.getParent());c;){if(b)return b;b=c.get(a);c=c.getParent()}},getCanvasNode:function(){return this.get("canvas").get("el")},transformByAttr:function(){var a=this.get("attrs");return a&&a.rotate&&this.rotateAtStart(a.rotate),this},rotateAtStart:function(a){var b=this.attr("x"),c=this.attr("y");this.transform([["t",-b,-c],["r",a],["t",b,c]])},move:function(a,b){var c=this.get("x")||0,e=this.get("y")||0;this.translate(a-c,b-e);this.set("x",a);this.set("y",b)},animate:function(a,b,c,d){this.get("animCount");this.addAnimCount();e.animate(this,a,b,c,d)},stopAnimate:function(){this.set("animable",!1)},addAnimCount:function(){var a=this.get("animCount");1E4>a?this.set("animCount",++a):this.set("animCount",0)}});k.exports=d},function(k,f,d){var e=d(9);f=d(16);var g=d(70),c=f.G;d=function(){};e.augment(d,{findAllBy:function(a){var b=this.get("children"),c=[],d=[];return e.each(b,function(b){if(a(b)&&c.push(b),b.findBy)for(d=b.findAllBy(a),b=0;b<d.length;b++)c.push(d[b])}),0!==c.length&&c},isChild:function(a){return-1!==this.get("canvas").get("children").indexOf(a)},getFilterChild:function(a){var b=this.get("children"),c=[];return e.each(b,function(b,e){a!=b&&c.push(b)}),c},getChildAt:function(a){return this.get("children")[a]},getFirst:function(){return this.get("children")[0]},getLast:function(){var a=this.get("children");return a[a.length-1]},addShape:function(a,b){var h,d,l=this.get("canvas");return b=e.mix({},b),b?(b.type=a,a=e.upperFirst(a),b.attrs&&(d=b.attrs,e.adapAttrs(d),"Text"===a&&(d.fontFamily=d.fontFamily?d.fontFamily:l.get("fontFamily"))),b.canvas=l,b.father=this,h=new c[a](b)):h=new c[a],this.add(h),h},addGroup:function(a,b){var c,d=this.get("canvas");if(b=e.mix({},b),e.adapAttrs(b.attrs),e.isFunction(a))b?(b.canvas=d,b.father=this,c=new a(b)):c=new a({canvas:d,father:this});else if(e.isObject(a))a.canvas=d,c=new g(a);else{if(void 0!==a)return!1;c=new g}this.add(c);return c},renderBack:function(a,b){var c=this.get("backShape"),d=this.getBBBox(),l=this.getParent();return e.mix(b,{x:d.minX-a[3],y:d.minY-a[0],width:d.width+a[1]+a[3],height:d.height+a[0]+a[2]}),c?c.attr(b):c=l.addShape("Rect",{zIndex:-1,attrs:b}),this.set("backShape",c),l.sort(),c},findByType:function(a){var b,c=this.get("children");return e.each(c,function(c,e){c.get("type")===a&&(b=c)}),b}});k.exports=d},function(k,f,d){f=d(16);var e=d(9);d=f.G;var g=function(c){g.superclass.constructor.call(this,c)};g.Symbols={circle:function(c,a,b){return[["M",c,a-b],["a",b,b,0,1,1,0,2*b],["a",b,b,0,1,1,0,-2*b],["z"]]},square:function(c,a,b){return[["M",c-b,a-b],["L",c+b,a-b],["L",c+b,a+b],["L",c-b,a+b],["z"]]},diamond:function(c,a,b){return[["M",c-b,a],["L",c,a-b],["L",c+b,a],["L",c,a+b],["z"]]},triangle:function(c,a,b){var e=b/.966;return[["M",c,a-b],["L",c+e,a+b],["L",c-e,a+b],["z"]]},"triangle-down":function(c,a,b){var e=b/.966;return[["M",c,a+b],["L",c+e,a-b],["L",c-e,a-b],["z"]]}};g.ATTRS={path:null,lineWidth:1};e.extend(g,d.Path);e.augment(g,{getDefaultAttrs:function(){g.superclass.getDefaultAttrs.call(this);var c,a,b=this.get("attrs"),h=b.x,d=b.y,l=b.radius?b.radius:b.r;if(a=e.isFunction(b.symbol)?b.symbol:g.Symbols[b.symbol],!a)throw"not support this type "+b.symbol;return c={path:a(h,d,l)},e.mix(g.ATTRS,c)}});k.exports=g},function(k,f,d){var e=d(1);k.exports={transform:function(d,c){return d=d.clone(),e.each(c,function(a){switch(a[0]){case "t":d.translate(a[1],a[2]);break;case "s":d.scale(a[1],a[2]);break;case "r":d.rotate(a[1]);break;case "m":d.multiply(a[1]);break;default:return!1}}),d},isMatrix3:function(e){return"matrix3"===e.type},scale:function(e,c,a,b,h){return e=e.clone(),e.translate(-1*b,-1*h),e.scale(c,a),e.translate(b,h),e},rotate:function(e,c,a,b){return e=e.clone(),c=parseFloat(c)/180*Math.PI,e.translate(-1*a,-1*b),e.rotate(c),e.translate(a,b),e}}},function(k,f,d){function e(b,a){for(var c=[],e=0,h=b.length;h-2*!a>e;e+=2){var d=[{x:+b[e-2],y:+b[e-1]},{x:+b[e],y:+b[e+1]},{x:+b[e+2],y:+b[e+3]},{x:+b[e+4],y:+b[e+5]}];a?e?h-4===e?d[3]={x:+b[0],y:+b[1]}:h-2===e&&(d[2]={x:+b[0],y:+b[1]},d[3]={x:+b[2],y:+b[3]}):d[0]={x:+b[h-2],y:+b[h-1]}:h-4===e?d[3]=d[2]:e||(d[0]={x:+b[e],y:+b[e+1]});c.push(["C",(-d[0].x+6*d[1].x+d[2].x)/6,(-d[0].y+6*d[1].y+d[2].y)/6,(d[1].x+6*d[2].x-d[3].x)/6,(d[1].y+6*d[2].y-d[3].y)/6,d[2].x,d[2].y])}return c}var g=d(1),c=String.prototype.toUpperCase,a=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,b=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,h={path2Absolute:function(b){if(g.isArray(b)&&g.isArray(b&&b[0])||(b=h.parsePathString(b)),!b||!b.length)return[["M",0,0]];var a=[],d=0,n=0,f=0,r=0,p=0;"M"===b[0][0]&&(d=+b[0][1],n=+b[0][2],f=d,r=n,p++,a[0]=["M",d,n]);for(var k,q=3===b.length&&"M"===b[0][0]&&"R"===b[1][0].toUpperCase()&&"Z"===b[2][0].toUpperCase(),B=p,z=b.length;B<z;B++){a.push(p=[]);k=b[B];var x;if(k[0]!==c.call(k[0]))switch(p[0]=c.call(k[0]),p[0]){case "A":p[1]=k[1];p[2]=k[2];p[3]=k[3];p[4]=k[4];p[5]=k[5];p[6]=+(k[6]+d);p[7]=+(k[7]+n);break;case "V":p[1]=+k[1]+n;break;case "H":p[1]=+k[1]+d;break;case "R":x=[d,n].concat(k.slice(1));for(var v=2,A=x.length;v<A;v++)x[v]=+x[v]+d,x[++v]=+x[v]+n;a.pop();a=a.concat(e(x,q));break;case "M":f=+k[1]+d;r=+k[2]+n;v=1;for(A=k.length;v<A;v++)p[v]=+k[v]+(v%2?d:n);break;default:for(v=1,A=k.length;v<A;v++)p[v]=+k[v]+(v%2?d:n)}else if("R"===k[0])x=[d,n].concat(k.slice(1)),a.pop(),a=a.concat(e(x,q)),p=["R"].concat(k.slice(-2));else for(x=0,v=k.length;x<v;x++)p[x]=k[x];switch(p[0]){case "Z":d=f;n=r;break;case "H":d=p[1];break;case "V":n=p[1];break;case "M":f=p[p.length-2];r=p[p.length-1];d=p[p.length-2];n=p[p.length-1];break;default:d=p[p.length-2],n=p[p.length-1]}}return a},parsePathString:function(c){if(!c)return null;var e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},h=[];return g.isArray(c)&&g.isArray(c[0])&&(h=c.slice(0)),!h.length&&g.isString(c)&&c.replace(b,function(b,c,d){var m=[];b=c.toLowerCase();if(d.replace(a,function(b,a){a&&m.push(+a)}),"m"===b&&2<m.length&&(h.push([c].concat(m.splice(0,2))),b="l",c="m"===c?"l":"L"),"r"===b)h.push([c].concat(m));else for(;m.length>=e[b]&&(h.push([c].concat(m.splice(0,e[b]))),e[b]););}),h},parsePathArray:function(b){return g.isArray(b)?g.map(b,function(b){return b.join(" ").replace(/([a-z,A-Z])\s+/,"$1")}).join(" "):b}};k.exports=h},function(k,f,d){function e(b){this.space={};g.isString(b)?this.setStyle(b):b instanceof e&&this.copy(b)}var g=d(1),c=(d(4),d(131)),a=d(132),b=d(130),h=/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})$/,m=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)$/,l=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*$/,w=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9]*\.?[0-9]+)\s*$/,n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*$/,t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*([0-9]*\.?[0-9]+)\s*$/,r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*$/,p=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*([0-9]*\.?[0-9]+)\s*$/;g.augment(e,{getType:function(){return this.space.type},toRGB:function(){var b=this.space;"rgb"!==b.type&&(b=b.toRGB(),this.setRGB(b.r,b.g,b.b,b.a))},toHSL:function(){var b=this.space;"hsl"!==b.type&&(b=b.toHSL(),this.setHSL(b.h,b.s,b.l,b.a))},getR:function(){return this.toRGB(),this.space.r},getG:function(){return this.toRGB(),this.space.g},getB:function(){return this.toRGB(),this.space.b},getH:function(){return this.toHSL(),this.space.h},getS:function(){return this.toHSL(),this.space.s},getL:function(){return this.toHSL(),this.space.l},getA:function(){return this.space.a},multiplyA:function(b){return void 0===b?this:(void 0===this.space.a&&(this.space.a=1),this.space.a*=b,this)},getRGBStyle:function(){return this.toRGB(),this.space.getStyle()},getRGBPreStyle:function(){return this.toRGB(),this.space.getPreStyle()},getHSLStyle:function(){return this.toHSL(),this.space.getStyle()},getHex:function(){return this.toRGB(),this.space.getHex()},setRGB:function(b,c,e,h){return this.space=new a,this.space.setRGB(b,c,e,h),this},setHSL:function(b,a,e,h){return this.space=new c,this.space.setHSL(b,a,e,h),this},setHex:function(b){return this.space=new a,b=Math.floor(b),this.space.r=(b>>16&255)/255,this.space.g=(b>>8&255)/255,this.space.b=(255&b)/255,this},setStyle:function(a){var c;if(c=h.exec(a)){c=c[1];a=c.length;if(3===a)return this.setRGB(parseInt(c.charAt(0)+c.charAt(0),16)/255,parseInt(c.charAt(1)+c.charAt(1),16)/255,parseInt(c.charAt(2)+c.charAt(2),16)/255),this;if(6===a)return this.setRGB(parseInt(c.charAt(0)+c.charAt(1),16)/255,parseInt(c.charAt(2)+c.charAt(3),16)/255,parseInt(c.charAt(4)+c.charAt(5),16)/255),this}else if(c=m.exec(a))switch(a=c[2],c[1]){case "rgb":if(c=l.exec(a))return this.setRGB(parseInt(c[1],10)/255,parseInt(c[2],10)/255,parseInt(c[3],10)/255),this;if(c=n.exec(a))return this.setRGB(parseInt(c[1],10)/100,parseInt(c[2],10)/100,parseInt(c[3],10)/100),this;break;case "rgba":if(c=w.exec(a))return this.setRGB(parseInt(c[1],10)/255,parseInt(c[2],10)/255,parseInt(c[3],10)/255,parseFloat(c[4])),this;if(c=t.exec(a))return this.setRGB(parseInt(c[1],10)/100,parseInt(c[2],10)/100,parseInt(c[3],10)/100,parseFloat(c[4])),this;break;case "hsl":if(c=r.exec(a))return this.setHSL(parseInt(c[1],10)/360,parseInt(c[2],10)/100,parseInt(c[3],10)/100),this;break;case "hsla":if(c=p.exec(a))return this.setHSL(parseInt(c[1],10)/360,parseInt(c[2],10)/100,parseInt(c[3],10)/100,parseFloat(c[4])),this}else a=a.toLowerCase(),void 0!==b[a]?this.setHex(b[a]):this.setHex(b.black)},copy:function(b){this.space=b.space.clone()},clone:function(){return new e(this)}});k.exports=e},function(k,f){k.exports={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074}},function(k,f,d){f=d(1);var e=d(4),g=function(){this.l=this.s=this.h=0};f.augment(g,{type:"hsl",setHSL:function(c,a,b,h){this.h=e.mod(c,1);this.s=e.clamp(a,0,1);this.l=e.clamp(b,0,1);void 0!==h?this.a=e.clamp(h,0,1):this.a=void 0},toRGB:function(){function c(a,b,c){return 0>c&&(c+=1),1<c&&--c,c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a}return function(){var a=this.h,b=this.s,e=this.l;if(0===b)return{r:e,g:e,b:e,a:this.a};b=.5>=e?e*(1+b):e+b-e*b;e=2*e-b;return{r:c(e,b,a+1/3),g:c(e,b,a),b:c(e,b,a-1/3),a:this.a}}}(),clone:function(){var c=new g;return c.h=this.h,c.s=this.s,c.l=this.l,c.a=this.a,c},copy:function(c){return this.h=c.h,this.s=c.s,this.l=c.l,this.a=c.a,this},getStyle:function(){return void 0===this.a?"hsl("+Math.round(360*this.h)+", "+Math.round(100*this.s)+"%, "+Math.round(100*this.l)+"%)":"hsla("+Math.round(360*this.h)+", "+Math.round(100*this.s)+"%, "+Math.round(100*this.l)+"%, "+this.a+")"}});k.exports=g},function(k,f,d){f=d(1);var e=d(4),g=function(){this.b=this.g=this.r=0;this.type="rgb"};f.augment(g,{type:"rgb",setRGB:function(c,a,b,h){this.r=e.clamp(c,0,1);this.g=e.clamp(a,0,1);this.b=e.clamp(b,0,1);void 0!==h?this.a=e.clamp(h,0,1):this.a=void 0},toHSL:function(){var c,a,b=this.r,e=this.g,d=this.b,l=Math.max(b,e,d);a=Math.min(b,e,d);var g=(a+l)/2;if(a===l)a=c=0;else{var n=l-a;switch(a=.5>=g?n/(l+a):n/(2-l-a),l){case b:c=(e-d)/n+(e<d?6:0);break;case e:c=(d-b)/n+2;break;case d:c=(b-e)/n+4}c/=6}return{h:c,s:a,l:g,a:this.a}},getHex:function(){return"#"+("000000"+(255*this.r<<16^255*this.g<<8^255*this.b<<0).toString(16)).slice(-6)},getStyle:function(){return void 0===this.a?"rgb("+Math.round(255*this.r).toString()+", "+Math.round(255*this.g).toString()+", "+Math.round(255*this.b).toString()+")":"rgba("+Math.round(255*this.r).toString()+", "+Math.round(255*this.g).toString()+", "+Math.round(255*this.b).toString()+", "+this.a+")"},getPreStyle:function(){return void 0===this.a?"rgb("+Math.round(100*this.r).toString()+"%, "+Math.round(100*this.g).toString()+"%, "+Math.round(100*this.b).toString()+"%)":"rgba("+Math.round(100*this.r).toString()+"%, "+Math.round(100*this.g).toString()+"%, "+Math.round(100*this.b).toString()+"%, "+this.a+")"},clone:function(){var c=new g;return c.r=this.r,c.g=this.g,c.b=this.b,c.a=this.a,c},copy:function(c){return this.r=c.r,this.g=c.g,this.b=c.b,this.a=c.a,this}});k.exports=g},function(k,f){function d(b,a,c){var e=r,h=p,d=[];b?h--:e--;for(var l=0;l<e;l++){d[l]=[];for(var m=0;m<h;m++){d[l][m]={};var n,g;if(n=a[l][m][2],g=b?a[l][m+1][2]:a[l+1][m][2],1E-9>Math.abs(n-g))d[l][m].rate=-2,d[l][m].have_iso_point=!1;else{var f=1E-9>Math.abs(c-n),w=1E-9>Math.abs(c-g),t=(c-n)*(c-g);f||w?(f?n+=u:g+=u,f=d[l][m].rate=(c-n)/(g-n),0<f&&1>f?d[l][m].have_iso_point=!0:d[l][m].have_iso_point=!1):0<t?(d[l][m].rate=-2,d[l][m].have_iso_point=!1):0>t&&(d[l][m].rate=(c-n)/(g-n),d[l][m].have_iso_point=!0)}}}return d}function e(a,c,e,d,l,m){var n=!1;e={value:e,path:[]};b(c,l,m);for(e.path.push(g(c,l,m));!n&&h(c,a,l,m,e);)n=!c.row&&c.isHorizon||!c.col&&!c.isHorizon||c.row==r-1||c.col==p-1;d.push(e)}function g(b,a,c){var e=b.row,h=b.col,d=l+e*w,m=n+h*t;return b.isHorizon?m+=a[e][h].rate*t:d+=c[e][h].rate*w,[d,m]}function c(b,c,e){return{row:b||0,col:c||0,isHorizon:e||0,clone:a}}function a(b){this.row=b.row;this.col=b.col;this.isHorizon=b.isHorizon}function b(b,a,c){var e=b.row,h=b.col;return b.isHorizon?a[e][h].have_iso_point=!1:c[e][h].have_iso_point=!1,b}function h(a,e,h,d,l){var n=c(),f=c(),w=c();a.row>e.row?(n.clone(a),n.isHorizon=!1,f.clone(n),f.col+=1,w.clone(a),w.row+=1):a.col>e.col?(f.clone(a),f.isHorizon=!0,n.clone(f),n.row+=1,w.clone(a),w.col+=1):a.isHorizon?(f.clone(a),--f.row,f.isHorizon=!1,n.clone(f),n.col+=1,w.clone(a),--w.row):(n.clone(a),--n.col,n.isHorizon=!0,f.clone(n),f.row+=1,w.clone(a),--w.col);for(var n=[n,f,w],f=[],w={},t=!1,r=0;3>r;r++){var p=n[r],k=p.row,u=p.col;f[r]=p.isHorizon?h[k][u].have_iso_point:d[k][u].have_iso_point}if(f[0]&&f[1]&&f[2])w=m(a,n[0],h,d)<m(a,n[1],h,d)?b(n[0],h,d):b(n[1],h,d),t=!0;else for(r=0;3>r;r++)if(f[r]){w=b(n[r],h,d);t=!0;break}return t&&(l.path.push(g(w,h,d)),e.clone(a),a.clone(w)),t}function m(b,a,c,e){b=g(b,c,e);c=g(a,c,e);a=b.x-c.x;b=b.y-c.y;return Math.sqrt(a*a+b*b)}var l,w,n,t,r=0,p=0,u=.001;k.exports=function(b,a){var m,f,k,u=[];(r=b.length)&&(p=b[0].length);1<r&&1<p&&(l=b[0][0][0],n=b[0][0][1],w=b[1][0][0]-b[0][0][0],t=b[0][1][1]-b[0][0][1]);for(var y=0;y<a.length;y++){m=a[y];k=b;var D=m;f=d(!0,k,D);k=d(!1,k,D);k=[f,k];f=k[0];k=k[1];var D=f,F=k,J=m,I=u,E,G=c(),C=c();for(E=0;E<r-1;E++)F[E][0].have_iso_point&&(G=c(E,-1,!1),C=c(E,0,!1),e(G,C,J,I,D,F));for(E=0;E<p-1;E++)D[r-1][E].have_iso_point&&(G=c(r,E,!0),C=c(r-1,E,!0),e(G,C,J,I,D,F));for(E=0;E<r-1;E++)F[E][p-1].have_iso_point&&(G=c(E,p,!1),C=c(E,p-1,!1),e(G,C,J,I,D,F));for(E=0;E<p-1;E++)D[0][E].have_iso_point&&(G=c(-1,E,!0),C=c(0,E,!0),e(G,C,J,I,D,F));D=u;c();c();for(J=0;J<p-1;J++)for(F=0;F<r-1;F++)if(k[F][J].have_iso_point){I=c(F,0,!1);G=c(F,J,!1);C=f;E=k;var H=D,L=G.row,K=G.col,M=!1,N={value:m,path:[]};for(N.path.push(g(G,C,E));!M&&h(G,I,C,E,N);)M=G.row==L&&G.col==K&&!G.isHorizon;H.push(N)}}return u}},function(k,f,d){f=d(1);d=d(49);var e=function(d){d.inner=d.inner||0;e.superclass.constructor.call(this,d)};f.extend(e,d);f.augment(e,{type:"clock"});k.exports=e},function(k,f,d){f=d(1);d=d(49);var e=function(d){d.inner=d.inner||0;e.superclass.constructor.call(this,d)};f.extend(e,d);f.augment(e,{type:"gauge"});k.exports=e},function(k,f,d){var e=d(1);f=d(72);var g=d(151),c=function(a){var b={};e.mix(b,c.ATTRS,a);c.superclass.constructor.call(this,b);a=this.get("projection");b=this.get("basic");this.set("project",new g[a]({basic:b}))};c.ATTRS={projection:"mercator"};e.extend(c,f);e.augment(c,{type:"map",_getOriginRange:function(){var a=this.get("originMin")[0],b=this.get("originMin")[1],c=this.get("originMax")[0],e=this.get("originMax")[1];return{xMin:a,yMin:b,range:{x:c-a,y:e-b}}},_getProjectRange:function(){var a=this.get("min")?this.get("min"):this.get("originMin"),b=this.get("max")?this.get("max"):this.get("originMax"),c=a[0],a=a[1];return{xMin:c,yMin:a,range:{x:b[0]-c,y:b[1]-a}}},_invert:function(a,b){var c;"origin"===b?c=this._getOriginRange():"project"===b&&(c=this._getProjectRange());var e=c.yMin,d=c.range;return a.x=c.xMin+a.x*d.x,a.y=e+a.y*d.y,a},_scale:function(a,b){var c;"origin"===b?c=this._getOriginRange():"project"===b&&(c=this._getProjectRange());var e=c.yMin,d=c.range;return a.x=(a.x-c.xMin)/d.x,a.y=(a.y-e)/d.y,a},convertPoint:function(a){var b=this.isTransposed?a.y:a.x,c=this.isTransposed?a.x:a.y;a=this.get("project");b=this._invert({x:b,y:c},"origin");return b=a.project(b.x,b.y),b=this._scale(b,"project"),{x:this.convertDim(b.x,"x"),y:this.convertDim(b.y,"y")}},invertPoint:function(a){var b=this.invertDim(a.x,"x"),c=this.invertDim(a.y,"y");a={};a.x=this.isTransposed?c:b;a.y=this.isTransposed?b:c;b=this.get("project");return a=this._invert(a,"project"),a=b.invert(a),this._scale(a,"origin")}});k.exports=c},function(k,f,d){f=d(1);var e=d(38),g=d(3).Vector2,c=function(a){a.inner=a.inner||0;c.superclass.constructor.call(this,a);a=this.get("x");this.set("x",this.get("y"));this.set("y",a)};f.extend(c,e);f.augment(c,{type:"rho",convertPoint:function(a){var b=this.getCenter(),c=this.get("y").start;a=this.convertDim(a.x,"x");return{x:b.x+Math.cos(c)*a,y:b.y+Math.sin(c)*a}},invertPoint:function(a){var b=this.getCenter();a=(new g(a.x-b.x,a.y-b.y)).length();return{x:this.invertDim(a,"x")}}});k.exports=c},function(k,f,d){f=d(1);var e=d(38),g=d(3),c=d(4),a=g.Vector2,b=g.Matrix3,h=g.Vector3,m=function(b){b.inner=b.inner||0;m.superclass.constructor.call(this,b)};f.extend(m,e);f.augment(m,{type:"theta",convertPoint:function(b){var a=this.getCenter();b=this.convertDim(b.x,"x");var c=this.get("y").end;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},invertPoint:function(e){var d=this.getCenter(),d=new a(e.x-d.x,e.y-d.y);e=this.get("x");var m=new b;m.rotate(e.start);var g=new h(1,0,0);g.applyMatrix(m);g=new a(g.x,g.y);d=g.angleTo(d,e.end<e.start);c.equal(d,2*Math.PI)&&(d=0);d/=e.end-e.start;return d=0<e.end-e.start?d:-d,{x:d}}});k.exports=m},function(k,f,d){function e(c){var a={};g.mix(a,e.ATTRS,c);e.superclass.constructor.call(this,a);this._init()}var g=d(1);f=d(37);e.ATTRS={start:{x:0,y:0},end:{x:0,y:0},top:.5};g.extend(e,f);g.augment(e,{type:"triAngle",triAngle:!0,_init:function(){return this.setTopfactor(),this},setTopfactor:function(){var c=this.get("start"),a=this.get("end"),b=a.x,e=c.y,d=c.x+(a.x-c.x)*this.get("top"),l=a.y;this.getXStart=function(b){return c.x+(d-c.x)/(l-c.y)*(b-c.y)};this.getXEnd=function(a){return b+(d-b)/(l-e)*(a-e)}},set:function(c,a){return this._attrs[c]=a,"top"===c&&this.setTopfactor(),this},convertPoint:function(c){var a=this.get("start"),b=this.get("end"),e=c.y;c=c.x;isNaN(e)&&(e=0);e=a.y+(b.y-a.y)*e;a=this.getXStart(e);b=this.getXEnd(e);return c=a+(b-a)*c,{x:c,y:e}},invertPoint:function(c){var a=this.get("start"),b=this.get("end"),e=this.getXStart(c.y),d=this.getXEnd(c.y);return{x:-((c.x-e)/(e-d)),y:-(c.y-a.y)/(b.y-a.y)}}});k.exports=e},function(k,f){function d(c,a,b){b=new Date(b);switch(isNaN(b)&&(b=new Date),a=parseInt(a,10),c){case "s":b=new Date(b.getTime()+1E3*a);break;case "n":b=new Date(b.getTime()+6E4*a);break;case "h":b=new Date(b.getTime()+36E5*a);break;case "d":b=new Date(b.getTime()+864E5*a);break;case "w":b=new Date(b.getTime()+6048E5*a);break;case "m":b=new Date(b.getFullYear(),b.getMonth()+a,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds());break;case "y":b=new Date(b.getFullYear()+a,b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds())}return b}var e=/^(?:(?!0000)[0-9]{4}([-\/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-\/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,g=function(){var c=/w{1}|d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,b=/[^-+\dA-Z]/g,e=function(b,a){b=String(b);for(a=a||2;b.length<a;)b="0"+b;return b},d={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUTCDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",localShortDate:"yy\u5e74mm\u6708dd\u65e5",localShortDateTime:"yy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localLongDate:"yyyy\u5e74mm\u6708dd\u65e5",localLongDateTime:"yyyy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localFullDate:"yyyy\u5e74mm\u6708dd\u65e5 w",localFullDateTime:"yyyy\u5e74mm\u6708dd\u65e5 w hh:MM:ss TT"},l="Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday \u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),g="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ");return function(n,f,r){if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(n)||/\d/.test(n)||(f=n,n=void 0),n=n?new Date(n):new Date,isNaN(n))throw SyntaxError("invalid date");f=String(d[f]||f||d["default"]);"UTC:"===f.slice(0,4)&&(f=f.slice(4),r=!0);var p=r?"getUTC":"get",k=n[p+"Date"](),q=n[p+"Day"](),B=n[p+"Month"](),z=n[p+"FullYear"](),x=n[p+"Hours"](),v=n[p+"Minutes"](),A=n[p+"Seconds"](),p=n[p+"Milliseconds"](),y=r?0:n.getTimezoneOffset(),D={d:k,dd:e(k,void 0),ddd:l[q],dddd:l[q+7],w:l[q+14],m:B+1,mm:e(B+1,void 0),mmm:g[B],mmmm:g[B+12],yy:String(z).slice(2),yyyy:z,h:x%12||12,hh:e(x%12||12,void 0),H:x,HH:e(x,void 0),M:v,MM:e(v,void 0),s:A,ss:e(A,void 0),l:e(p,3),L:e(99<p?Math.round(p/10):p,void 0),t:12>x?"a":"p",tt:12>x?"am":"pm",T:12>x?"A":"P",TT:12>x?"AM":"PM",Z:r?"UTC":(String(n).match(a)||[""]).pop().replace(b,""),o:(0<y?"-":"+")+e(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][3<k%10?0:(10!==k%100-k%10)*k%10]};return f.replace(c,function(b){return b in D?D[b]:b.slice(1,b.length-1)})}}();k.exports={add:function(c,a,b){return d(c,a,b)},addHour:function(c,a){return d("h",c,a)},addMinute:function(c,a){return d("n",c,a)},addSecond:function(c,a){return d("s",c,a)},addDay:function(c,a){return d("d",c,a)},addWeek:function(c,a){return d("w",c,a)},addMonths:function(c,a){return d("m",c,a)},addYear:function(c,a){return d("y",c,a)},isDateEquals:function(c,a){return c.getFullYear()===a.getFullYear()&&c.getMonth()===a.getMonth()&&c.getDate()===a.getDate()},isEquals:function(c,a){return c===a||!(!c||!a)&&!(!c.getTime||!a.getTime)&&c.getTime()===a.getTime()},isDateString:function(c){return e.test(c)},format:function(c,a,b){return g(c,a,b)},parse:function(c){return"string"==typeof c&&(c=c.replace(/-/g,"/")),c instanceof Date?c:new Date(c)},today:function(){var c=new Date;return new Date(c.getFullYear(),c.getMonth(),c.getDate())},getDate:function(c){return new Date(c.getFullYear(),c.getMonth(),c.getDate())}}},function(k,f,d){var e=d(1);f=function(e,c,a,b){this.type=e;this.currentTarget=this.target=null;this.bubbles=a;this.cancelable=b;this.timeStamp=(new Date).getTime();this.removed=this.propagationStopped=this.defaultPrevented=!1;this.event=c};e.augment(f,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return e.clone(this)},toString:function(){return"[Event (type\x3d"+this.type+")]"}});k.exports=f},function(k,f){k.exports=function(d,e){var g=[],c=e.length,a,b,h,m,l=!0;for(a=0;a<c-1;a++){if(0==d[a][a]){l=!1;break}for(b=a+1;b<c;b++)for(m=-d[b][a]/d[a][a],e[b]+=m*e[a],h=a;h<c;h++)d[b][h]+=m*d[a][h]}for(a=0;a<c;a++)if(0==d[a][a]){l=!1;break}if(l)for(g[c-1]=e[c-1]/d[c-1][c-1],a=c-2;0<=a;a--){g[a]=e[a];for(b=a+1;b<c;b++)g[a]-=d[a][b]*g[b];g[a]/=d[a][a]}else g=!1;return g}},function(k,f,d){var e=d(1),g=d(308);f=function(c){e.mix(this,c)};e.augment(f,{get:function(c){return this[c]},set:function(c,a){this[c]=a},width:500,height:500,x:0,y:0,min:null,max:null,formatter:function(c){return c},radius:60,blur:0,colors:["rgb(0,0,255)","rgb(0,0,255)","rgb(0,255,0)","yellow","rgb(255,0,0)"],_mkcircle:function(c,a,b,e){var d=this.radius;c=e.createRadialGradient(c,a,d*this.blur,c,a,d);c.addColorStop(0,"rgba(0, 0, 0, 1)");c.addColorStop(1,"rgba(0, 0, 0, 0)");e.globalAlpha=b;e.fillStyle=c},_colorise:function(c){c=c.getImageData(this.x,this.y,this.width,this.height);for(var a=c.data,b=a.length,e=g.gradient(this.colors),d=3;d<b;d+=4){var l=a[d];if(l){var f=g.Util.rgb2arr(e(l/256));a[d-3]=f[0];a[d-2]=f[1];a[d-1]=f[2];a[d]=l}}return c},getData:function(c){for(var a=[],b=c.length-1;0<=b;b--)a.push(c[b][2]);var h=e.isNull(this.max)?Math.max.apply(null,a):this.max,a=e.isNull(this.min)?Math.min.apply(null,a):this.min;if(h===a)return!1;var b=document.createElement("canvas"),d=b.getContext("2d");b.width=this.width+this.x;b.height=this.height+this.y;for(var l=this.formatter,b=c.length-1;0<=b;b--){var g=(l(c[b][2])-l(a))/(l(h)-l(a));this._mkcircle(c[b][0],c[b][1],g,d);d.fillRect(0,0,this.width+this.x,this.height+this.y)}return this._colorise(d)}});k.exports=f},function(k,f,d){f=d(147);k.exports={interpolation:f.interpolation,unInterpolation:f.unInterpolation}},function(k,f,d){var e=d(40);k.exports={array:function(d,c){for(var a=[],b=Math.min(d.length,c.length),h=0;h<b;h++)a[h]=e.singular(d[h],c[h]);return function(c){for(var e=[],h=0;h<b;h++)e[h]=a[h](c);return e}},unArray:function(d,c){for(var a=[],b=Math.min(d.length,c.length),h=0;h<b;h++)a[h]=e.unSingular(d[h],c[h]);return function(b){for(var c=Math.min(a.length,b.length),e=0,h=0,d=0;d<c;d++)e+=a[d](b[d]),h++;return 0===h?0:e/h}}}},function(k,f,d){function e(a,c){var e=a.getR(),d=a.getG(),n=a.getB(),g=a.getA(),f=c.getR()-e,p=c.getG()-d,k=c.getB()-n,q=c.getA();return void 0===g&&void 0===q||(g=g||1,q=(void 0===q?1:q)-g),function(a){var c=new b;return c.setRGB(e+f*a,d+p*a,n+k*a,void 0!==g&&void 0!==q?g+q*a:void 0),c.getRGBStyle()}}function g(a,c){var e=a.getR(),d=a.getG(),n=a.getB(),g=a.getA(),f=c.getR()-e,p=c.getG()-d,k=c.getB()-n,q=c.getA();return void 0===g&&void 0===q||(g=g||1,q=(void 0===q?1:q)-g),function(a){if(a=new b(a),!a.getType())return 0;var c=a.getR(),h=a.getG(),m=a.getB();a=a.getA();var A=0,y=0;return 0!==f&&(A+=(c-e)/f,y++),0!==p&&(A+=(h-d)/p,y++),0!==k&&(A+=(m-n)/k,y++),0!==q&&q&&(A+=((a||1)-g)/q,y++),0===y?0:A/y}}function c(a,c){var e=a.getH(),d=a.getS(),n=a.getL(),g=a.getA(),f=c.getH()-e,p=c.getS()-d,k=c.getL()-n,q=c.getA();return void 0===g&&void 0===q||(g=g||1,q=(void 0===q?1:q)-g),function(a){var c=new b;return c.setHSL(e+f*a,d+p*a,n+k*a,void 0!==g&&void 0!==q?g+q*a:void 0),c.getHSLStyle()}}function a(a,c){var e=a.getH(),d=a.getS(),n=a.getL(),g=a.getA(),f=c.getH()-e,p=c.getS()-d,k=c.getL()-n,q=c.getA();return void 0===g&&void 0===q||(g=g||1,q=(void 0===q?1:q)-g),function(a){if(a=new b(a),!a.getType())return 0;var c=a.getH(),h=a.getS(),m=a.getL();a=a.getA();var A=0,y=0;return 0!==f&&(A+=(c-e)/f,y++),0!==p&&(A+=(h-d)/p,y++),0!==k&&(A+=(m-n)/k,y++),0!==q&&q&&(A+=((a||1)-g)/q,y++),0===y?0:A/y}}var b=d(36);k.exports={color:function(b,a){switch(a.getType()){case "rgb":return e(b,a);case "hsl":return c(b,a)}},unColor:function(b,c){switch(c.getType()){case "rgb":return g(b,c);case "hsl":return a(b,c)}}}},function(k,f,d){var e=d(1),g=d(145),c=d(150),a=d(40),b=d(148),h=d(3).Matrix3;k.exports={interpolation:function(d,l){return d instanceof h&&l instanceof h?b.matrix(d,l):e.isArray(d)&&e.isArray(l)?g.array(d,l):e.isObject(d)&&e.isObject(l)?c.object(d,l):a.singular(d,l)},unInterpolation:function(d,l){return d instanceof h&&l instanceof h?b.unMatrix(d,l):e.isArray(d)&&e.isArray(l)?g.unArray(d,l):e.isObject(d)&&e.isObject(l)?c.unObject(d,l):a.unSingular(d,l)}}},function(k,f,d){var e=d(40),g=d(3).Matrix3;k.exports={matrix:function(c,a){for(var b=[],d=c.elements,m=a.elements,l=0;9>l;l++)b[l]=e.singular(d[l],m[l]);return function(a){for(var c=new g,e=c.elements,d=0;9>d;d++)e[d]=b[d](a);return c}},unMatrix:function(c,a){for(var b=[],d=c.elements,m=a.elements,l=0;9>l;l++)b[l]=e.unSingular(d[l],m[l]);return function(a){a=a.elements;for(var c=0,e=0,d=0;9>d;d++){var h=b[d](a[d]);0!==h&&(c+=h,e++)}return c/e}}}},function(k,f){k.exports={number:function(d,e){return d=+d,e=+e,function(g){return d*(1-g)+e*g}},unNumber:function(d,e){return e-=d,function(g){return 0===e?0:(g-d)/e}}}},function(k,f,d){var e=d(40);k.exports={object:function(d,c){var a={},b;for(b in d)b in c&&(a[b]=e.singular(d[b],c[b]));return function(b){var c={},e;for(e in a)c[e]=a[e](b);return c}},unObject:function(d,c){var a={},b;for(b in d)b in c&&(a[b]=e.unSingular(d[b],c[b]));return function(b){var c=0,e=0,d;for(d in a)d in b&&(c+=a[d](b[d]),e++);return 0===e?0:c/e}}}},function(k,f,d){f={albers:d(152),mercator:d(153),orthographic:d(154)};k.exports=f},function(k,f,d){f=d(1);d=d(51);var e=function(d){e.superclass.constructor.call(this,d);this._init()};f.extend(e,d);f.augment(e,{"\u03bb0":0,"\u03c60":0,"\u03c61":0,"\u03c62":0,basic:[0,0,0,60],_init:function(){this.\u03bb0=this.toRadians(this.basic[0]);this.\u03c60=this.toRadians(this.basic[1]);this.\u03c61=this.toRadians(this.basic[2]);this.\u03c62=this.toRadians(this.basic[3])},project:function(e,c){var a=this.\u03bb0,b=(this.\u03c60,this.\u03c61),d=.5*(Math.sin(b)+Math.sin(this.\u03c62)),m=Math.cos(b),m=m*m+2*d*Math.sin(b),b=Math.sqrt(m-2*d*Math.sin(a))/d,a=d*(this.toRadians(e)-a),d=Math.sqrt(m-2*d*Math.sin(this.toRadians(c)))/d;return{x:this.toDegrees(d*Math.sin(a)),y:this.toDegrees(b-d*Math.cos(a))}},invert:function(e){var c=this.\u03bb0,a=(this.\u03c60,this.\u03c61),b=this.\u03c62,d=this.toRadians(e.x);e=this.toRadians(e.y);var b=.5*(Math.sin(a)+Math.sin(b)),m=Math.cos(a),a=m*m+2*b*Math.sin(a),m=Math.sqrt(a-2*b*Math.sin(c))/b,l=Math.sqrt(d*d+Math.pow(m-e,2));return{x:this.toDegrees(c+Math.atan(d/(m-e))/b),y:this.toDegrees(Math.asin((a-l*l*b*b)/(2*b)))}}});k.exports=e},function(k,f,d){f=d(1);d=d(51);var e=function(d){e.superclass.constructor.call(this,d);this._init()};f.extend(e,d);f.augment(e,{"\u03bb0":0,_init:function(){this.\u03bb0=this.toRadians(this.\u03bb0)},project:function(e,c){return e=this.toRadians(e),c=this.toRadians(c),{x:this.toDegrees(e-this.\u03bb0),y:this.toDegrees(Math.log(Math.tan(Math.PI/4+c/2)))}},invert:function(e){var c=this.toRadians(e.x);e=this.toRadians(e.y);return{x:this.toDegrees(c+this.\u03bb0),y:this.toDegrees(2*Math.atan(Math.exp(e))-Math.PI/2)}}});k.exports=e},function(k,f,d){f=d(1);d=d(51);var e=function(d){e.superclass.constructor.call(this,d);this._init()};f.extend(e,d);f.augment(e,{"\u03bb0":110,"\u03c61":25,_init:function(){this.\u03bb0=this.toRadians(this.\u03bb0);this.\u03c61=this.toRadians(this.\u03c61)},project:function(e,c){e=this.toRadians(e);c=this.toRadians(c);var a=Math.cos(\u03c61)*Math.sin(c)-Math.sin(\u03c61)*Math.cos(c)*Math.cos(e-\u03bb0);return{x:this.toDegrees(Math.cos(c)*Math.sin(e-this.\u03bb0)),y:this.toDegrees(a)}},invert:function(e){var c=this.toRadians(e.x);e=this.toRadians(e.y);var a=Math.sqrt(c*c+e*e),b=Math.asin(a),d=Math.asin(Math.cos(b)*Math.sin(this.\u03c61)+e*Math.sin(b)*Math.cos(this.\u03c61)/a);return{x:this.toDegrees(this.\u03bb0+Math.atan(c*Math.sin(b)/(a*Math.cos(this.\u03c61)*Math.cos(b)-e*Math.sin(this.\u03c611)*Math.sin(b)))),y:this.toDegrees(d)}}});k.exports=e},function(k,f,d){f=(d(2),d(28),{region:d(159),center:d(156),name:d(158),location:d(157)});k.exports=f},function(k,f,d){var e=d(1),g=d(28);k.exports=function(c,a){return new g({dims:c,mapData:a,addGeoInfo:function(b,a){var c=this,d=c.getDims(),g=b[d[d.length-1]],d=c.mapData.features,n=a[0],f=a[1];return b[n]=[],b[f]=[],d&&e.each(d,function(a){if((a.properties?a.properties.name:"")===g){var e=a.properties.cp;e||(a=c._getBBox(a.geometry.coordinates),e=[a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2]);return b[n]=e[0],b[f]=e[1],!1}}),b},_getBBox:function(b){var a=[],c=[];b=this._getPoints(b);return e.each(b,function(b){a.push(b[0]);c.push(b[1])}),[Math.min.apply(null,a),Math.min.apply(null,c),Math.max.apply(null,a),Math.max.apply(null,c)]},_getPoints:function(b){var a=this,c=[];return e.isArray(b[0])?e.each(b,function(b){b=a._getPoints(b);c=c.concat(b)}):c.push(b),c}})}},function(k,f,d){var e=d(28);k.exports=function(d){return new e({dims:d,initDims:function(c){var a=c.slice(0,2);c=c.slice(2).concat(a);c.unshift("..lant");c.unshift("..long");this.dims=c},addGeoInfo:function(c,a){var b=a[0],e=a[1],d=this.getDims(),l=d.length;return c[b]=c[d[l-2]],c[e]=c[d[l-1]],c}})}},function(k,f,d){var e=d(1),g=d(28);k.exports=function(c,a){return new g({dims:c,mapData:a,initDims:function(b){b.push("..name")},addGeoInfo:function(b,a){var c=this,d=c.getDims(),g=[b[d[0]],b[d[1]]],n=!1,d=c.mapData.features;return b[a]="",d&&e.each(d,function(d){var l=d.geometry.coordinates;if("Polygon"===d.geometry.type?e.each(l,function(b){if(n=c._isInside(g,b))return!1}):"MultiPolygon"===d.geometry.type&&e.each(l,function(b){return!n&&void e.each(b,function(b){if(n=c._isInside(g,b))return!1})}),n)return d=d.properties?d.properties.name:"",b[a]=c.names?c.names.indexOf(d):d,!1}),b},_isInside:function(b,a){for(var c=b[0],e=b[1],d=!1,n=0,g=a.length-1;n<a.length;g=n++){var f=a[n][0],p=a[n][1],k=a[g][0],g=a[g][1];p>e!=g>e&&c<(k-f)*(e-p)/(g-p)+f&&(d=!d)}return d}})}},function(k,f,d){var e=d(1),g=d(28);k.exports=function(c,a){return new g({dims:c,mapData:a,addGeoInfo:function(b,a){var c=this,d=c.getDims(),g=b[d[d.length-1]],d=c.mapData.features,n=a[0],f=a[1];return b[n]=[],b[f]=[],d&&e.each(d,function(a){if((a.properties?a.properties.name:"")===g){a=a.geometry;var e=a.coordinates;return"Polygon"===a.type?e.forEach(function(a){c._getCoordinates(a,b[n],b[f])}):"MultiPolygon"===a.type&&e.forEach(function(a){a.forEach(function(a){c._getCoordinates(a,b[n],b[f])})}),!1}}),b},_getCoordinates:function(b,a,c){return e.each(b,function(b){a.push(b[0]);c.push(b[1])}),!1}})}},function(k,f){function d(c,a){var b=c.length;if(0===b)return NaN;var e=c[0];if(a<c[0])return NaN;if(a>=c[b-1])return c[b-1];for(b=1;b<c.length&&!(a<c[b]);b++)e=c[b];return e}function e(c,a){var b=c.length;if(0===b)return NaN;var e;if(a>c[b-1])return NaN;if(a<c[0])return c[0];for(b=1;b<c.length;b++)if(a<=c[b]){e=c[b];break}return e}var g={PRECISION:1E-5,equal:function(c,a){return Math.abs(c-a)<g.PRECISION},clamp:function(c,a,b){return c<a?a:c>b?b:c},snapTo:function(c,a){var b=d(c,a),h=e(c,a);if(isNaN(b)||isNaN(h)){if(c[0]>=a)return c[0];var m=c[c.length-1];if(m<=a)return m}return Math.abs(a-b)<Math.abs(h-a)?b:h},snapFloor:function(c,a){return d(c,a)},snapCeiling:function(c,a){return e(c,a)},degreeToRad:function(c){return Math.PI/180*c},radToDegree:function(c){return 180/Math.PI*c},mod:function(c,a){return(c%a+a)%a}};k.exports=g},function(k,f,d){function e(){"undefined"!=typeof Float32Array?this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]):this.elements=[1,0,0,0,1,0,0,0,1]}f=d(1);var g=d(4);e.multiply=function(c,a){var b=c.elements,d=a.elements;return(new e).set(b[0]*d[0]+b[3]*d[1]+b[6]*d[2],b[0]*d[3]+b[3]*d[4]+b[6]*d[5],b[0]*d[6]+b[3]*d[7]+b[6]*d[8],b[1]*d[0]+b[4]*d[1]+b[7]*d[2],b[1]*d[3]+b[4]*d[4]+b[7]*d[5],b[1]*d[6]+b[4]*d[7]+b[7]*d[8],b[2]*d[0]+b[5]*d[1]+b[8]*d[2],b[2]*d[3]+b[5]*d[4]+b[8]*d[5],b[2]*d[6]+b[5]*d[7]+b[8]*d[8])};e.equal=function(c,a){for(var b=c.elements,e=a.elements,d=!0,l=0,f=b.length;l<f;l++)if(!g.equal(b[l],e[l])){d=!1;break}return d};f.augment(e,{type:"matrix3",set:function(c,a,b,e,d,l,g,n,f){var k=this.elements;return k[0]=c,k[3]=a,k[6]=b,k[1]=e,k[4]=d,k[7]=l,k[2]=g,k[5]=n,k[8]=f,this},get:function(c,a){return c--,a--,this.elements[3*a+c]},identity:function(){return this.set(1,0,0,0,1,0,0,0,1)},multiplyScalar:function(c){var a=this.elements;return a[0]*=c,a[3]*=c,a[6]*=c,a[1]*=c,a[4]*=c,a[7]*=c,a[2]*=c,a[5]*=c,a[8]*=c,this},det:function(){var c=this.elements,a=c[0],b=c[1],e=c[2],d=c[3],l=c[4],g=c[5],n=c[6],f=c[7],c=c[8];return a*l*c-a*g*f-b*d*c+b*g*n+e*d*f-e*l*n},inverse:function(c){return this.copy(this.getInverse(c))},getInverse:function(c){var a=this.det();if(0===a){if(c)throw"matrix exception: get inverse matrix with 0 det";return console.warn("matrix cannot inverse"),new e}c=this.elements;var b=(c[0],c[3],c[6],c[1],c[4],c[7],c[2],c[5],c[8],new e);return b.set(c[4]*c[8]-c[7]*c[5],-(c[3]*c[8]-c[6]*c[5]),c[3]*c[7]-c[6]*c[4],-(c[1]*c[8]-c[7]*c[2]),c[0]*c[8]-c[6]*c[2],-(c[0]*c[7]-c[6]*c[1]),c[1]*c[5]-c[4]*c[2],-(c[0]*c[5]-c[3]*c[2]),c[0]*c[4]-c[3]*c[1]),b.multiplyScalar(1/a),b},transpose:function(){var c,a=this.elements;return c=a[1],a[1]=a[3],a[3]=c,c=a[2],a[2]=a[6],a[6]=c,c=a[5],a[5]=a[7],a[7]=c,this},multiply:function(c){return this.copy(e.multiply(this,c))},translate:function(c,a){var b=new e;return b.set(1,0,c,0,1,a,0,0,1),this.copy(e.multiply(b,this))},rotate:function(c){var a=new e;return a.set(Math.cos(c),-Math.sin(c),0,Math.sin(c),Math.cos(c),0,0,0,1),this.copy(e.multiply(a,this))},scale:function(c,a){var b=new e;return b.set(c,0,0,0,a,0,0,0,1),this.copy(e.multiply(b,this))},equal:function(c){return e.equal(this,c)},copy:function(c){c=c.elements;for(var a=this.elements,b=0,e=c.length;b<e;b++)a[b]=c[b];return this},clone:function(){for(var c=new e,a=c.elements,b=this.elements,d=0,m=b.length;d<m;d++)a[d]=b[d];return c},to2DObject:function(){var c=this.elements;return{a:c[0],b:c[1],c:c[3],d:c[4],e:c[6],f:c[7]}},from2DObject:function(c){var a=this.elements;return a[0]=c.a,a[1]=c.b,a[3]=c.c,a[4]=c.d,a[6]=c.e,a[7]=c.f,this}});k.exports=e},function(k,f,d){function e(c,a){if(1===arguments.length){var b=c;c=b[0];a=b[1]}this.x=c||0;this.y=a||0}f=d(1);var g=d(4);e.add=function(c,a){return new e(c.x+a.x,c.y+a.y)};e.sub=function(c,a){return new e(c.x-a.x,c.y-a.y)};e.lerp=function(c,a,b){return new e(c.x+(a.x-c.x)*b,c.y+(a.y-c.y)*b)};e.angle=function(c,a){var b=c.dot(a)/(c.length()*a.length());return Math.acos(g.clamp(b,-1,1))};e.direction=function(c,a){return c.x*a.y-a.x*c.y};f.augment(e,{type:"vector2",set:function(c,a){return this.x=c,this.y=a,this},setComponent:function(c,a){switch(c){case 0:return this.x=a,this;case 1:return this.y=a,this;default:throw Error("the index out of range:"+c);}},getComponent:function(c){switch(c){case 0:return this.x;case 1:return this.y;default:throw Error("the index out of range:"+c);}},copy:function(c){return this.x=c.x,this.y=c.y,this},add:function(c){return this.copy(e.add(this,c))},sub:function(c){return this.copy(e.sub(this,c))},subBy:function(c){return this.copy(e.sub(c,this))},multiplyScaler:function(c){return this.x*=c,this.y*=c,this},divideScaler:function(c){0!==c?(c=1/c,this.x*=c,this.y*=c):this.y=this.x=0;return this},min:function(c){return this.x>c.x&&(this.x=c.x),this.y>c.y&&(this.y=c.y),this},max:function(c){return this.x<c.x&&(this.x=c.x),this.y<c.y&&(this.y=c.y),this},clamp:function(c,a){return this.x<c.x?this.x=c.x:this.x>a.x&&(this.x=a.x),this.y<c.y?this.y=c.y:this.y>a.y&&(this.y=a.y),this},clampScale:function(){var c,a;return function(b,d){return void 0===c&&(c=new e,a=new e),c.set(b,b),a.set(d,d),this.clamp(c,a)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(c){return this.x*c.x+this.y*c.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScaler(this.length())},distanceToSquared:function(c){var a=this.x-c.x;c=this.y-c.y;return a*a+c*c},distanceTo:function(c){return Math.sqrt(this.distanceToSquared(c))},angleTo:function(c,a){var b=this.angle(c),d=0<=e.direction(this,c);return a?d?2*Math.PI-b:b:d?b:2*Math.PI-b},vertical:function(c){return c?new e(this.y,-this.x):new e(-this.y,this.x)},angle:function(c){return e.angle(this,c)},setLength:function(c){var a=this.length();return 0!==a&&c!==a&&this.multiplyScaler(c/a),this},isZero:function(){return 0===this.x&&0===this.y},lerp:function(c,a){return this.copy(e.lerp(this,c,a))},equal:function(c){return g.equal(this.x,c.x)&&g.equal(this.y,c.y)},clone:function(){return new e(this.x,this.y)}});k.exports=e},function(k,f,d){function e(a,b,c){if(1===arguments.length)if(g.isArray(a)){var e=a;a=e[0];b=e[1];c=e[2]}else"vector2"===a.type&&(e=a,a=e.x,b=e.y,c=1);this.x=a||0;this.y=b||0;this.z=c||0}var g=d(1),c=d(4);e.add=function(a,b){return new e(a.x+b.x,a.y+b.y,a.z+b.z)};e.sub=function(a,b){return new e(a.x-b.x,a.y-b.y,a.z-b.z)};e.lerp=function(a,b,c){return new e(a.x+(b.x-a.x)*c,a.y+(b.y-a.y)*c,a.z+(b.z-a.z)*c)};e.cross=function(a,b){var c=a.x,d=a.y,l=a.z,g=b.x,n=b.y,f=b.z;return new e(d*f-l*n,l*g-c*f,c*n-d*g)};e.angle=function(a,b){var e=a.dot(b)/(a.length()*b.length());return Math.acos(c.clamp(e,-1,1))};g.augment(e,{type:"vector3",set:function(a,b,c){return this.x=a,this.y=b,this.z=c,this},setComponent:function(a,b){switch(a){case 0:return this.x=b,this;case 1:return this.y=b,this;case 2:return this.z=b,this;default:throw Error("index is out of range:"+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range:"+a);}},add:function(a){return this.copy(e.add(this,a))},sub:function(a){return this.copy(e.sub(this,a))},subBy:function(a){return this.copy(e.sub(a,this))},multiplyScaler:function(a){return this.x*=a,this.y*=a,this.z*=a,this},divideScaler:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){return this.x>a.x&&(this.x=a.x),this.y>a.y&&(this.y=a.y),this.z>a.z&&(this.z=a.z),this},max:function(a){return this.x<a.x&&(this.x=a.x),this.y<a.y&&(this.y=a.y),this.z<a.z&&(this.z=a.z),this},clamp:function(a,b){return this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x),this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y),this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z),this},clampScale:function(){var a,b;return function(c,d){return void 0===a&&(a=new e,b=new e),a.set(c,c,c),b.set(d,d,d),this.clamp(a,b)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScaler(this.length())},setLength:function(a){var b=this.length();return 0!==b&&a!==b&&this.multiplyScaler(a/b),this},lerp:function(a,b){return this.copy(e.lerp(this,a,b))},cross:function(a){return this.copy(e.cross(this,a))},angle:function(a){return e.angle(this,a)},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},applyMatrix:function(a){a=a.elements;var b=a[1]*this.x+a[4]*this.y+a[7]*this.z,c=a[2]*this.x+a[5]*this.y+a[8]*this.z;return this.x=a[0]*this.x+a[3]*this.y+a[6]*this.z,this.y=b,this.z=c,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=void 0!==a.z?a.z:1,this},equal:function(a){return c.equal(this.x,a.x)&&c.equal(this.y,a.y)&&c.equal(this.z,a.z)},clone:function(){return new e(this.x,this.y,this.z)}});k.exports=e},function(k,f,d){f=d(166);window.G?new f(window.G):k.exports=f},function(k,f,d){f=d(1);var e=d(50);d=function(e){this.canvas=e;this.el=e.get("el");this.pre=this.current=null};f.augment(d,{tryTrigger:function(e,c){e.__listeners&&e.trigger(c)},getCurrent:function(e){var c=this.canvas;this.point=e=c.getPointByClient(e.clientX,e.clientY);this.pre=this.current;this.current=c.getShape(e.x,e.y)},mousemove:function(d){this.getCurrent(d);var c=this.point,a=this.canvas;if(a.has("canvas-mousemove")){var b=new e("canvas-mousemove",d,!0,!0);b.x=c.x;b.y=c.y;b.clientX=d.clientX;b.clientY=d.clientY;b.currentTarget=a;this.tryTrigger(a,b)}this.pre&&this.pre!==this.current&&(a=new e("mouseleave",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.pre,a.target=this.pre,this.tryTrigger(this.pre,a));this.current&&(a=new e("mousemove",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a),this.pre!==this.current)&&(a=new e("mouseenter",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a))},mousedown:function(d){var c=this.point,a=this.canvas;if(a.has("canvas-mousedown")){var b=new e("canvas-mousedown",d,!0,!0);b.x=c.x;b.y=c.y;b.clientX=d.clientX;b.clientY=d.clientY;b.currentTarget=a;this.tryTrigger(a,b)}this.current&&(a=new e("mousedown",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a))},mouseup:function(d){var c=this.point,a=this.canvas;if(a.has("canvas-mouseup")){var b=new e("canvas-mouseup",d,!0,!0);b.x=c.x;b.y=c.y;b.clientX=d.clientX;b.clientY=d.clientY;b.currentTarget=a;this.tryTrigger(a,b)}this.current&&(a=new e("mouseup",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a))},click:function(d){this.getCurrent(d);var c=this.point,a=this.canvas;if(a.has("canvas-click")){var b=new e("canvas-click",d,!0,!0);b.x=c.x;b.y=c.y;b.clientX=d.clientX;b.clientY=d.clientY;b.currentTarget=a;this.tryTrigger(a,b)}this.current&&(a=new e("click",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a))},dblclick:function(d){var c=this.point,a=this.canvas;if(a.has("canvas-dblclick")){var b=new e("canvas-dblclick",d,!0,!0);b.x=c.x;b.y=c.y;b.clientX=d.clientX;b.clientY=d.clientY;b.currentTarget=a;this.tryTrigger(a,b)}this.current&&(a=new e("dblclick",d,!0,!0),a.x=c.x,a.y=c.y,a.clientX=d.clientX,a.clientY=d.clientY,a.currentTarget=this.current,a.target=this.current,this.tryTrigger(this.current,a))},mouseout:function(d){var c=(this.point,this.canvas);d=new e("canvas-mouseleave",d,!0,!0);d.currentTarget=c;this.tryTrigger(c,d)},mouseover:function(d){var c=(this.point,this.canvas);d=new e("canvas-mouseenter",d,!0,!0);d.currentTarget=c;this.tryTrigger(c,d)}});k.exports=d},function(k,f,d){function e(c){this.name="mouseEvent";this.type="event";e.superclass.constructor.call(this,c)}f=d(1);var g=d(165);d=d(167);f.extend(e,d);f.augment(e,{__events:function(){var c=this.get("el"),a=new g(this);c.addEventListener("mouseout",function(b){a.mouseout(b)},!1);c.addEventListener("mouseover",function(b){a.mouseover(b)},!1);c.addEventListener("mousemove",function(b){a.mousemove(b)},!1);c.addEventListener("mousedown",function(b){a.mousedown(b)},!1);c.addEventListener("mouseup",function(b){a.mouseup(b)},!1);c.addEventListener("click",function(b){a.click(b)},!1);c.addEventListener("dblclick",function(b){a.dblclick(b)},!1)}});k.exports=e},function(k,f,d){f=d(168);k.exports=f},function(k,f,d){function e(c){this.register(c)}var g=d(1);g.augment(e,{register:function(c){if(c.plugins||(c.plugins={}),!c.plugins[this.name])switch(c.plugins[this.name]=this,this.type){case "event":this.__registerEvent(c)}},__registerEvent:function(c){var a=this;if(a.__events){var b=c.Canvas.prototype.__events;g.augment(c.Canvas,{__events:function(){b&&b.call(this);a.__events.call(this)}})}}});k.exports=e},function(k,f,d){f=d(29);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{type:"condition",condition:null});k.exports=e},function(k,f,d){f=d(29);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{type:"group",group:null});k.exports=e},function(k,f,d){f=d(42);d=d(1);var e=function(d){e.superclass.constructor.call(this,d)};d.extend(e,f);d.augment(e,{type:"identity",value:null,getText:function(){return this.value.toString()},scale:function(){return 1},invert:function(){return this.value}});k.exports=e},function(k,f,d){function e(c,a){return 1===c?1:Math.log(a)/Math.log(c)}f=d(1);d=d(41);var g=function(c){g.superclass.constructor.call(this,c)};f.extend(g,d);f.augment(g,{type:"log",base:2,tickCount:10,calculateTicks:function(){var c,a=this.base,b=e(a,this.max);c=0<this.min?Math.floor(e(a,this.min)):b-1;for(var d=Math.ceil((b-c)/this.tickCount),m=[];c<b+d;c+=d)m.push(Math.pow(a,c));return m},getScalePercent:function(c){var a=this.max,b=this.min;if(a===b)return 0;var d=this.base;return(e(d,c)-e(d,b))/(e(d,a)-e(d,b))},scale:function(c){c=this.getScalePercent(c);var a=this.rangeMin(),b=this.rangeMax();return a+c*(b-a)},invert:function(c){c=(c-this.rangeMin())/(this.rangeMax()-this.rangeMin());var a=this.base,b=e(a,this.max),d=e(a,this.min);return Math.pow(a,c*(b-d)+d)}});k.exports=g},function(k,f,d){f=d(29);var e=d(1),g=function(c){g.superclass.constructor.call(this,c)};e.extend(g,f);e.augment(g,{type:"numberCat",init:function(){var c=this.values;c.sort(function(a,b){return a-b});e.each(c,function(a,b){c[b]=a.toString()});this.ticks=c}});k.exports=g},function(k,f,d){function e(c,a){return Math.pow(Math.E,Math.log(a)/c)}f=d(1);d=d(41);var g=function(c){g.superclass.constructor.call(this,c)};f.extend(g,d);f.augment(g,{type:"pow",exponent:2,tickCount:12,calculateTicks:function(){var c,a=this.exponent,b=Math.ceil(e(a,this.max));if(c=0<=this.min?Math.round(e(a,this.min)):0,c>b)c=b=c;for(var d=Math.ceil((b-c)/this.tickCount),m=[];c<b+d;c+=d)m.push(Math.pow(c,a));return m},getScalePercent:function(c){var a=this.max,b=this.min;if(a===b)return 0;var d=this.exponent;return(e(d,c)-e(d,b))/(e(d,a)-e(d,b))},scale:function(c){c=this.getScalePercent(c);var a=this.rangeMin(),b=this.rangeMax();return a+c*(b-a)},invert:function(c){c=(c-this.rangeMin())/(this.rangeMax()-this.rangeMin());var a=this.exponent,b=e(a,this.max),d=e(a,this.min);return Math.pow(c*(b-d)+d,a)}});k.exports=g},function(k,f,d){f=d(29);var e=d(1),g=d(39),c=d(35),a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{type:"timeCat",mask:"yyyy-mm-dd HH:MM:ss",tickCount:5,init:function(){var b=this,a=this.values;a.sort(function(a,c){return a=b._toTimeStamp(a),c=b._toTimeStamp(c),a-c});e.each(a,function(c,e){a[e]=b._toTimeStamp(c)});this.ticks=this.calculateTicks(!0)},calculateTicks:function(b){var a=this,d=c.Category.caculate({maxCount:a.tickCount,data:a.values}).ticks;return b&&e.each(d,function(b,c){d[c]=g.format(b,a.mask)}),d},translate:function(b){b=this._toTimeStamp(b);var a=this.values.indexOf(b);return-1===a&&(a=e.isNumber(b)&&b<this.values.length?b:NaN),a},scale:function(b){var a,c=this.rangeMin(),e=this.rangeMax();b=this.translate(b);return a=1<this.values.length&&-1<b?b/(this.values.length-1):0,c+a*(e-c)},getText:function(b){var a="";b=this.translate(b);-1<b&&(a=this.values[b]);b=this.formatter;return a=parseInt(a,10),b?b(a):g.format(a,this.mask)},getTicks:function(){var b=this,a=this.calculateTicks(!1),c=[];return e.each(a,function(a){a=e.isObject(a)?a:{text:b.getText(a),value:b.scale(a)};c.push(a)}),c},_toTimeStamp:function(b){return e.isString(b)&&(b=b.replace(/-/gi,"/").replace("T"," ").replace("Z",""),b=(new Date(b)).getTime()),e.isDate(b)&&(b=b.getTime()),b}});k.exports=a},function(k,f,d){f=d(41);var e=d(1),g=d(35),c=d(39),a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{type:"time",mask:"yyyy-mm-dd",calculateTicks:function(){var b=this.tickCount;return g.Time.caculate({min:this.min,max:this.max,minCount:b,maxCount:b,interval:this.tickInterval}).ticks},getText:function(b){var a=this.formatter;return b=this.translate(b),a?a(b):c.format(b,this.mask)},scale:function(b){return e.isString(b)&&(b=this.translate(b)),a.superclass.scale.call(this,b)},translate:function(b){return e.isString(b)&&(b=b.replace(/-/gi,"/").replace("T"," ").replace("Z",""),b=(new Date(b)).getTime()),e.isDate(b)&&(b=b.getTime()),b}});k.exports=a},function(k,f,d){f=d(178);k.exports=f},function(k,f,d){function e(a){return new c(a[0],a[1])}function g(a,b){return a.x*=b,a.y*=b,a}var c=d(3).Vector2;k.exports={catmullRom2bezier:function(a,b,d){b=!!b;for(var m=[],l=0,f=a.length;l<f;l+=2)m.push([a[l],a[l+1]]);var n,t,k,p,u,q,B,l=[];if(a=!!d){p=new c(1/0,1/0);B=new c(-(1/0),-(1/0));for(var f=0,z=m.length;f<z;f++){var x=e(m[f]);p.min(x);B.max(x)}p.min(e(d[0]));B.max(e(d[1]))}f=0;for(d=m.length;f<d;f++){x=e(m[f]);if(b)u=e(m[f?f-1:d-1]),q=e(m[(f+1)%d]);else{if(0===f||f===d-1){l.push([x.x,x.y]);continue}u=e(m[f-1]);q=e(m[f+1])}z=c.sub(q,u);g(z,.4);u=x.distanceTo(u);q=x.distanceTo(q);var v=u+q;0!==v&&(u/=v,q/=v);u=g(z.clone(),-u);z=g(z.clone(),q);u=c.add(x,u);x=c.add(x,z);a&&(u.max(p),u.min(B),x.max(p),x.min(B));l.push([u.x,u.y]);l.push([x.x,x.y])}p=(b&&l.push(l.shift()),l);B=m.length;a=[];for(l=0;l<B-1;l++)n=p[2*l],t=p[2*l+1],k=m[l+1],a.push(["C",n[0],n[1],t[0],t[1],k[0],k[1]]);return b&&(n=p[B],t=p[B+1],k=m[0],a.push(["C",n[0],n[1],t[0],t[1],k[0],k[1]])),a}}},function(k,f,d){f=d(30);d={dot:d(180),rect:d(181)};f.tree=d;k.exports=d},function(k,f,d){var e=d(74);k.exports=function(d){return new e({dims:d})}},function(k,f,d){var e=d(1),g=d(74);k.exports=function(c){return new g({dims:c,getStatObject:function(a,b){var c=e.mix({},a);return c["..x"]=[b.start.x,b.start.x,b.end.x,b.end.x],c["..y"]=[b.start.y,b.end.y,b.end.y,b.start.y],c}})}},function(k,f,d){function e(c,a,b){return a=a||1,new g({dims:c,ratio:a,mode:b})}var g=d(183);f=function(c,a){return e(c,a,"squarify")};f.squarify=function(c,a){return e(c,a,"squarify")};f.sliceDice=function(c,a){return e(c,a,"slice-dice")};k.exports=f},function(k,f,d){var e=d(1);f=d(30);var g=d(221),c=d(2),a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{type:"treemap",mode:"squarify",ratio:1,getValueField:function(){return this.getDims()[3]||"_value"},getChildrenField:function(){return this.getDims()[2]},initDims:function(b){b.unshift("..y");b.unshift("..x")},_copyObject:function(b){return e.mix({},b)},_extractData:function(b,a){for(var c=b.length-1;0<=c;c--){var d=b[c],f=this._copyObject(d);f["..x"]=[];f["..y"]=[];f["..x"].push(d.x);f["..y"].push(1-(d.y+d.dy));f["..x"].push(d.x);f["..y"].push(1-d.y);f["..x"].push(d.x+d.dx);f["..y"].push(1-d.y);f["..x"].push(d.x+d.dx);f["..y"].push(1-(d.y+d.dy));a.push(f);f=this.getChildrenField();e.isArray(d[f])&&this._extractData(d[f],a)}},exec:function(b){var a=[];b=c.merge.apply(null,b);return a.push(this.execFrame(b)),a},execFrame:function(b){b=b.toJSON();var a=(this.getDims(),new g.Squarify({nodes:b,mode:this.mode,childrenField:this.getChildrenField(),valueField:this.getValueField(),ratio:this.ratio})).getNodes();b=[];this._extractData(a,b);return b=new c(b)}});k.exports=a},function(k,f,d){var e=d(43);k.exports=function(d,c){return new e({dims:d,binWidth:c})}},function(k,f,d){function e(b,c,e){var d=[];return a.each(b,function(b){d.push(b*c*e/2)}),d}function g(b,c){var e=[];return a.each(b,function(b){e.push(b*c/2)}),e}var c=d(43),a=d(1);k.exports=function(b,d,m){return new c({ratio:m||.5,dims:b,binWidth:d||.03,_getDimVaues:function(b,c,e){c=this.getDimRange(c);var d=c.max-c.min,h=[];return a.each(e,function(a){h.push(b+d*a)}),h},toBin:function(b){var a=this.getBinDims();if(2>a)throw"the bin.rect method only support 2 dimenssion!";var c=a[0],a=a[1],d=this.binWidth,h=this.ratio,m=this._center([b[c],b[a]]),h=e([-.5,-1.5,-.5,.5,1.5,.5],d,h),d=g([-1,0,1,1,0,-1],d);b[c]=this._getDimVaues(m[0],c,h);b[a]=this._getDimVaues(m[1],a,d)},_center:function(b){var a,c,e=this.binWidth,d=this.getBinDims(),h=this.getDimRange(d[0]),h=e*(h.max-h.min)/2,d=this.getDimRange(d[1]),e=e*(d.max-d.min)/2;return a=[b[0]/(h*this.ratio),b[1]/e],c=this._centerForBasis(a),[c[0]*h,c[1]*e]},_chkOdd:function(b){return(b=parseInt(b))?!!(b%2):"0"},_aroundX:function(b){var a,c;return b=1>b?1:b,this._chkOdd(b)?a=c=parseInt(b)+.5:0===b%2?a=c=parseInt(b)-.5:(a=parseInt(b)-.5,c=a+2),[a,c]},_aroundY:function(b){var a,c;return b=1>b?1:b,a=parseInt(b),c=a+1,[a,c]},_shortPoint:function(b,a,c){var e,d;1===(b[1]-.5)%4?this._chkOdd(a[1])?(e=[b[0],a[0]],d=[b[1],a[1]]):(e=[b[1],a[0]],d=[b[0],a[1]]):this._chkOdd(a[0])?(e=[b[0],a[0]],d=[b[1],a[1]]):(e=[b[1],a[0]],d=[b[0],a[1]]);b=Math.abs(c[0]-e[0])+Math.abs(c[1]-e[1]);c=Math.abs(c[0]-d[0])+Math.abs(c[1]-d[1]);return b===c?e[0]<d[0]?e:d:b<c?e:d},_centerForBasis:function(b){var a,c,e,d,h=this._aroundX(b[0]),m=this.ratio;return h[0]===h[1]?(e=h[0],2<e&&this._chkOdd(e/2)?(b[1]=1>b[1]?1:b[1],d=this._chkOdd(parseInt(b[1]))?parseInt(b[1])+1:parseInt(b[1])):(b[1]=1>b[1]?1:b[1],d=this._chkOdd(parseInt(b[1]))?parseInt(b[1]):parseInt(b[1])-1),a=[e,d]):(b[1]=1>b[1]?1:b[1],c=this._aroundY(b[1]),a=this._shortPoint(h,c,b)),a[0]*=m,a}})}},function(k,f,d){f={dot:d(184),rect:d(189),hex:d(185),quantile:d(187)};k.exports=f},function(k,f,d){f=d(75);f.letter=d(188);k.exports=f},function(k,f,d){var e=d(75);k.exports=function(d,c){return new e({dims:d,binWidth:c,fractions:4})}},function(k,f,d){var e=d(43);k.exports=function(d,c){return new e({dims:d,binWidth:c,toBin:function(a){var b=this.getBinDims();if(1>b.length)throw"the bin.rect method support for minimum one dimension!";if(1===b.length){var c=b[0];a[c]=this._getValueRange(c,a[c])}else{var c=b[0],b=b[1],e=this._getValueRange(c,a[c]),d=this._getValueRange(b,a[b]);a[c]=[e[0],e[0],e[1],e[1]];a[b]=[d[0],d[1],d[1],d[0]]}},_getValueRange:function(a,b){var c=this.binWidth,e=this.getDimRange(a),d=e.max-e.min,e=this.getCenterValue(b,e.max,e.min);return[e-d*c*1/2,e+d*c*1/2]}})}},function(k,f,d){function e(a,b,c){return b=b||.01,new g({dims:a,bandWidth:b,kernelType:c})}var g=d(191),c=d(192);f={kernel:{}};f.kernel.uniform=function(a,b){return e(a,b,"uniform")};f.kernel.triangular=function(a,b){return e(a,b,"triangular")};f.kernel.epanechnikov=function(a,b){return e(a,b,"epanechnikov")};f.kernel.quartic=function(a,b){return e(a,b,"quartic")};f.kernel.triweight=function(a,b){return e(a,b,"triweight")};f.kernel.tricube=function(a,b){return e(a,b,"tricube")};f.kernel.gaussian=function(a,b){return e(a,b,"gaussian")};f.kernel.cosine=function(a,b){return e(a,b,"cosine")};f.normal=function(a,b){return b=b||.01,new c({dims:a,bandWidth:b})};k.exports=f},function(k,f,d){var e=d(1),g=d(2),c=d(73);f=d(76);var a=function(b){a.superclass.constructor.call(this,b)};e.extend(a,f);e.augment(a,{kernelType:"",execFrame:function(b){var a=this.kernelType;if(!a)return b;var a=c[a],e=this.getDims(),d=[];return 2===e.length?d=this._getOneDimDensity(b,a,e):3===e.length&&(d=this._getTwoDimDensity(b,a,e)),new g(d)},_getOneDimDensity:function(b,a,c){c=c[c.length-2];var d=b.colArray(c),f=this.getWindowWidth(b,c),n=this.getCoordinate(b,c,f),g=n.length,k=d.length;b=b.rowObject(0);for(var p=[],u=0;u<g;u++){for(var q=0,B=n[u],z=0;z<k;z++)q+=a((B-d[z])/f);q*=1/(k*f);z=e.mix({},b);z[c]=B;z["..density"]=q;p[u]=z}return p},_getTwoDimDensity:function(b,a,c){var d=c[c.length-3];c=c[c.length-2];for(var f=this.getWindowWidth(b,d),n=this.getWindowWidth(b,c),g=this.getCoordinate(b,d,f),k=g.length,p=this.getCoordinate(b,c,n),u=p.length,q=b.rowCount(),B=b.rowObject(0),z=[],x=0;x<k;x++)for(var v=0;v<u;v++){for(var A=0,y=g[x],D=p[v],F=0;F<q;F++)A+=a((y-b.data[F][d])/f)*a((D-b.data[F][c])/n);A*=1/(q*f*n);F=e.mix({},B);F[d]=y;F[c]=D;F["..density"]=A;z.push(F)}return z}});k.exports=a},function(k,f,d){var e=d(1),g=d(2);f=d(76);var c=function(a){c.superclass.constructor.call(this,a)};e.extend(c,f);e.augment(c,{execFrame:function(a){var b=a.rowObject(0),c=this.getDims(),c=c[c.length-2],d=this.getWindowWidth(a,c),d=this.getCoordinate(a,c,d),l=d.length,f=g.mean(a,c);a=g.standard_deviation(a,c);for(var n=[],k=0;k<l;k++){var r=d[k],p=this.getNormal(r,f,a),u=e.mix({},b);u[c]=r;u["..density"]=p;n.push(u)}return new g(n)},getNormal:function(a,b,c){return 1/(Math.sqrt(2*Math.PI)*c)*Math.exp(-(a-b)*(a-b)/(2*c*c))}});k.exports=c},function(k,f,d){f={spread:{range:d(194),sd:d(195),se:d(196)},confi:{}};k.exports=f},function(k,f,d){var e=d(52),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.range(a,b),new g([c])}})}},function(k,f,d){var e=d(52),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0),e=g.mean(a,b),d=g.sd(a,b);return c[b]=[e-d,e+d],new g([c])}})}},function(k,f,d){var e=d(52),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0),e=g.mean(a,b),d=g.se(a,b);return c[b]=[e-d,e+d],new g([c])}})}},function(k,f,d){var e=d(1),g=d(14),c=d(25),a=d(20);k.exports=function(b){return new g(e.mix({},a,{dims:b,regressionType:"cubic",getRegression:function(b){return c("polynomial",b,3)}}))}},function(k,f,d){var e=d(1),g=d(14),c=d(25),a=d(20),b=d(2);k.exports=function(d){return new g(e.mix({},a,{dims:d,regressionType:"exp",preExecute:function(a){var c=this.getYDim();e.each(a,function(a){if(0>b.min(a,c))throw"the field "+c+" has value less than 0,you can't use this regression!";})},getRegression:function(b){return c("exponential",b)}}))}},function(k,f,d){function e(b,a){for(var c=0,e=0;e<b.length;e++)c+=b[e]*Math.pow(a,e);return c}var g=d(1),c=["linear","cubic","quadratic"],a={execFnction:function(b,e,d){return 0<=g.indexOf(c,b)?a.poly(e,d):a[b]?a[b](e[0],e[1],d):d},linear:function(b,a,c){return e([a,b],c)},poly:function(b,a){return e(b,a)},log:function(b,a,c){return b+a*Math.log(c)},pow:function(b,a,c){return b*Math.pow(c,a)},exp:function(b,a,c){return b*Math.pow(Math.E,a*c)}};k.exports=a},function(k,f,d){function e(c,a,b){return a=a||.01,new g({dims:c,bandWidth:a,kernelType:b})}f=d(53);f.mean=d(204);f.median=d(205);f.linear=d(201);f.quadratic=d(207);f.cubic=d(197);f.log=d(203);f.pow=d(206);f.exp=d(198);var g=d(202);f.loess={};f.loess.uniform=function(c,a){return e(c,a,"uniform")};f.loess.triangular=function(c,a){return e(c,a,"triangular")};f.loess.epanechnikov=function(c,a){return e(c,a,"epanechnikov")};f.loess.quartic=function(c,a){return e(c,a,"quartic")};f.loess.triweight=function(c,a){return e(c,a,"triweight")};f.loess.tricube=function(c,a){return e(c,a,"tricube")};f.loess.gaussian=function(c,a){return e(c,a,"gaussian")};f.loess.cosine=function(c,a){return e(c,a,"cosine")};k.exports=f},function(k,f,d){var e=d(1),g=d(14),c=d(25),a=d(20);k.exports=function(b){return new g(e.mix({},a,{dims:b,regressionType:"linear",getRegression:function(b){return c("polynomial",b,1)}}))}},function(k,f,d){f=d(53);var e=d(1),g=d(73),c=d(2),a=d(142),b=function(a){b.superclass.constructor.call(this,a)};e.extend(b,f);e.augment(b,{kernelType:"",k:10,execFrame:function(b){var a=[];if(2===this.getDims().length){var d=this.getXDim(),f=this.getYDim(),n=this.getData(b),g=this.getInterArray(b,d),n=this.execSmooth(n,g),k=b.rowObject(0);e.each(n,function(b){var c=e.mix({},k);c[d]=b[0];c[f]=b[1];a.push(c)})}else{var d=this.getXDim(),f=this.getYDim(),p=this.getZDim(),n=this.getData(b),g=[];g[0]=this.getInterArray(b,d);g[1]=this.getInterArray(b,f);n=this.execSmoothThreeDim(n,g);k=b.rowObject(0);e.each(n,function(b){var c=e.mix({},k);c[d]=b[0];c[f]=b[1];c[p]=b[2];a.push(c)})}return new c(a)},execSmooth:function(b,a){for(var c=a.length,e=b.length,d=g[this.kernelType],f=[],k=[],p=a[1]-a[0],u=0;u<c;u++){for(var q,B,z,x,v=0,A=0,y=0,D=0,F=0,J=a[u],I=this.getWindowWidth([J],b,[p])[0],E=0;E<e;E++)B=b[E][0],z=b[E][1],q=d((J-B)/I),0!==q&&(v+=q,A+=q*B,y+=q*B*B,D+=q*z,F+=q*B*z);0!==v*y-A*A&&(k[1]=(A*D-v*F)/(A*A-v*y),k[0]=D/v-A/v*k[1],x=k[0]+k[1]*J,f.push([J,x]))}return f},execSmoothThreeDim:function(b,c){for(var e=c[0].length,d=c[1].length,n=b.length,f=g[this.kernelType],k=[],p,u=c[0][1]-c[0][0],q=c[1][1]-c[1][0],B=0;B<e;B++)for(var z=0;z<d;z++){var x,v,A,y,D,F=p=0,J=0,I=0,E=0,G=0,C=0,H=0,L=0,K=c[0][B],M=c[1][z];x=this.getWindowWidth([K,M],b,[u,q]);for(var N=x[0],P=x[1],O=0;O<n;O++)v=b[O][0],A=b[O][1],y=b[O][2],x=f((K-v)/N)*f((M-A)/P),0!==x&&(p+=x,F+=x*v,J+=x*A,I+=x*v*A,E+=x*v*v,G+=x*A*A,C+=x*y,H+=x*v*y,L+=x*A*y);(p=a([[p,F,J],[F,E,I],[J,I,G]],[C,H,L]))&&(D=p[0]+p[1]*K+p[2]*M,k.push([K,M,D]))}return k},getWindowWidth:function(b,a,c){var e=this.k,d=a.length,f=[],g=a[0].length-1,k=0;d<=e&&(e=d);a.sort(function(a,e){for(var d=0,m=0,f=0;f<g;f++)d+=(a[f]-b[f])*(a[f]-b[f])/(c[f]*c[f]),m+=(e[f]-b[f])*(e[f]-b[f])/(c[f]*c[f]);return d-m});for(d=0;d<g;d++){for(;a[e-1][d]===a[0][d];)e++;var u=1.1*Math.abs(a[e-1][d]-b[d])/c[d],k=k+u*u}k=Math.sqrt(k);for(d=0;d<g;d++)f[d]=k*c[d];return f}});k.exports=b},function(k,f,d){var e=d(1),g=d(14),c=d(25),a=d(20);k.exports=function(b){return new g(e.mix({},a,{dims:b,regressionType:"log",getRegression:function(b){return c("logarithmic",b)}}))}},function(k,f,d){var e=d(1),g=d(2),c=d(14);k.exports=function(a){return new c({dims:a,getRegressionString:function(){return"y \x3d "+this.curMean},execSmooth:function(b,a,c){b=this.getYDim();var d=g.mean(c,b);this.curMean=d;var f=[];return e.each(a,function(b){f.push([b,d])}),f}})}},function(k,f,d){var e=d(1),g=d(2),c=d(14);k.exports=function(a){return new c({dims:a,getRegressionString:function(){return"y \x3d "+this.curMedian},execSmooth:function(b,a,c){b=this.getYDim();var d=g.median(c,b);this.curMedian=d;var f=[];return e.each(a,function(b){f.push([b,d])}),f}})}},function(k,f,d){var e=d(1),g=d(14),c=d(25),a=d(20),b=d(2);k.exports=function(d){return new g(e.mix({},a,{dims:d,regressionType:"pow",preExecute:function(a){var c=this.getYDim();e.each(a,function(a){if(0>b.min(a,c))throw"the field "+c+" has value less than 0,you can't use this regression!";})},getRegression:function(b){return c("power",b)}}))}},function(k,f,d){var e=d(1),g=d(14),c=d(25),a=d(20);k.exports=function(b){return new g(e.mix({},a,{regressionType:"quadratic",dims:b,getRegression:function(b){return c("polynomial",b,2)}}))}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,initDims:function(a){a.push("..count")},transform:function(a,b){var c=a.rowObject(0);return c[b]=a.rowCount(),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2),c=d(1);k.exports=function(a){return new e({dims:a,getStatDims:function(){var b=this.stat;if(b)return b.getStatDims();b=this.getDims();return[b[b.length-1]]},execFrame:function(b){var a=this.getStatDims(),a=a[a.length-1],e=this.getDims()[0];e&&e!==a&&(b=g.sort(b,e));var d=this.stat,f=[];if(d&&"density"===d.type){var n=d.getWindowWidth(b,e),e=b.colArray(a),k=0;c.each(e,function(b){k+=b*n;f.push(k)})}else f=g.cumulative(b,a);return b.colReplace(a,f),b}})}},function(k,f,d){f={count:d(208),max:d(211),min:d(214),mean:d(212),median:d(213),proportion:d(217),range:d(218),percent:d(216),sd:d(219),mode:d(215),sum:d(220),cumulative:d(209)};k.exports=f},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.max(a,b),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.mean(a,b),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.median(a,b),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.min(a,b),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.mode(a,b),new g([c])}})}},function(k,f,d){var e=d(1),g=d(10),c=d(2),a=d(77);k.exports=function(b){return new g(e.mix({dims:b,initDims:function(b){var a=b[b.length-1];b.splice(b.length-1,0,"..percent");this.percetDim=a},getStatDims:function(){return["..percent"]},transform:function(b,a,e){a=this.percetDim;var d=c.sum(b,a);e=c.sum(e,a);b=b.rowObject(0);return b["..percent"]=d/e,b[a]=d,new c([b])}},a))}},function(k,f,d){var e=d(1),g=d(10),c=d(2),a=d(77);k.exports=function(b){return new g(e.mix({dims:b,initDims:function(b){b.push("..proportion")},transform:function(b,a,e){e=b.rowCount()/e.rowCount();b=b.rowObject(0);return b[a]=e,new c([b])}},a))}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.max(a,b)-g.min(a,b),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.standard_deviation(a,b),new g([c])}})}},function(k,f,d){var e=d(10),g=d(2);k.exports=function(c){return new e({dims:c,transform:function(a,b){var c=a.rowObject(0);return c[b]=g.sum(a,b),new g([c])}})}},function(k,f,d){f=d(78);f.Squarify=d(222);k.exports=f},function(k,f,d){var e=d(1);f=d(78);var g=function(c){g.superclass.constructor.call(this,c)};e.extend(g,f);e.augment(g,{mode:"squarify",ratio:.5*(1+Math.sqrt(5)),processNodes:function(c,a,b){var d=this;if(e.isArray(c)&&c.length){var m,l=[],f=c[0],n=d.mode,g=d.valueField,k=d.childrenField,p=c.slice(),u=1/0,f="slice"===n?a.dx:"dice"===n?a.dy:"slice-dice"===n?f.depth%2?a.dy:a.dx:Math.min(a.dx,a.dy);d.scale(p,a.dx*a.dy/b);for(l.area=0;0<(b=p.length);)l.push(b=p[b-1]),l.area+=b.area,"squarify"!==n||(m=d.worst(l,f))<=u?(p.pop(),u=m):(l.area-=l.pop().area,d.position(l,f,a,!1),f=Math.min(a.dx,a.dy),l.length=l.area=0,u=1/0);l.length&&(d.position(l,f,a,!0),l.length=l.area=0);c.forEach(function(b){d.processNodes(b[k],d.pad(b),b[g])})}},worst:function(c,a){for(var b,e=c.area,d=0,l=1/0,f=-1,n=c.length;++f<n;)(b=c[f].area)&&(b<l&&(l=b),b>d&&(d=b));return e*=e,a*=a,e?Math.max(a*d*this.ratio/e,e/(a*l*this.ratio)):1/0}});k.exports=g},function(k,f,d){f=d(224);k.exports=f},function(k,f){function d(a,b,e){e=e||0;for(var f in b)if(b.hasOwnProperty(f)){var l=b[f];null!==l&&c.isObject(l)?(c.isObject(a[f])||(a[f]={}),e<g?d(a[f],b[f]):a[f]=b[f]):c.isArray(l)?(a[f]=[],a[f]=a[f].concat(l)):void 0!==l&&(a[f]=b[f])}}var e=Object.prototype.toString,g=5,c={substitute:function(a,b){return a&&b?a.replace(/\\?\{([^{}]+)\}/g,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===b[c]?"":b[c]}):a},ucfirst:function(a){return a+="",a.charAt(0).toUpperCase()+a.substring(1)},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isBoolean:function(a){return"boolean"==typeof a},isFunction:function(a){return"function"==typeof a},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===e.call(a)},isDate:function(a){return"[object Date]"===e.call(a)},isNull:function(a){return void 0===a||null===a},notNull:function(a){return!c.isNull(a)},isBlank:function(a){if(c.isArray(a))return 0===a.length;if(c.isObject(a)){var b=0;return c.each(a,function(a,c){b++}),0===b}return!1},isObject:"[object Object]"===e.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===e.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===e.call(a)},extend:function(a,b,e,d){c.isFunction(b)||(e=b,b=a,a=function(){});var l=Object.create?function(b,a){return Object.create(b,{constructor:{value:a}})}:function(b,a){function c(){}c.prototype=b;var e=new c;return e.constructor=a,e},f=l(b.prototype,a);return a.prototype=c.mix(f,a.prototype),a.superclass=l(b.prototype,b),c.mix(f,e),c.mix(a,d),a},augment:function(a){for(var b=c.toArray(arguments),e=1;e<b.length;e++){var d=b[e];c.isFunction(d)&&(d=d.prototype);c.mix(a.prototype,d)}},toArray:function(a){return a&&a.length?Array.prototype.slice.call(a):[]},mix:function(){var a=c.toArray(arguments),b=a[0];if(!0===b)for(var b=a[1],e=2;e<a.length;e++){var f=a[e];d(b,f)}else for(e=1;e<a.length;e++){var f=a[e],l;for(l in f)f.hasOwnProperty(l)&&"constructor"!==l&&(b[l]=f[l])}return b},each:function(a,b){if(a)if(c.isObject(a))for(var e in a){if(a.hasOwnProperty(e)){var d=b(a[e],e);if(!1===d)break}}else if(a.length)for(e=0;e<a.length&&(d=b(a[e],e),!1!==d);e++);},requestAnimationFrame:function(a){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(b){return setTimeout(b,16)})(a)},cancelAnimationFrame:function(a){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||function(b){return clearTimeout(b)})(a)}};k.exports=c},function(k,f,d){var e=(Object.prototype.toString,d(223));e.mix(e,{mixin:function(d,c){if(d&&c){d._mixins=c;d.ATTRS=d.ATTRS||{};var a={};e.each(c,function(b){e.augment(d,b);(b=b.ATTRS)&&e.mix(a,b)});d.ATTRS=e.mix(a,d.ATTRS)}},map:function(d,c){var a=[];return e.each(d,function(b,e){a.push(c(b,e))}),a},filter:function(d,c){var a=[];return e.each(d,function(b,e){c(b,e)&&a.push(b)}),a},guid:function(){var e={};return function(c){return c=c||"g",e[c]?e[c]+=1:e[c]=1,c+e[c]}}(),inArray:function(d,c){return-1!==e.indexOf(d,c)},indexOf:function(e,c){var a=Array.prototype.indexOf;if(a)return a.call(e,c);for(var a=-1,b=0;b<e.length;b++)if(e[b]===c){a=b;break}return a},remove:function(d,c){var a=e.indexOf(d,c);-1!==a&&d.splice(a,1)},empty:function(e){if(!(e instanceof Array))for(var c=e.length-1;0<=c;c--)delete e[c];e.length=0},equalsArray:function(e,c){if(e===c)return!0;if(!e||!c||e.length!==c.length)return!1;for(var a=!0,b=0;b<e.length;b++)if(e[b]!==c[b]){a=!1;break}return a},wrapBehavior:function(e,c){return e["_wrap_"+c]=function(a){e[c](a)}},getWrapBehavior:function(e,c){return e["_wrap_"+c]},fixedBase:function(e,c){var a;a=c.toString();var b=a.indexOf(".");-1===b?a=Math.round(e):(a=a.substr(b+1).length,a=parseFloat(e.toFixed(a)));return a},length:function(d){if(e.isArray(d))return d.length;if(e.isObject(d)){var c=0;return e.each(d,function(){c++}),c}return 0},clone:function(d){if("object"!=typeof d||null===d)return d;if(e.isArray(d))for(var c=[],a=0,b=d.length;a<b;a++)"object"==typeof d[a]&&null!=d[a]?c[a]=e.clone(d[a]):c[a]=d[a];else for(a in c={},d)"object"==typeof d[a]&&null!=d[a]?c[a]=e.clone(d[a]):c[a]=d[a];return c}});k.exports=e},function(k,f,d){var e=d(5),g=d(228),c=d(229),a=d(81),b=d(13),h=d(227),m=d(3).Vector3;f=function(b){};e.augment(f,{canFill:!1,canStroke:!1,initAttrs:function(b){return this.__attrs={},this.attr(e.mix({},this.getDefaultAttrs(),b)),this},getDefaultAttrs:function(){return e.mix(!0,{},this.constructor.__attrs)},attr:function(b,a){var c=this;if(0===arguments.length)return c.__attrs;if(e.isObject(b))return e.each(b,function(b,a){c._setAttr(a,b)}),c.__afterSetAttrAll&&c.__afterSetAttrAll(b),c;if(2===arguments.length){if(!1!==c._setAttr(b,a)){var d="__afterSetAttr"+e.ucfirst(b);c[d]&&c[d](a)}return c}return c._getAttr(b)},resetAttrs:function(){var b=this,d=this.get("context"),h=b.__attrs;b.isGroup?e.each(h,function(c,f){g[f]&&("fillStyle"===f&&(c=a.parseStyle(c,b,h.fillOpacity)),"strokeStyle"===f&&(c=a.parseStyle(c,b,h.strokeOpacity)),"lineDash"===f&&d.setLineDash?e.isArray(c)?d.setLineDash(c):e.isString(c)&&d.setLineDash(c.split(" ")):d[f]=c)}):e.each(h,function(f,m){c[m]&&("fillStyle"===m&&(f=a.parseStyle(f,b,h.fillOpacity)),"strokeStyle"===m&&(f=a.parseStyle(f,b,h.strokeOpacity)),"lineDash"===m&&d.setLineDash?e.isArray(f)?d.setLineDash(f):e.isString(f)&&d.setLineDash(f.split(" ")):d[m]=f)})},_getAttr:function(b){var a=this.__attrs[b];b="__getAttr"+e.ucfirst(b);return this[b]&&(a=this[b](a)),a},_setAttr:function(b,a){var c="__setAttr"+e.ucfirst(b);return this[c]&&(a=this[c](a,this.__attrs[b])),a!==this.__attrs[b]&&(this.__attrs[b]=a,this)},__setAttrFill:function(b){if(this.canFill)return this.__attrs.fillStyle=b,b},hasFill:function(){if(this.canFill)for(var b=this;b;){if(b.__attrs.fill)return b.__attrs.fill;b=b.get("parent")}},__setAttrStroke:function(b){if(this.canStroke)return this.__attrs.strokeStyle=b,b},hasStroke:function(){if(this.canStroke)for(var b=this;b;){if(b.__attrs.stroke)return b.__attrs.stroke;b=b.get("parent")}},__setAttrOpacity:function(b){return this.__attrs.globalAlpha=b,b},__getAttrOpacity:function(){return this.__attrs.globalAlpha},__setAttrLineWidth:function(a,c){return 0<=a&&20>=a?a:(b.warn("lineWidth \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0\u6216\u8005\u5c0f\u4e8e\u7b49\u4e8e20"),c||1)},__setAttrClip:function(b){var a=this;if(b&&b.type in h)return null===b.get("canvas")&&(b=e.clone(b)),b.set("parent",a.get("parent")),b.set("context",a.get("context")),b.inside=function(c,e){var d=new m(c,e,1);return b.invert(d,a.get("canvas")),b.__isPointInFill(d.x,d.y)},b}});k.exports=f},function(k,f){k.exports={circle:1,ellipse:1,fan:1,polygon:1,rect:1,path:1}},function(k,f){k.exports={fillStyle:1,strokeStyle:1,globalAlpha:1,shadowBlur:1,shadowColor:1,shadowOffsetX:1,shadowOffsetY:1,lineDash:1}},function(k,f){k.exports={fillStyle:1,font:1,globalAlpha:1,lineCap:1,lineWidth:1,lineJoin:1,miterLimit:1,shadowBlur:1,shadowColor:1,shadowOffsetX:1,shadowOffsetY:1,strokeStyle:1,textAlign:1,textBaseline:1,lineDash:1}},function(k,f,d){var e=d(5);f=d(80);var g=function(c){g.superclass.constructor.call(this,c)};e.extend(g,f);e.augment(g,{init:function(){g.superclass.init.call(this);var c=this.get("canvasId"),c=document.getElementById(c);this.set("el",c);this.set("context",c.getContext("2d"));this.set("canvas",this);this.__events()},__events:function(){},getPointByClient:function(c,a){var b=this.get("el"),e=b.getBoundingClientRect();return{x:b.width/(e.right-e.left)*(c-e.left),y:b.height/(e.bottom-e.top)*(a-e.top)}},getClientByPoint:function(c,a){var b=this.get("el"),e=b.getBoundingClientRect();return{clientX:c/(b.width/(e.right-e.left))+e.left,clientY:a/(b.height/(e.bottom-e.top))+e.top}},beforeDraw:function(){var c=this.get("context"),a=this.get("el");c.clearRect(0,0,a.width,a.height)},draw:function(){function c(){a.set("animateHandler",e.requestAnimationFrame(function(){a.set("animateHandler",void 0);a.get("toDraw")&&c()}));g.superclass.draw.call(a);a.set("toDraw",!1)}var a=this;a.get("animateHandler")?a.set("toDraw",!0):c()}});k.exports=g},function(k,f,d){var e=d(5);f=function(){};e.augment(f,{initEventDispatcher:function(){this.__listeners={}},on:function(d,c){var a=this.__listeners;return e.isNull(a[d])&&(a[d]=[]),-1===a[d].indexOf(c)&&a[d].push(c),this},off:function(d,c){var a=this.__listeners;return 0===arguments.length?(this.__listeners={},this):1===arguments.length&&e.isString(d)?(a[d]=[],this):2===arguments.length&&e.isString(d)&&e.isFunction(c)?(e.remove(a[d],c),this):void 0},has:function(d,c){var a=this.__listeners;return 0===arguments.length&&!e.isBlank(a)||!(1!==arguments.length||!a[d]||e.isBlank(a[d]))||!(2!==arguments.length||!a[d]||-1===a[d].indexOf(c))},trigger:function(d){var c=this,a=c.__listeners[d.type];(d.target=c,e.notNull(a)&&e.each(a,function(b){b.call(c,d)}),d.bubbles)&&(a=c.get("parent"))&&!d.propagationStopped&&a.trigger(d);return c}});k.exports=f},function(k,f,d){var e=d(5);f=d(3);var g=f.Matrix3,c=(f.Vector3,d(4));d=function(){};e.augment(d,{initTransform:function(){this.__m=new g},translate:function(a,b){return this.__m.translate(a,b),this},rotate:function(a){return this.__m.rotate(c.degreeToRad(a)),this},scale:function(a,b){return this.__m.scale(a,b),this},transform:function(a){var b=this;return e.each(a,function(a){switch(a[0]){case "t":b.translate(a[1],a[2]);break;case "s":b.scale(a[1],a[2]);break;case "r":b.rotate(a[1]);break;case "m":b.__m=g.multiply(a[1],b.__m)}}),this},setTransform:function(a){return this.__m.identity(),this.transform(a)},getMatrix:function(){return this.__m},setMatrix:function(a){return this.__m=a,this},apply:function(a,b){b=b||this;for(var c=this,d=[];c!==b;)d.unshift(c),c=c.get("parent");d.unshift(c);var l=new g;return e.each(d,function(b){l.multiply(b.__m)}),a.applyMatrix(l),this},invert:function(a,b){b=b||this;for(var c=this,d=[];c!==b;)d.unshift(c),c=c.get("parent");d.unshift(c);var l=new g;e.each(d,function(b){l.multiply(b.__m)});c=l.getInverse();return a.applyMatrix(c),this},resetTransform:function(){var a=this.get("context"),b=this.__m.to2DObject();a.transform(b.a,b.b,b.c,b.d,b.e,b.f)}});k.exports=d},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=d(54),a=d(4),b=d(32),h=d(3).Vector2,m=d(13),l=function(b){l.superclass.constructor.call(this,b)};l.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,arrow:!1};e.extend(l,f);e.augment(l,{canStroke:!0,type:"arc",__setAttrR:function(b,a){return 0<=b?b:(m.warn("r \u5fc5\u987b\u5927\u4e8e0"),a)},__setAttrClockwise:function(b,a){return e.isBoolean(b)?b:(m.warn("clockwise \u5fc5\u987b\u662fboolean\u503c"),a)},__setAttrStartAngle:function(b){return a.degreeToRad(b)},__getAttrStartAngle:function(b){return a.radToDegree(b)},__setAttrEndAngle:function(b){return a.degreeToRad(b)},__getAttrEndAngle:function(b){return a.radToDegree(b)},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrR:function(){this.__calculateBox()},__afterSetAttrStartAngle:function(){this.__calculateBox()},__afterSetAttrEndAngle:function(){this.__calculateBox()},__afterSetAttrClockwise:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.lineWidth,b=c.box(b.x,b.y,b.r,b.startAngle,b.endAngle,b.clockwise),a=a/2;b.minX-=a;b.minY-=a;b.maxX+=a;b.maxY+=a;this.set("box",b)},isPointInPath:function(b,a){var c=this.__attrs,e=c.x,d=c.y,h=c.r,l=c.startAngle,f=c.endAngle,m=c.clockwise,c=c.lineWidth;return!!this.hasStroke()&&g.arcline(e,d,h,l,f,m,c,b,a)},createPath:function(){var a=this.get("context"),c=this.__attrs,e=c.x,d=c.y,l=c.r,f=c.startAngle,m=c.endAngle,g=c.clockwise,k=c.lineWidth,c=c.arrow;if(a.beginPath(),a.arc(e,d,l,f,m,g),c)e={x:e+l*Math.cos(m),y:d+l*Math.sin(m)},l=new h(-l*Math.sin(m),l*Math.cos(m)),g&&l.multiplyScaler(-1),b.makeArrow(a,l,e,k)}});k.exports=l},function(k,f,d){f=d(5);var e=d(8),g=d(7),c=d(13),a=function(b){a.superclass.constructor.call(this,b)};a.ATTRS={x:0,y:0,r:0,lineWidth:1};f.extend(a,e);f.augment(a,{canFill:!0,canStroke:!0,type:"circle",__setAttrR:function(b,a){return 0<=b?b:(c.warn("r \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrR:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.x,c=b.y,b=b.lineWidth/2+b.r;this.set("box",{minX:a-b,minY:c-b,maxX:a+b,maxY:c+b})},isPointInPath:function(b,a){var c=this.hasFill(),e=this.hasStroke();return c&&e?this.__isPointInFill(b,a)||this.__isPointInStroke(b,a):c?this.__isPointInFill(b,a):!!e&&this.__isPointInStroke(b,a)},__isPointInFill:function(b,a){var c=this.__attrs;return g.circle(c.x,c.y,c.r,b,a)},__isPointInStroke:function(b,a){var c=this.__attrs;return g.arcline(c.x,c.y,c.r,0,2*Math.PI,!1,c.lineWidth,b,a)},createPath:function(){var b=this.get("context"),a=this.__attrs,c=a.x,e=a.y,a=a.r;b.beginPath();b.arc(c,e,a,0,2*Math.PI,!1);b.closePath()}});k.exports=a},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=(d(4),d(32)),a=d(55),b=d(3).Vector2,h=function(b){h.superclass.constructor.call(this,b)};h.ATTRS={p1:null,p2:null,p3:null,p4:null,lineWidth:1,arrow:!1};e.extend(h,f);e.augment(h,{canStroke:!0,type:"cubic",__afterSetAttrP1:function(){this.__calculateBox()},__afterSetAttrP2:function(){this.__calculateBox()},__afterSetAttrP3:function(){this.__calculateBox()},__afterSetAttrP4:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,c=b.p1,d=b.p2,h=b.p3,f=b.p4;if(!(e.isNull(c)||e.isNull(d)||e.isNull(h)||e.isNull(f))){for(var b=b.lineWidth/2,g=a.extrema(c[0],d[0],h[0],f[0]),k=0,u=g.length;k<u;k++)g[k]=a.at(c[0],d[0],h[0],f[0],g[k]);for(var q=a.extrema(c[1],d[1],h[1],f[1]),k=0,u=q.length;k<u;k++)q[k]=a.at(c[1],d[1],h[1],f[1],q[k]);g.push(c[0],f[0]);q.push(c[1],f[1]);this.set("box",{minX:Math.min.apply(Math,g)-b,maxX:Math.max.apply(Math,g)+b,minY:Math.min.apply(Math,q)-b,maxY:Math.max.apply(Math,q)+b})}},isPointInPath:function(b,a){var c=this.__attrs,e=c.p1,d=c.p2,h=c.p3,f=c.p4;return g.cubicline(e[0],e[1],d[0],d[1],h[0],h[1],f[0],f[1],c.lineWidth,b,a)},createPath:function(){var a=this.get("context"),d=this.__attrs,h=d.p1,f=d.p2,g=d.p3,k=d.p4,p=d.lineWidth,d=d.arrow;e.isNull(h)||e.isNull(f)||e.isNull(g)||e.isNull(k)||(a.beginPath(),a.moveTo(h[0],h[1]),a.bezierCurveTo(f[0],f[1],g[0],g[1],k[0],k[1]),!d)||(h=new b(k[0]-g[0],k[1]-g[1]),c.makeArrow(a,h,{x:k[0],y:k[1]},p))},getPoint:function(b){var c=this.__attrs;return{x:a.at(c.p4[0],c.p3[0],c.p2[0],c.p1[0],b),y:a.at(c.p4[1],c.p3[1],c.p2[1],c.p1[1],b)}}});k.exports=h},function(k,f,d){f=d(5);var e=d(8),g=d(7),c=d(3),a=c.Matrix3,b=c.Vector3,h=d(13),m=function(b){m.superclass.constructor.call(this,b)};m.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1};f.extend(m,e);f.augment(m,{canFill:!0,canStroke:!0,type:"ellipse",__setAttrRx:function(b,a){return 0<b?b:(h.warn("rx \u5927\u4e8e\u7b49\u4e8e0"),a)},__setAttrRy:function(b,a){return 0<b?b:(h.warn("ry \u5927\u4e8e\u7b49\u4e8e0"),a)},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrRx:function(){this.__calculateBox()},__afterSetAttrRy:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.x,c=b.y,e=b.lineWidth,d=b.rx+e/2,b=b.ry+e/2;this.set("box",{minX:a-d,minY:c-b,maxX:a+d,maxY:c+b})},isPointInPath:function(b,a){var c=this.hasFill(),e=this.hasStroke();return c&&e?this.__isPointInFill(b,a)||this.__isPointInStroke(b,a):c?this.__isPointInFill(b,a):!!e&&this.__isPointInStroke(b,a)},__isPointInFill:function(c,e){var d=this.__attrs,h=d.x,f=d.y,m=d.rx,k=d.ry,d=m>k?m:k,q=m>k?1:m/k,k=m>k?k/m:1,m=new b(c,e,1),B=new a;B.scale(q,k);B.translate(h,f);h=B.getInverse();return m.applyMatrix(h),g.circle(0,0,d,m.x,m.y)},__isPointInStroke:function(c,e){var d=this.__attrs,h=d.x,f=d.y,m=d.rx,k=d.ry,d=d.lineWidth,q=m>k?m:k,B=m>k?1:m/k,k=m>k?k/m:1,m=new b(c,e,1),z=new a;z.scale(B,k);z.translate(h,f);h=z.getInverse();return m.applyMatrix(h),g.arcline(0,0,q,0,2*Math.PI,!1,d,m.x,m.y)},createPath:function(){var b=this.get("context"),c=this.__attrs,d=c.x,e=c.y,h=c.rx,f=c.ry,c=h>f?h:f,m=h>f?1:h/f,h=h>f?f/h:1,f=new a;f.scale(m,h);f.translate(d,e);d=f.to2DObject();b.beginPath();b.save();b.transform(d.a,d.b,d.c,d.d,d.e,d.f);b.arc(0,0,c,0,2*Math.PI);b.restore();b.closePath()}});k.exports=m},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=d(4),a=d(54),b=d(3).Vector2,h=d(13),m=function(b){m.superclass.constructor.call(this,b)};m.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1};e.extend(m,f);e.augment(m,{canFill:!0,canStroke:!0,type:"fan",__setAttrRs:function(b,a){return 0<=b?b:(h.warn("rs \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__setAttrRe:function(b,a){return 0<=b?b:(h.warn("re \u5fc5\u987b\u5927\u4e8e\u7b49\u4f600"),a)},__setAttrClockwise:function(b,a){return e.isBoolean(b)?b:(h.warn("clockwise \u5fc5\u987b\u4e3aboolean\u503c"),a)},__setAttrStartAngle:function(b){return c.degreeToRad(b)},__getAttrStartAngle:function(b){return c.radToDegree(b)},__setAttrEndAngle:function(b){return c.degreeToRad(b)},__getAttrEndAngle:function(b){return c.radToDegree(b)},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrRs:function(){this.__calculateBox()},__afterSetAttrRe:function(){this.__calculateBox()},__afterSetAttrStartAngle:function(){this.__calculateBox()},__afterSetAttrEndAngle:function(){this.__calculateBox()},__afterSetAttrClockwise:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,c=b.x,d=b.y,e=b.re,h=b.startAngle,f=b.endAngle,m=b.clockwise,g=b.lineWidth,b=a.box(c,d,b.rs,h,f,m),c=a.box(c,d,e,h,f,m),g=g/2;this.set("box",{minX:Math.min(b.minX,c.minX)-g,minY:Math.min(b.minY,c.minY)-g,maxX:Math.max(b.maxX,c.maxX)+g,maxY:Math.max(b.maxY,c.maxY)+g})},isPointInPath:function(b,a){var c=this.hasFill(),d=this.hasStroke();return c&&d?this.__isPointInFill(b,a)||this.__isPointInStroke(b,a):c?this.__isPointInFill(b,a):!!d&&this.__isPointInStroke(b,a)},__isPointInFill:function(d,e){var h=this.__attrs,f=h.x,m=h.y,g=h.rs,k=h.re,q=h.startAngle,B=h.endAngle,h=h.clockwise,z=new b(1,0),f=new b(d-f,e-m),m=z.angleTo(f),q=a.nearAngle(m,q,B,h);return c.equal(m,q)&&(q=f.lengthSq(),g*g<=q&&q<=k*k)?!0:!1},__isPointInStroke:function(b,a){var c=this.__attrs,d=c.x,e=c.y,h=c.rs,f=c.re,m=c.startAngle,k=c.endAngle,z=c.clockwise,c=c.lineWidth,x=Math.cos(k)*h+d,v=Math.sin(k)*h+e,A=Math.cos(k)*f+d,y=Math.sin(k)*f+e;return!!g.line(Math.cos(m)*h+d,Math.sin(m)*h+e,Math.cos(m)*f+d,Math.sin(m)*f+e,c,b,a)||!!g.line(x,v,A,y,c,b,a)||!!g.arcline(d,e,h,m,k,z,c,b,a)||!!g.arcline(d,e,f,m,k,z,c,b,a)},createPath:function(){var b=this.get("context"),a=this.__attrs,c=a.x,d=a.y,e=a.rs,h=a.re,f=a.startAngle,m=a.endAngle,a=a.clockwise,g=Math.cos(f)*e+c,k=Math.sin(f)*e+d,x=Math.cos(f)*h+c,v=Math.sin(f)*h+d,A=Math.cos(m)*e+c,y=Math.sin(m)*e+d;({x:Math.cos(m)*h+c,y:Math.sin(m)*h+d});b.beginPath();b.moveTo(g,k);b.lineTo(x,v);b.arc(c,d,h,f,m,a);b.lineTo(A,y);b.arc(c,d,e,m,f,!a);b.closePath()}});k.exports=m},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=d(13),a=function(b){a.superclass.constructor.call(this,b)};a.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null};e.extend(a,f);e.augment(a,{type:"image",getDefaultAttrs:function(){return a.ATTRS},__setAttrWidth:function(b,a){return 0<=b?b:(c.warn("width \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__setAttrHeight:function(b,a){return 0<=b?b:(c.warn("height \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrWidth:function(){this.__calculateBox()},__afterSetAttrHeight:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.x,c=b.y;this.set("box",{minX:a,minY:c,maxX:a+b.width,maxY:c+b.height})},isPointInPath:function(b,a){var c=this.__attrs;return this.get("toDraw")||!c.img?!1:g.rect(c.x,c.y,c.width,c.height,b,a)},__setLoading:function(b){var a=this.get("canvas");return!1===b&&!0===this.get("toDraw")&&(this.__cfg.loading=!1,a.draw()),b},__setAttrImg:function(b){var a=this,c=a.__attrs;a.get("context");if(!e.isString(b))return b instanceof Image?(c.width||a.attr("width",b.width),c.height||a.attr("height",b.height),b):b instanceof HTMLElement&&e.isString(b.nodeName)&&"CANVAS"===b.nodeName.toUpperCase()?(c.width||a.attr("width",Number(b.getAttribute("width"))),c.height||a.attr("height",Number(b.getAttribute("height"))),b):b instanceof ImageData?(c.width||a.attr("width",b.width),c.height||a.attr("height",b.height),b):void 0;var d=new Image;d.onload=function(){a.attr("imgSrc",b);a.attr("img",d);a.set("loading",!1)};d.src=b;a.set("loading",!0)},drawInner:function(){return this.get("loading")?void this.set("toDraw",!0):void this.__drawImage()},__drawImage:function(){var b=this.get("context"),a=this.__attrs,c=a.x,d=a.y,f=a.img,g=a.width,k=a.height,r=a.sx,p=a.sy,u=a.swidth,a=a.sheight;return this.set("toDraw",!1),f instanceof Image||f instanceof HTMLElement&&e.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()?e.isNull(r)||e.isNull(p)||e.isNull(u)||e.isNull(a)?void b.drawImage(f,c,d,g,k):e.notNull(r)&&e.notNull(p)&&e.notNull(u)&&e.notNull(a)?void b.drawImage(f,r,p,u,a,c,d,g,k):void 0:f instanceof ImageData?void b.putImageData(f,c,d,r||0,p||0,u||g,a||k):void 0}});k.exports=a},function(k,f,d){f=d(5);var e=d(8),g=d(7),c=d(3).Vector2,a=d(32),b=d(82),h=function(b){h.superclass.constructor.call(this,b)};h.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,arrow:!1};f.extend(h,e);f.augment(h,{canStroke:!0,type:"line",__afterSetAttrX1:function(){this.__calculateBox()},__afterSetAttrY1:function(){this.__calculateBox()},__afterSetAttrX2:function(){this.__calculateBox()},__afterSetAttrY2:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var a=this.__attrs;this.set("box",b.box(a.x1,a.y1,a.x2,a.y2,a.lineWidth))},isPointInPath:function(b,a){var c=this.__attrs,d=c.x1,e=c.y1,h=c.x2,f=c.y2,c=c.lineWidth;return!!this.hasStroke()&&g.line(d,e,h,f,c,b,a)},createPath:function(){var b=this.get("context"),d=this.__attrs,e=d.x1,h=d.y1,f=d.x2,g=d.y2,k=d.arrow,d=d.lineWidth;(b.beginPath(),b.moveTo(e,h),k)?(e=new c(f-e,g-h),f=a.getEndPoint(e,new c(f,g),d),b.lineTo(f.x,f.y),a.makeArrow(b,e,f,d)):b.lineTo(f,g)},getPoint:function(a){var c=this.__attrs;return{x:b.at(c.x1,c.x2,a),y:b.at(c.y1,c.y2,a)}}});k.exports=h},function(k,f,d){f=d(3);f.Vector2;d(4);k.exports={xAt:function(d,f,c,a,b){return f*Math.cos(d)*Math.cos(b)-c*Math.sin(d)*Math.sin(b)+a},yAt:function(d,f,c,a,b){return f*Math.sin(d)*Math.cos(b)+c*Math.cos(d)*Math.sin(b)+a},xExtrema:function(d,f,c){return Math.atan(-c/f*Math.tan(d))},yExtrema:function(d,f,c){return Math.atan(c/(f*Math.tan(d)))}}},function(k,f,d){var e=d(5);f=d(8);var g=d(247),c=d(81),a=function(b){a.superclass.constructor.call(this,b)};a.ATTRS={path:null,lineWidth:1};e.extend(a,f);e.augment(a,{canFill:!0,canStroke:!0,type:"path",__afterSetAttrPath:function(b){if(e.isNull(b))return this.set("segments",null),void this.set("box",void 0);var a;b=c.parsePath(b);var d=[];!e.isArray(b)||0===b.length||"M"!==b[0][0]&&"m"!==b[0][0]||(e.each(b,function(b){a=new g(b,a);d.push(a)}),this.set("segments",d),this.__calculateBox())},__afterSetAttrLineWidth:function(b){this.get("segments");this.__calculateBox()},__afterSetAttrAll:function(b){b.path?this.__afterSetAttrPath(b.path):this.__calculateBox()},__calculateBox:function(){var b=this.__attrs.lineWidth,a=this.get("segments");if(a){var c=1/0,d=-(1/0),f=1/0,g=-(1/0);e.each(a,function(a,e){a.getBBox(b);var h=a.box;h&&(h.minX<c&&(c=h.minX),h.maxX>d&&(d=h.maxX),h.minY<f&&(f=h.minY),h.maxY>g&&(g=h.maxY))});this.set("box",{minX:c,minY:f,maxX:d,maxY:g})}},isPointInPath:function(b,a){var c=this.hasFill(),d=this.hasStroke();return c&&d?this.__isPointInFill(b,a)||this.__isPointInStroke(b,a):c?this.__isPointInFill(b,a):!!d&&this.__isPointInStroke(b,a)},__isPointInFill:function(b,a){var c=this.get("context");if(c)return this.createPath(),c.isPointInPath(b,a)},__isPointInStroke:function(b,a){for(var c=this.get("segments"),d=this.__attrs.lineWidth,e=0,f=c.length;e<f;e++)if(c[e].isInside(b,a,d))return!0;return!1},createPath:function(){var b=this.get("context"),a=this.get("segments");b.beginPath();for(var c=0,d=a.length;c<d;c++)a[c].draw(b)}});k.exports=a},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=function(a){c.superclass.constructor.call(this,a)};c.ATTRS={points:null,lineWidth:1};e.extend(c,f);e.augment(c,{canFill:!0,canStroke:!0,type:"polygon",__afterSetAttrPoints:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var a=this.__attrs,b=a.points,a=a.lineWidth;if(b&&0!==b.length){var c=1/0,d=1/0,l=-(1/0),f=-(1/0);e.each(b,function(b){var a=b[0];b=b[1];a<c&&(c=a);a>l&&(l=a);b<d&&(d=b);b>f&&(f=b)});b=a/2;this.set("box",{minX:c-b,minY:d-b,maxX:l+b,maxY:f+b})}},isPointInPath:function(a,b){var c=this.hasFill(),d=this.hasStroke();return c&&d?this.__isPointInFill(a,b)||this.__isPointInStroke(a,b):c?this.__isPointInFill(a,b):!!d&&this.__isPointInStroke(a,b)},__isPointInFill:function(a,b){var c=this.get("context");return this.createPath(),c.isPointInPath(a,b)},__isPointInStroke:function(a,b){var c=this.__attrs,d=c.points;if(2>d.length)return!1;var c=c.lineWidth,e=d.slice(0);return 3<=d.length&&e.push(d[0]),g.polyline(e,c,a,b)},createPath:function(){var a=this.get("context"),b=this.__attrs.points;2>b.length||(a.beginPath(),e.each(b,function(b,c){0===c?a.moveTo(b[0],b[1]):a.lineTo(b[0],b[1])}),a.closePath())}});k.exports=c},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=d(3).Vector2,a=d(32),b=function(a){b.superclass.constructor.call(this,a)};b.ATTRS={points:null,lineWidth:1,arrow:!1};e.extend(b,f);e.augment(b,{canStroke:!0,type:"polyline",__afterSetAttrPoints:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.lineWidth;if((b=b.points)&&0!==b.length){var c=1/0,d=1/0,f=-(1/0),g=-(1/0);e.each(b,function(b){var a=b[0];b=b[1];a<c&&(c=a);a>f&&(f=a);b<d&&(d=b);b>g&&(g=b)});a/=2;this.set("box",{minX:c-a,minY:d-a,maxX:f+a,maxY:g+a})}},isPointInPath:function(b,a){var c=this.__attrs;if(this.hasStroke()){var d=c.points;return 2>d.length?!1:g.polyline(d,c.lineWidth,b,a)}return!1},createPath:function(){var b=this.get("context"),d=this.__attrs,e=d.points,f=d.arrow,d=d.lineWidth;if(!(2>e.length)){b.beginPath();b.moveTo(e[0][0],e[0][1]);for(var g=1,k=e.length-1;g<k;g++)b.lineTo(e[g][0],e[g][1]);f?(f=new c(e[k][0]-e[k-1][0],e[k][1]-e[k-1][1]),e=a.getEndPoint(f,new c(e[k][0],e[k][1]),d),b.lineTo(e.x,e.y),a.makeArrow(b,f,e,d)):b.lineTo(e[k][0],e[k][1])}}});k.exports=b},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=(d(4),d(32)),a=d(56),b=d(3).Vector2,h=function(b){h.superclass.constructor.call(this,b)};h.ATTRS={p1:null,p2:null,p3:null,lineWidth:1,arrow:!1};e.extend(h,f);e.augment(h,{canStroke:!0,type:"quadratic",__afterSetAttrP1:function(){this.__calculateBox()},__afterSetAttrP2:function(){this.__calculateBox()},__afterSetAttrP3:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,c=b.p1,d=b.p2,h=b.p3;if(!(e.isNull(c)||e.isNull(d)||e.isNull(h))){for(var b=b.lineWidth/2,f=a.extrema(c[0],d[0],h[0]),g=0,k=f.length;g<k;g++)f[g]=a.at(c[0],d[0],h[0],f[g]);f.push(c[0],h[0]);for(var u=a.extrema(c[1],d[1],h[1]),g=0,k=u.length;g<k;g++)u[g]=a.at(c[1],d[1],h[1],u[g]);u.push(c[1],h[1]);this.set("box",{minX:Math.min.apply(Math,f)-b,maxX:Math.max.apply(Math,f)+b,minY:Math.min.apply(Math,u)-b,maxY:Math.max.apply(Math,u)+b})}},isPointInPath:function(b,a){var c=this.__attrs,d=c.p1,e=c.p2,h=c.p3;return g.quadraticline(d[0],d[1],e[0],e[1],h[0],h[1],c.lineWidth,b,a)},createPath:function(){var a=this.get("context"),d=this.__attrs,h=d.p1,f=d.p2,g=d.p3,k=d.lineWidth,d=d.arrow;e.isNull(h)||e.isNull(f)||e.isNull(g)||(a.beginPath(),a.moveTo(h[0],h[1]),a.quadraticCurveTo(f[0],f[1],g[0],g[1]),!d)||(h=new b(g[0]-f[0],g[1]-f[1]),c.makeArrow(a,h,{x:g[0],y:g[1]},k))},getPoint:function(b){var c=this.__attrs;return{x:a.at(c.p1[0],c.p2[0],c.p3[0],b),y:a.at(c.p1[1],c.p2[1],c.p3[1],b)}}});k.exports=h},function(k,f,d){f=d(5);var e=d(8),g=d(7),c=d(13),a=function(b){a.superclass.constructor.call(this,b)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1};f.extend(a,e);f.augment(a,{canFill:!0,canStroke:!0,type:"rect",__setAttrWidth:function(b,a){return 0<=b?b:(c.warn("width \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__setAttrHeight:function(b,a){return 0<=b?b:(c.warn("height \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__setAttrRadius:function(b,a){return 0<=b?b:(c.warn("radius \u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e0"),a)},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrWidth:function(){this.__calculateBox()},__afterSetAttrHeight:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(){this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.x,c=b.y,d=b.lineWidth/2;this.set("box",{minX:a-d,minY:c-d,maxX:a+b.width+d,maxY:c+b.height+d})},isPointInPath:function(b,a){var c=this.hasFill(),d=this.hasStroke();return c&&d?this.__isPointInFill(b,a)||this.__isPointInStroke(b,a):c?this.__isPointInFill(b,a):!!d&&this.__isPointInStroke(b,a)},__isPointInFill:function(b,a){var c=this.__attrs,c=(c.x,c.y,c.width,c.height,c.radius,this.get("context"));return!!c&&(this.createPath(),c.isPointInPath(b,a))},__isPointInStroke:function(b,a){var c=this.__attrs,d=c.x,e=c.y,f=c.width,k=c.height,r=c.radius,c=c.lineWidth;return 0===r?(r=c/2,g.line(d-r,e,d+f+r,e,c,b,a)||g.line(d+f,e-r,d+f,e+k+r,c,b,a)||g.line(d+f+r,e+k,d-r,e+k,c,b,a)||g.line(d,e+k+r,d,e-r,c,b,a)):g.line(d+r,e,d+f-r,e,c,b,a)||g.line(d+f,e+r,d+f,e+k-r,c,b,a)||g.line(d+f-r,e+k,d+r,e+k,c,b,a)||g.line(d,e+k-r,d,e+r,c,b,a)||g.arcline(d+f-r,e+r,r,1.5*Math.PI,2*Math.PI,!1,c,b,a)||g.arcline(d+f-r,e+k-r,r,0,.5*Math.PI,!1,c,b,a)||g.arcline(d+r,e+k-r,r,.5*Math.PI,Math.PI,!1,c,b,a)||g.arcline(d+r,e+r,r,Math.PI,1.5*Math.PI,!1,c,b,a)},createPath:function(){var b=this.get("context"),a=this.__attrs,c=a.x,d=a.y,e=a.width,f=a.height,a=a.radius;b.beginPath();0===a?(b.moveTo(c,d),b.lineTo(c+e,d),b.lineTo(c+e,d+f),b.lineTo(c,d+f),b.lineTo(c,d)):(b.moveTo(c+a,d),b.lineTo(c+e-a,d),b.arc(c+e-a,d+a,a,-Math.PI/2,0,!1),b.lineTo(c+e,d+f-a),b.arc(c+e-a,d+f-a,a,0,Math.PI/2,!1),b.lineTo(c+a,d+f),b.arc(c+a,d+f-a,a,Math.PI/2,Math.PI,!1),b.lineTo(c,d+a),b.arc(c+a,d+a,a,Math.PI,3*Math.PI/2,!1));b.closePath()}});k.exports=a},function(k,f,d){var e=d(5);f=d(8);var g=d(7),c=d(13),a=function(b){a.superclass.constructor.call(this,b)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineWidth:1};var b={start:1,right:1,left:1,end:1,center:1},h={top:1,middle:1,bottom:1},m={normal:1,italic:1,oblique:1},l={normal:1,"small-caps":1},w={normal:1,bold:1,bolder:1,lighter:1,100:1,200:1,300:1,400:1,500:1,600:1,700:1,800:1,900:1};e.extend(a,f);e.augment(a,{canFill:!0,canStroke:!0,type:"text",__setAttrTextAlign:function(a,c){return a in b?a:c},__setAttrTextBaseline:function(b,a){return b in h?b:a},__setAttrFontSize:function(b,a){return 12<=b?b:a},__setAttrFontStyle:function(b,a){return b in m?b:a},__setAttrFontVariant:function(b,a){return b in l?b:a},__setAttrFontWeight:function(b,a){return b in w?b:a},__assembleFont:function(){var b=this.attr("fontSize"),a=this.attr("fontFamily"),c=this.attr("fontWeight"),d=this.attr("fontStyle"),e=this.attr("fontVariant");this.attr("font",[d,e,c,b+"px",a].join(" "))},__afterSetAttrFontSize:function(b){this.attr({height:b});this.__assembleFont()},__afterSetAttrFontFamily:function(){this.__assembleFont()},__afterSetAttrFontWeight:function(){this.__assembleFont()},__afterSetAttrFontStyle:function(){this.__assembleFont()},__afterSetAttrFontVariant:function(){this.__assembleFont()},__afterSetAttrFont:function(){this.attr("width",this.measureText())},__afterSetAttrText:function(){this.attr("width",this.measureText())},__afterSetAttrTextAlign:function(){this.__calculateBox()},__afterSetAttrTextBaseline:function(){this.__calculateBox()},__afterSetAttrX:function(){this.__calculateBox()},__afterSetAttrY:function(){this.__calculateBox()},__afterSetAttrWidth:function(){this.__calculateBox()},__afterSetAttrLineWidth:function(){this.__calculateBox()},__afterSetAttrAll:function(b){"fontSize"in b&&this.attr("height",b.fontSize);("fontSize"in b||"fontWeight"in b||"fontStyle"in b||"fontVariant"in b||"fontFamily"in b)&&this.__assembleFont();"text"in b&&this.__afterSetAttrText(b.text);this.__calculateBox()},__calculateBox:function(){var b=this.__attrs,a=b.x,c=b.y,d=b.width;if(d){var e=b.height,h=b.textAlign,f=b.textBaseline,b=b.lineWidth,a={x:a,y:c-e};h&&("end"===h||"right"===h?a.x-=d:"center"===h&&(a.x-=d/2));f&&("top"===f?a.y+=e:"middle"===f&&(a.y+=e/2));this.set("startPoint",a);h=b/2;this.set("box",{minX:a.x-h,minY:a.y-h,maxX:a.x+d+h,maxY:a.y+e+h})}},isPointInPath:function(b,a){var c=this.getBBox();if(this.hasFill()||this.hasStroke())return g.box(c.minX,c.maxX,c.minY,c.maxY,b,a)},drawInner:function(){var b=this.get("context"),a=this.__attrs,c=a.text,d=a.x,a=a.y;e.isNull(c)||(b.beginPath(),this.hasFill()&&b.fillText(c,d,a),this.hasStroke()&&b.strokeText(c,d,a))},measureText:function(){var b=this.__attrs,a=b.text,d=b.font;if(!e.isNull(a))return b=c.backupContext,b.save(),b.font=d,a=b.measureText(a).width,b.restore(),a}});k.exports=a},function(k,f,d){function e(b,a){this.preSegment=a;this.init(b,a)}function g(b,a,c){return{x:c.x+b,y:c.y+a}}function c(b,a){return{x:a.x+(a.x-b.x),y:a.y+(a.y-b.y)}}function a(b,a){return(b[0]*a[0]+b[1]*a[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1])*Math.sqrt(a[0]*a[0]+a[1]*a[1]))}function b(b,c){return(b[0]*c[1]<b[1]*c[0]?-1:1)*Math.acos(a(b,c))}f=d(5);var h=d(4),m=d(3),l=d(7),w=d(55),n=d(56),t=d(240),r=m.Vector3,p=m.Matrix3;f.augment(e,{init:function(d,e){var f=d[0];e=e||{endPoint:{x:0,y:0}};var l=/[a-z]/.test(f);switch(f.toUpperCase()){case "M":l=l?g(d[1],d[2],e.endPoint):{x:d[1],y:d[2]};this.command="M";this.params=[e.endPoint,l];this.endPoint=this.subStart=l;break;case "L":l=l?g(d[1],d[2],e.endPoint):{x:d[1],y:d[2]};this.command="L";this.params=[e.endPoint,l];this.subStart=e.subStart;this.endPoint=l;break;case "H":l=l?g(d[1],0,e.endPoint):{x:d[1],y:e.endPoint.y};this.command="L";this.params=[e.endPoint,l];this.subStart=e.subStart;this.endPoint=l;break;case "V":l=l?g(0,d[1],e.endPoint):{x:e.endPoint.x,y:d[1]};this.command="L";this.params=[e.endPoint,l];this.subStart=e.subStart;this.endPoint=l;break;case "Q":l?(f=g(d[1],d[2],e.endPoint),l=g(d[3],d[4],e.endPoint)):(f={x:d[1],y:d[2]},l={x:d[3],y:d[4]});this.command="Q";this.params=[e.endPoint,f,l];this.subStart=e.subStart;this.endPoint=l;break;case "T":l=l?g(d[1],d[2],e.endPoint):{x:d[1],y:d[2]};"Q"===e.command?(f=c(e.params[1],e.endPoint),this.command="Q",this.params=[e.endPoint,f,l]):(this.command="TL",this.params=[e.endPoint,l]);this.subStart=e.subStart;this.endPoint=l;break;case "C":if(l)var f=g(d[1],d[2],e.endPoint),l=g(d[3],d[4],e.endPoint),m=g(d[5],d[6],e.endPoint);else f={x:d[1],y:d[2]},l={x:d[3],y:d[4]},m={x:d[5],y:d[6]};this.command="C";this.params=[e.endPoint,f,l,m];this.subStart=e.subStart;this.endPoint=m;break;case "S":l?(l=g(d[1],d[2],e.endPoint),m=g(d[3],d[4],e.endPoint)):(l={x:d[1],y:d[2]},m={x:d[3],y:d[4]});"C"===e.command?(f=c(e.params[2],e.endPoint),this.command="C",this.params=[e.endPoint,f,l,m]):(this.command="SQ",this.params=[e.endPoint,l,m]);this.subStart=e.subStart;this.endPoint=m;break;case "A":var n=d[1],k=d[2],w=d[3],p=d[4],f=d[5],l=l?g(d[6],d[7],e.endPoint):{x:d[6],y:d[7]};this.command="A";var m=e.endPoint,r=l,w=h.mod(h.degreeToRad(w),2*Math.PI),t=m.x,I=m.y,E=r.x,G=r.y,r=Math.cos(w)*(t-E)/2+Math.sin(w)*(I-G)/2,C=-1*Math.sin(w)*(t-E)/2+Math.cos(w)*(I-G)/2,H=r*r/(n*n)+C*C/(k*k);1<H&&(n*=Math.sqrt(H),k*=Math.sqrt(H));H=Math.sqrt((n*n*k*k-n*n*C*C-k*k*r*r)/(n*n*C*C+k*k*r*r));p===f&&(H*=-1);isNaN(H)&&(H=0);p=H*n*C/k;H=H*-k*r/n;t=(t+E)/2+Math.cos(w)*p-Math.sin(w)*H;I=(I+G)/2+Math.sin(w)*p+Math.cos(w)*H;E=b([1,0],[(r-p)/n,(C-H)/k]);G=[(r-p)/n,(C-H)/k];r=[(-1*r-p)/n,(-1*C-H)/k];C=b(G,r);this.params=(-1>=a(G,r)&&(C=Math.PI),1<=a(G,r)&&(C=0),0===f&&0<C&&(C-=2*Math.PI),1===f&&0>C&&(C+=2*Math.PI),[m,t,I,n,k,E,C,w,f]);this.subStart=e.subStart;this.endPoint=l;break;case "Z":this.command="Z",this.params=[e.endPoint,e.subStart],this.endPoint=this.subStart=e.subStart}},isInside:function(b,a,c){var d=this.command,e=this.params,h=this.box;if(h&&!l.box(h.minX,h.maxX,h.minY,h.maxY,b,a))return!1;switch(d){case "TL":case "L":case "Z":return l.line(e[0].x,e[0].y,e[1].x,e[1].y,c,b,a);case "SQ":case "Q":return l.quadraticline(e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,c,b,a);case "C":return l.cubicline(e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y,c,b,a);case "A":var d=e,e=d[1],h=d[2],f=d[3],g=d[4],m=d[5],n=d[6],k=d[7],w=d[8],t=f>g?f:g,G=f>g?1:f/g,f=f>g?g/f:1,d=new r(b,a,1);b=new p;return b.translate(-e,-h),b.rotate(-k),b.scale(1/G,1/f),d.applyMatrix(b),l.arcline(0,0,t,m,m+n,1-w,c,d.x,d.y)}return!1},draw:function(b){var a=this.params;switch(this.command){case "M":b.moveTo(a[1].x,a[1].y);break;case "TL":case "L":b.lineTo(a[1].x,a[1].y);break;case "SQ":case "Q":var c=a[1],d=a[2];b.quadraticCurveTo(c.x,c.y,d.x,d.y);break;case "C":var c=a[1],d=a[2],e=a[3];b.bezierCurveTo(c.x,c.y,d.x,d.y,e.x,e.y);break;case "A":var c=a[1],d=a[2],h=a[3],f=a[4],e=a[5],l=a[6],g=a[7],a=a[8],m=h>f?h:f,n=h>f?1:h/f,h=h>f?f/h:1;b.translate(c,d);b.rotate(g);b.scale(n,h);b.arc(0,0,m,e,e+l,1-a);b.scale(1/n,1/h);b.rotate(-g);b.translate(-c,-d);break;case "Z":b.closePath()}},getBBox:function(b){b/=2;var a=this.params;switch(this.command){case "TL":case "L":this.box={minX:Math.min(a[0].x,a[1].x)-b,maxX:Math.max(a[0].x,a[1].x)+b,minY:Math.min(a[0].y,a[1].y)-b,maxY:Math.max(a[0].y,a[1].y)+b};break;case "SQ":case "Q":for(var c=n.extrema(a[0].x,a[1].x,a[2].x),d=0,e=c.length;d<e;d++)c[d]=n.at(a[0].x,a[1].x,a[2].x,c[d]);c.push(a[0].x,a[2].x);for(var h=n.extrema(a[0].y,a[1].y,a[2].y),d=0,e=h.length;d<e;d++)h[d]=n.at(a[0].y,a[1].y,a[2].y,h);h.push(a[0].y,a[2].y);this.box={minX:Math.min.apply(Math,c)-b,maxX:Math.max.apply(Math,c)+b,minY:Math.min.apply(Math,h)-b,maxY:Math.max.apply(Math,h)+b};break;case "C":c=w.extrema(a[0].x,a[1].x,a[2].x,a[3].x);d=0;for(e=c.length;d<e;d++)c[d]=w.at(a[0].x,a[1].x,a[2].x,a[3].x,c[d]);h=w.extrema(a[0].y,a[1].y,a[2].y,a[3].y);d=0;for(e=h.length;d<e;d++)h[d]=w.at(a[0].y,a[1].y,a[2].y,a[3].y,h[d]);c.push(a[0].x,a[3].x);h.push(a[0].y,a[3].y);this.box={minX:Math.min.apply(Math,c)-b,maxX:Math.max.apply(Math,c)+b,minY:Math.min.apply(Math,h)-b,maxY:Math.max.apply(Math,h)+b};break;case "A":for(var f=a[1],c=a[2],h=a[3],l=a[4],g=a[5],m=a[7],k=a[8],p=g+a[6],e=t.xExtrema(m,h,l),a=1/0,r=-(1/0),G=[g,p],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var C=e+d;1===k?g<C&&C<p&&G.push(C):p<C&&C<g&&G.push(C)}d=0;for(e=G.length;d<e;d++)C=t.xAt(m,h,l,f,G[d]),C<a&&(a=C),C>r&&(r=C);e=t.yExtrema(m,h,l);f=1/0;G=-(1/0);C=[g,p];for(d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var H=e+d;1===k?g<H&&H<p&&C.push(H):p<H&&H<g&&C.push(H)}d=0;for(e=C.length;d<e;d++)g=t.yAt(m,h,l,c,C[d]),g<f&&(f=g),g>G&&(G=g);this.box={minX:a-b,maxX:r+b,minY:f-b,maxY:G+b}}}});k.exports=e},function(k,f,d){f=d(1);var e=d(17),g=d(59),c=d(19);d=function b(c){b.superclass.constructor.call(this,c);this._initCalMethod()};f.extend(d,e);f.augment(d,{type:"color",names:["color"],colors:null,calType:null,_initCalMethod:function(){var b=this.calType;this.calMethod=b&&-1!==b.indexOf("-")?g.gradient(b):g[b]},mappingRecord:function(b){var d=this.type,e={},f=this.getScale(d);b=b[d];return b=f.type!==c.I_TYPE?this.getValue(b):f.invert(b),e[d]=b,e},getValue:function(b){var c,d=this.colors;d?(c=this.getScale(this.type),c.isCategory?(b=c.invert(b),b=c.translate(b)):b=parseInt((d.length-1)*b,10),c=d[b%d.length]):this.calMethod&&(c=this.calMethod.call(g,b));return c}});k.exports=d},function(k,f,d){f=d(17);f.Position=d(252);f.Color=d(248);f.Size=d(254);f.Shape=d(253);f.Opacity=d(251);f.Label=d(250);k.exports=f},function(k,f,d){var e=d(1);f=d(17);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{type:"label",getLabel:function(c){var a,b=this.scales,d=this.callback;if(d){var f=[];e.each(b,function(b){f.push(c[b.dim])});a=d.apply(null,f)}else{var l=this.getScale(this.type);if(a=c[l.dim],e.isArray(a)){var k=[];e.each(a,function(b){k.push(l.getText(b))});a=k}else a=l.getText(a)}return a},getMappedRecord:function(c){var a=c,b=this.type;return c._origin&&(a=c._origin),c[b]=this.getLabel(a),c}});k.exports=d},function(k,f,d){f=d(1);var e=d(19);d=d(17);var g=function a(b){a.superclass.constructor.call(this,b)};f.extend(g,d);f.augment(g,{type:"opacity",mappingRecord:function(a){var b=this.type,d={},f=this.getScale(b);a=a[b];return a=f.type!==e.I_TYPE?this.getValue(a):f.invert(a),d[b]=a,d},getValue:function(a){return.9*a+.1}});k.exports=g},function(k,f,d){var e=d(1);f=d(17);var g=function a(b){a.superclass.constructor.call(this,b)};e.extend(g,f);e.augment(g,{type:"position",names:["x","y","z"],_transRecord:function(a){var b,d,f,l=this.coord;if(e.isArray(a.x)&&e.isArray(a.y)){d=[];f=[];b=a.x;for(var g=a.y,n=0,k=0;n<b.length&&k<g.length;n++,k++){var r=l.convertPoint({x:b[n],y:g[k]});d.push(r.x);f.push(r.y)}b={x:d,y:f}}else e.isArray(a.y)?(f=[],e.each(a.y,function(b){b=l.convertPoint({x:a.x,y:b});d?(e.isArray(d)||(d=[d]),d.push(b.x)):d=b.x;f.push(b.y)}),b={x:d,y:f}):e.isArray(a.x)?(d=[],f=[],e.each(a.x,function(b){b=l.convertPoint({x:b,y:a.y});d.push(b.x);f.push(b.y)}),b={x:d,y:f}):b=l.convertPoint(a);return b},mappingRecord:function(a){var b=this.getDims(),d=this.names[1];return 1===b.length&&void 0===a[d]&&(a[d]=.1),this._transRecord(a)},getNames:function(){var a=g.superclass.getNames.call(this);return 1===a.length&&a.push("y"),a},setCoord:function(a){this.coord=a}});k.exports=g},function(k,f,d){f=d(1);var e=d(19);d=d(17);var g=function a(b){a.superclass.constructor.call(this,b)};f.extend(g,d);f.augment(g,{type:"shape",shapes:[],mappingRecord:function(a){var b=this.type,d={},f=this.getScale(b);a=a[b];return a=f.type!==e.I_TYPE?this.getValue(a):f.invert(a),d[b]=a,d},getValue:function(a){var b,d=this.shapes,e=this.getScale(this.type);return e.isCategory?(a=e.invert(a),b=e.translate(a)):b=parseInt(a*(d.length-1),10),d[b%d.length]}});k.exports=g},function(k,f,d){f=d(1);var e=d(19);d=d(17);var g=function a(b){a.superclass.constructor.call(this,b)};f.extend(g,d);f.augment(g,{type:"size",max:4,min:1,mappingRecord:function(a){var b=this.type,d={},f=this.getScale(b);a=a[b];return a=f.type!==e.I_TYPE?this.getValue(a):f.invert(a),d[b]=a,d},getValue:function(a){var b=this.getScale(this.type);b.isCategory&&(a=b.invert(a),a=b.translate(a)/b.values.length);b=this.min;return b+(this.max-b)*a}});k.exports=g},function(k,f,d){var e=d(1),g=d(11).Components.Axis,c=d(6);f=function(a){this.axisCfg={};e.mix(this,a)};e.augment(f,{axisCfg:null,enable:!0,container:null,chart:null,_isHide:function(a){var b=this.axisCfg;return b&&!1===b[a]},_getAxisClass:function(a,b){return a.isRect?g:"x"===b?g.Circle:g.Radius},_getAxisPosition:function(a,b,c,d){d=a.type;var e="";return a.isRect?("x"===b&&(e="bottom"),"y"===b&&(e=c?"right":"left")):e="clock"===d?"clock":"gauge"===d?"gauge":"x"===b?a.isTransposed?"radius":"circle":a.isTransposed?"circle":"radius",e},_getAxisCfg:function(a,b,d,f,l){var g=d.rows,n=d.cols,k=d.rowIndex,r=d.colIndex,p=d.type,u=this.axisCfg,q={},B=this._getAxisPosition(a,f,l,p);l=a.getHeight();var z=a.type;if("cartesian"!==z||1===g&&1===n?"cartesian"===z&&(q.title={text:b.alias||b.dim}):(q.title={text:b.alias||b.dim},"tree"===p?("y"===f&&0!==d.originColIndex&&0!==r||"x"===f&&d.children)&&(q.labels=null,q.title=null):"circle"===p?(q.labels=null,q.title=null):("mirror"!==p&&"y"===f&&(0!==r&&"left"===B||r!==n-1&&"right"===B)&&(q.labels=null,q.title=null),"rect"===p?"x"===f&&0!==k&&(q.labels=null,q.title=null):"list"===p?"x"===f&&k!==g-1&&n*k+r+1+n<=d.count&&(q.labels=null,q.title=null):"mirror"===p&&"x"===f&&(1===g&&1===r||2===g&&0===k)&&(q.labels=null,q.title=null)),"y"===f&&q.title&&k!==Math.floor(g/2)&&(q.title=null),"x"===f&&q.title&&r!==Math.floor(n/2)&&(q.title=null)),q=e.mix(!0,{},c.axis[B],q,u[b.dim]),q.ticks=b.getTicks(),a.isPolar&&!b.isCategory&&"x"===f&&("clock"===a.type?q.ticks[0].text="":"gauge"!==a.type&&q.ticks.pop()),"y"===f)if(b=q.ticks,d=b.length,16>l/d){f=[];l=Math.floor(d/(Math.floor(l/16)+1));1>l&&(l=1);f.push(b[0]);for(g=l;g<=d-2;g+=l)f.push(b[g]);f.push(b[d-1]);q.ticks=f}return q.coord=a,q.labels&&e.isNull(q.labels.autoRotate)&&(q.labels.autoRotate=!0),q},_drawAxis:function(a,b,c,d,e,f){var g=this.container,k=this._getAxisClass(a,d);a=this._getAxisCfg(a,b,c,d,f);return"y"===d&&e&&"circle"===e.get("type")&&(a.circle=e),g.addGroup(k,a)},createAxis:function(a,b,c){var d=this;if(d.enable){var f=a.get("coord"),g=f.type,n=d.chart.get("facets")[a.get("index")];if("theta"!==g&&("polar"!==g||!f.isTransposed)){var k;b&&!d._isHide(b.dim)&&(k=d._drawAxis(f,b,n,"x"));c&&c.length&&e.each(c,function(b,a){d._isHide(b.dim)||d._drawAxis(f,b,n,"y",k,a)})}}}});k.exports=f},function(k,f,d){var e=d(1),g=d(71);f=function(c){e.mix(this,c);this.resetActions()};e.augment(f,{type:"rect",coordCfg:{},actions:[],_execActions:function(c){e.each(this.actions,function(a){c[a[0]](a[1],a[2])})},hasAction:function(c){var a=!1;return e.each(this.actions,function(b){if(c===b[0])return a=!0,!1}),a},createCoord:function(c,a){var b,d,f=this.type||"rect",l=e.mix({start:c,end:a},this.coordCfg);return"theta"===f?(b=g.Polar,this.hasAction("transpose")||this.transpose(),d=new b(l),d.type=f):(b=g[e.ucfirst(f)]||g.Rect,d=new b(l)),this._execActions(d),d},rotate:function(c){var a=this.actions;return c=c*Math.PI/180,a.push(["rotate",c]),this},reflect:function(c){return this.actions.push(["reflect",c]),this},scale:function(c,a){return this.actions.push(["scale",c,a]),this},transpose:function(){return this.actions.push(["transpose"]),this},resetActions:function(){return this.actions=[],this}});k.exports=f},function(k,f,d){var e=d(1),g=e.getRatio();f=function(c){e.mix(this,c)};e.augment(f,{chart:null,_getCanvas:function(){return this.chart.get("frontCanvas")},_getPointInfo:function(c){c={x:c.x/g,y:c.y/g};var a=this.chart.getViewByPoint(c);return c.view=a,c},_getEventObj:function(c,a,b){return{x:a.x,y:a.y,target:c.target,toElement:c.event.toElement,view:b}},bindEvents:function(){var c=this._getCanvas();c.on("canvas-mousemove",e.wrapBehavior(this,"onMove"));c.on("canvas-mouseleave",e.wrapBehavior(this,"onOut"));c.on("canvas-click",e.wrapBehavior(this,"onClick"))},onOut:function(c){var a=this.chart,b=this._getPointInfo(c);a.fire("plotleave",this._getEventObj(c,b,this.curView))},onMove:function(c){var a=this.chart,b=this._getPointInfo(c),d=this.curView;d!==b.view&&(b.view&&a.fire("plotenter",this._getEventObj(c,b,b.view)),d&&a.fire("plotleave",this._getEventObj(c,b,d)));b.view&&a.fire("plotmove",this._getEventObj(c,b,b.view));this.curView=b.view},onClick:function(c){var a=this.chart,b=this._getPointInfo(c);if(b.view){var d,e,f=b.view,g=a.get("geoms");c=this._getEventObj(c,b,f);for(var n=g.length-1;0<=n&&(e=g[n],!(d=e.getSingleShape(b)));n--);d&&(c.shape=d,c.geom=e,c.data=d.get("origin"));a.fire("plotclick",c);e&&d&&e.allowSelected&&e.allowSelected()&&(d.get("selected")?e.setSelected(null,f):e.setSelected(d.get("origin"),f))}},clearEvents:function(){var c=this._getCanvas();c.off("canvas-mousemove",e.getWrapBehavior(this,"onMove"));c.off("canvas-mouseleave",e.getWrapBehavior(this,"onClick"))}});k.exports=f},function(k,f,d){var e=d(1),g=d(268);f=function(c){e.mix(this,c)};e.augment(f,{plotContainer:null,facetCfg:{},_getFacetClass:function(c){return c=e.ucfirst(c),g[c]},createFacets:function(c){var a=this.facetCfg,a=new (this._getFacetClass(a.type))(a);c=a.generateFacets(c);var b=this.plotContainer.addGroup();return a.drawTitles(c,b),c}});k.exports=f},function(k,f,d){var e=d(1),g=d(300),c=d(6),a=["text","tag"];f=function(b){e.mix(this,b);this.guides=[]};e.augment(f,{guides:null,xScale:null,yScale:null,backPlot:null,frontPlot:null,_addGuide:function(b){this.guides.push(b)},_getDefault:function(){return{xScale:this.xScale,yScale:this.yScale}},setScale:function(b,a){var c=this.guides;this.xScale=b;this.yScale=a;e.each(c,function(c){c.xScale=b;c.yScale=a})},line:function(b,a,d){b={type:"line",from:b,to:a,cfg:e.mix({},c.guide.line,d)};e.mix(b,this._getDefault());b=new g.Line(b);return this._addGuide(b),this},text:function(b,a,d){b={type:"text",position:b,text:a,cfg:e.mix({},c.guide.text,d)};e.mix(b,this._getDefault());b=new g.Text(b);return this._addGuide(b),this},image:function(b,a,c){b={type:"image",start:b};e.isArray(a)&&(b.end=a);e.isObject(a)&&(c=a);c&&(b.cfg=c);e.mix(b,this._getDefault());a=new g.Image(b);return this._addGuide(a),this},rect:function(b,a,d){b={type:"rect",start:b,end:a,cfg:e.mix({},c.guide.rect,d)};e.mix(b,this._getDefault());b=new g.Rect(b);return this._addGuide(b),this},arc:function(b,a,d){b={type:"arc",start:b,end:a,cfg:e.mix({},c.guide.arc,d)};e.mix(b,this._getDefault());b=new g.Arc(b);return this._addGuide(b),this},tag:function(b,a,d,f){b={type:"tag",from:b,to:a,text:d,cfg:e.mix({},c.guide.tag,f)};e.mix(b,this._getDefault());b=new g.Tag(b);return this._addGuide(b),this},paint:function(b,c,d){var f=this.guides;c=c||this.backPlot;d=d||this.frontPlot;e.each(f,function(f){e.inArray(a,f.type)?f.paint(b,d):f.paint(b,c)})},clear:function(){return this.guides=[],this}});k.exports=f},function(k,f,d){var e=d(1),g=d(256),c=d(255),a=d(262),b=d(263),h=d(261),m=d(259),l=d(257),w=d(258);f=function(a){e.mix(this,a)};e.augment(f,{chart:null,_initEvent:function(){var a=this.chart,b=new l({chart:a});b.bindEvents();a.set("eventAssist",b)},_initScale:function(){var b=this.chart,c=new a({defs:b.get("colDefs")});b.set("scaleAssist",c)},_initCoord:function(){var b=this.chart,a=new g;b.set("coordAssist",a)},_initAxis:function(){var b=this.chart,a=new c({chart:b,container:b.get("backPlot")});b.set("axisAssist",a)},_initLegend:function(){var b=this.chart,a=new h({chart:b});b.set("legendAssist",a)},_initTooltip:function(){var a=this.chart,c=new b({chart:a});a.set("tooltipAssist",c)},_initGuide:function(){var b=this.chart,a=new m({backPlot:b.get("backPlot"),frontPlot:b.get("frontCanvas")});b.set("guideAssist",a)},_initFacet:function(){var b=this.chart,a=new w({plotContainer:b.get("plotContainer"),facetCfg:b.get("facetCfg")});b.set("facetAssist",a)},initAssists:function(){this._initEvent();this._initScale();this._initCoord();this._initAxis();this._initLegend();this._initTooltip();this._initGuide();this._initFacet()}});k.exports=f},function(k,f,d){var e=d(1),g=d(11).Components.Legend,c=d(6),a=d(58);f=function(b){e.mix(this,b);this.legendCfg={};this.reset();b=this.chart;this.container=b.get("frontCanvas");this.plotRange=b.get("plotRange")};e.augment(f,{plotRange:null,container:null,chart:null,enable:!0,position:"right",legendCfg:{},_isFiltered:function(b,a,c){if(!b.isCategory)return!0;var d=!1;return c=b.invert(c),e.each(a,function(a){if(d=d||b.getText(a)===b.getText(c))return!1}),d},_getLayoutType:function(b){return"right"===b||"left"===b?"vertical":"horizontal"},_getFilterVals:function(b){return this.chart.get("filters")[b]},_bindEvent:function(b,a){var c=this,d=c.chart,f=a.dim;b.on("itemchecked",function(a){a=a.item.get("value");c._getFilterVals(f).push(a);d.repaint()});b.on("itemunchecked",function(b){b=b.item.get("value");var g=c._getFilterVals(f);g||(g=a.values.slice(0));e.remove(g,b);d.filter(f,g);d.repaint()})},_getRegion:function(a){var c=0,d=0;return e.each(a,function(a){a=a.getBBBox();c<a.width&&(c=a.width);d+=a.width}),{maxWidth:c,totalWidth:d}},_alignLegend:function(a,c,d,e){var f=this.container.get("canvas"),g=f.get("width"),k=f.get("height"),r=this.plotRange,p=0,f=a.get("dx")||0,u=a.get("dy")||0,q=a.getBBBox();"left"===e||"right"===e?(d=d.maxWidth,r?(k=r.br.y,p="left"===e?16:r.br.x+16):p="left"===e?16:g-d+16,e=k-q.height,c&&(e=c.get("y")-q.height-25)):(g=0,r&&(g=r.bl.x+(r.getWidth()-d.totalWidth)/2),p=g,e="top"===e?16:k-q.height-16,c&&(p=c.get("x")+c.getBBBox().width+25));a.move(p+f,e+u)},addMixedLegend:function(b){if(!this.enable)return null;var d=this.container,f=this.position,l=this.legendCfg,k=this.legends;k[f]=k[f]||[];e.each(b,function(b){b.type=null;b.marker=a.Point.getMarkerCfg("point",b);b.checked=!0});b=d.addGroup(g,e.mix({},{checkable:!1,layout:this._getLayoutType(f),items:b,word:{fill:"#333"}},c.legend[f],l));return k[f].push(b),b},addLegend:function(a,c,d,e){var f;if(!this.enable)return null;var g=this.legendCfg,k=a.dim;if(g&&!1===g[k])return null;g=g[k];return f=g&&g.position?g.position:this.position,a.isLinear&&"color"===c.type?this._addContinuousLegend(a,c,f):this._addCategroyLegend(a,c,d,e,f)},_addContinuousLegend:function(a,d,f){var l=this.legends;l[f]=l[f]||[];var k,n,t,r,p,u=this.container,q=this.legendCfg,B=a.dim,z=a.getTicks(),x=[],v=this._getLayoutType(f);return e.each(z,function(a){k=a.value;n=d.getMappingValue(k);x.push({name:a.text,color:n,value:k});0===k&&(r=!0);1===k&&(p=!0)}),r||x.push({name:a.getText(a.invert(0)),color:d.getMappingValue(0),value:0}),p||x.push({name:a.getText(a.invert(1)),color:d.getMappingValue(1),value:1}),t=u.addGroup(g.Continuous,e.mix({},{titleText:a.alias||a.dim,checkable:a.isCategory,layout:v,theme:"gradient",items:x},c.legend[f],c.legend.size,q[B]||q)),l[f].push(t),t},_addCategroyLegend:function(b,d,f,l,k){var n=this,t=b.dim,r=n.legendCfg,p=n.legends;p[k]=p[k]||[];var u,q=n.container,B=[],z=b.getTicks(),x="point",v="point",A=n._getLayoutType(k),y=n.plotRange,y="right"===k||"left"===k?y.bl.y-y.tr.y:y.tr.x-y.bl.x;e.each(z,function(c){var g=c.text,k=c.value;c=b.invert(k);var w={isInCircle:f.isInCircle()},p=!l||n._isFiltered(b,l,k),k=d.getMappingValue(k);"color"===d.type?w.color=k:"shape"===d.type?(x=f.get("shapeType"),v=k):"size"===d.type&&(u=k);w=a.createShape(x).getMarkerCfg(v,w);e.isNull(u)||(w.radius=u);B.push({name:g,checked:p,type:null,marker:w,value:c})});t=q.addGroup(g,e.mix({},{titleText:b.alias||b.dim,checkable:b.isCategory,maxLength:y,layout:A,items:B,word:{fill:"#333"}},c.legend[k],r[t]||r));return n._bindEvent(t,b),p[k].push(t),t},alignLegends:function(){var a=this;return e.each(a.legends,function(c,d){var f=a._getRegion(c);e.each(c,function(e,g){a._alignLegend(e,c[g-1],f,d)})}),this},reset:function(){e.each(this.legends,function(a){e.each(a,function(a){a.remove()})});this.legends={}}});k.exports=f},function(k,f,d){var e=d(1),g=d(19),c=d(39),a=d(2),b=d(6);f=function(a){e.mix(this,a);this.defs=this.defs||{}};e.augment(f,{defs:null,_addNewCol:function(a,b,c){var d=this,f=b.dims,g=[];e.each(f,function(a){a=d._getDefaultType(a,c);if(0===g.length)g.push(a);else if(!e.inArray(g,a))throw Error('Sorry, the values that are involved in "+" must be of the same type.');});b.type=g[0];var k=[];e.each(f,function(a){k.push(c.colArray(a))});b=[];for(var p=0;p<k[0].length;p++){b[p]=[];for(var u=0;u<f.length;u++)b[p].push(k[u][p])}c.addCol(a,b)},_getDefs:function(){return e.mix(!0,{},b.scales,this.defs)},_getScaleCfg:function(b,c,d){var e={dim:c};if(d.contains(c)){var f=a.values(d,c);e.values=f;g.isCategory(b)||(e.min=a.min(d,c),e.max=a.max(d,c),"time"===b?e.nice=!1:e.nice=!0)}return e},_getDefaultType:function(b,d){var f="linear",g=a.values(d,b)[0];return e.isArray(g)&&(g=g[0]),c.isDateString(g)?f="time":e.isString(g)&&(f="cat"),f},_syncScales:function(a,b){a.isCategory?a.change({values:b.values,ticks:b.ticks}):"identity"!==a.type&&a.change({min:b.min,max:b.max,ticks:b.ticks,values:b.values})},createDefaultScale:function(a,b){var c=this._getDefaultType(a,b),d=this._getScaleCfg(c,a,b);return g[c](d)},createScale:function(a,b){var c;c=this._getDefs();if(e.isNumber(a))c=g.I({value:a,dim:a.toString()});else if(c[a]||-1!==e.indexOf(b.colNames(),a))if(c[a]){c=c[a];c.dims&&this._addNewCol(a,c,b);var d=c.type||this._getDefaultType(a,b),f=this._getScaleCfg(d,a,b);e.mix(f,c);c=g[d](f)}else c=this.createDefaultScale(a,b);else c=g.I({value:a,dim:a});return c},sortScales:function(b,c,d){var f=this;return d?(b=a.sortBy(b,d),void e.each(c,function(a,c){if("identity"!==a.type&&b.contains(c)){var d=f.createScale(c,b);a.values=d.values}})):null},trainScales:function(a,b){var c=this;e.each(b,function(b){var d=b.dim;"identity"!==b.type&&a.contains(d)&&(d=c.createScale(d,a),c._syncScales(b,d))})},resetScales:function(a,b){var c=this;e.each(b,function(b,d){var e=c.createScale(d,a);c._syncScales(b,e)})},_getFilterFunction:function(a,b){var c=a.dim;return a.isCategory?function(d){var f=!1;return e.each(b,function(b){var e=d[c];if(f=f||a.getText(b)===a.getText(e))return!1}),f}:function(a){return e.inArray(b,a[c])}},filterData:function(b,c,d){var f=this,g=[];e.each(c,function(a,b){var c=d[b];a&&c&&(c=f._getFilterFunction(c,a),g.push(c))});c=b;return g.length&&(c=a.filter(b,function(a){var b=!0;return e.each(g,function(c){b=b&&c(a)}),b})),c},processCatScale:function(a,b){var c=this._getDefs();return e.each(b,function(b,d){var f=b.type;if(b.isCategory&&"timeCat"!==f&&a.contains(d)&&((f=c[d])&&!f.hasOwnProperty("values")||!f)){var g=a.colArray(d);e.each(g,function(a,b){g[b]=a.toString()});a.colReplace(d,g)}}),a}});k.exports=f},function(k,f,d){function e(b,c){if(!b)return!1;var d="";return d=a.isNull(b.className.baseVal)?b.className:b.className.baseVal,-1!==d.indexOf(c)}function g(b,c){var d=-1;return a.each(b,function(a,b){if(a.title===c.title&&a.name===c.name&&a.value===c.value&&a.color===c.color)return d=b,!1}),d}function c(b){var c=[];return a.each(b,function(a){var b=g(c,a);-1===b?c.push(a):c[b]=a}),c}var a=d(1),b=d(6),h=d(11).Components.Tooltip,m=["line","area","path","areaStack"],l=["line","area"];f=function(b){a.mix(this,b)};a.augment(f,{enable:!0,cfg:null,tooltip:null,markerGroup:null,chart:null,timeStamp:0,get:function(a){return this[a]},set:function(a,b){this[a]=b},_showMarkers:function(b,c){var d=this.get("markerGroup");d.setMatrix(c.get("matrix").clone());d.clear();a.each(b,function(b){var c=b.point;b=a.mix({},d.get("marker"),{x:a.isArray(c.x)?c.x[c.x.length-1]:c.x,y:a.isArray(c.y)?c.y[c.y.length-1]:c.y,stroke:b.color});d.addShape("Marker",{attrs:b})});d.show()},_getCanvas:function(){return this.chart.get("frontCanvas")},_setTooltip:function(b,d,e){var f=this.get("tooltip"),h=this.get("prePoint");if(!h||h.x!==d.x||h.y!==d.y){e=c(e);this.set("prePoint",d);var h=this.chart,l=a.isArray(d.x)?d.x[d.x.length-1]:d.x;d=a.isArray(d.y)?d.y[d.y.length-1]:d.y;f.get("visible")||h.fire("tooltipshow",{x:l,y:d,tooltip:f});h.fire("tooltipchange",{tooltip:f,x:l,y:d,items:e});f.setContent(b,e);f.setPosition(l,d)}},_clearActive:function(){var b=this.get("chart").get("geoms");a.each(b,function(a){a.clearShapeActived()})},_bindEvent:function(){var b=this.chart;b.on("plotmove",a.wrapBehavior(this,"onMouseMove"));b.on("plotleave",a.wrapBehavior(this,"onMouseOut"))},_offEvent:function(){var b=this.chart;b.off("plotmove",a.getWrapBehavior(this,"onMouseMove"));b.off("plotleave",a.getWrapBehavior(this,"onMouseOut"))},_setTooltipCrosshairs:function(){var c=a.mix({},b.tooltip),d=this.get("chart").get("geoms"),e=[];return a.each(d,function(b){b=b.get("type");-1===a.indexOf(e,b)&&e.push(b)}),d.length&&"cartesian"===d[0].get("coord").type&&1===e.length&&-1<a.indexOf(l,e[0])&&a.mix(c,{crosshairs:!0}),c},renderTooltip:function(){if(!this.get("tooltip")){var c=this.get("chart"),d=this.get("cfg"),e=this._setTooltipCrosshairs(),d=a.mix({plotRange:c.get("plotRange"),visible:!1,capture:!1},e,d),c=this._getCanvas();this.get("markerGroup")||(e=c.addGroup({zIndex:11,capture:!1,marker:b.tooltipMarker}),this.set("markerGroup",e));d=c.addGroup(h,d);c.sort();this.set("tooltip",d);this._bindEvent()}},showTooltip:function(b,c){if(c&&b){var d=c.get("geoms"),e=c.get("coord"),f=[],h=[];if(a.each(d,function(c){var d=c.get("frames");if(c.isShareTooltip()){var e=[];a.each(d,function(d){if(d=c.findPoint(b,d)){e.push(d);d=c.getTipItems(d);f=f.concat(d);var l=c.get("type");-1!==a.indexOf(m,l)&&(h=h.concat(d))}});e.length&&c.setActiveByPoint(e[0])}else(d=c.getSingleShape(b,d))&&(f=c.getTipItems(d.get("origin")),c.setShapesActive([d]))}),h.length&&this._showMarkers(h,e),f.length){d=f[0];if(h.length){b=d.point;var l=a.isArray(b.x)?b.x[b.x.length-1]:b.x,g=a.isArray(b.y)?b.y[b.y.length-1]:b.y;b=e.trans(l,g,1)}this._setTooltip(d.title||d.name,b,f)}}},hideTooltip:function(){var a=this.get("tooltip"),b=this.chart,c=this.get("markerGroup"),d=this._getCanvas();this.set("prePoint",null);a.hide();c.hide();this._clearActive();b.fire("tooltiphide",{tooltip:a});d.draw()},onMouseMove:function(a){var b=this.get("timeStamp"),c=+new Date;if(this.enable&&a.view){var d={x:a.x,y:a.y};16<c-b&&(this.showTooltip(d,a.view),this.set("timeStamp",c))}},onMouseOut:function(a){var b=this.get("tooltip"),c=this._getCanvas();if(!(c=a&&a.target!==c)){if((b=a&&a.toElement&&b.get("custom"))&&!(b=e(a.toElement,"ac-tooltip")))for(a=a.toElement.parentNode,b=!1;a&&a!==document.body;){if(e(a,"ac-tooltip")){b=!0;break}a=a.parentNode}c=b}c||this.hideTooltip()},isInFacet:function(a,b){var c=a.view.get("coord").invert(b);return 0<=c.x&&0<=c.y},clear:function(){var a=this.get("tooltip"),b=this.get("markerGroup");a&&a.remove();b&&b.remove();this.set("tooltip",null);this.set("markerGroup",null);this._offEvent()}});k.exports=f},function(k,f,d){function e(a,c){var d=new b(a);if(c){var e=d.get("el");e.style.position="absolute";e.style.top=0;e.style.left=0}return d.set("fontFamily",l.fontFamily),d}function g(a,b,c){a=(a-b)/(c-b);return 0<=a&&1>=a}function c(a){a=a.coordCfg;return!(a&&!m.isNull(a.startAngle)&&!m.isNull(a.endAngle)&&a.endAngle-a.startAngle<2*Math.PI)}function a(a,b){return function(c){b&&(c=b);c=new t({chart:this,type:a,adjusts:c});return this._addLayer(c),c}}f=d(26);var b=d(11),h=d(2),m=d(1),l=d(6),w=d(260),n=d(85),t=d(265),r=d(266),p=["left","top","bottom","right"],u=b.Components.Plot,q=function x(a){x.superclass.constructor.call(this,a);this._init()};q.ATTRS={id:null,width:null,height:null,data:null,plotCfg:null,facetCfg:null,forceFit:!1,layers:[],views:[],geoms:[],filters:{},scales:{}};m.extend(q,f);m.augment(q,{_init:function(){this.set("plotCfg",m.mix({},l.plotCfg,this.get("plotCfg")));this.set("facetCfg",m.mix({},l.facetCfg,this.get("facetCfg")));var a=this.get("data"),b=this.get("forceFit");this._initData(a);this._initDomContainer();b&&this._initForceFit();this._initCanvas();this._initPlot();this._initAssists();this.set("geoms",[]);this.set("layers",[]);this.set("views",[]);this.set("scales",{});this.set("axisCfg",{});this.set("filters",{})},_initForceFit:function(){var a=this.get("container"),a=m.getWidth(a);this.set("width",a);window.addEventListener("resize",m.wrapBehavior(this,"_initForceFitEvent"))},_initForceFitEvent:function(){var a=setTimeout(m.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer"));this.set("resizeTimer",a)},forceFit:function(){var a=this.get("container"),a=m.getWidth(a),b=this.get("height");a!==this.get("width")&&this.changeSize(a,b)},_initDomContainer:function(){var a=this.get("id"),a=document.getElementById(a),b=this.get("container");if(!a&&!b)throw Error("please specify the canvas container Id !");if(a&&b)throw Error('please specify the "container" or "id" property !');if(!b){var c=m.guid("g-chart"),b=m.createDom("\x3cdiv\x3e\x3c/div\x3e");b.id=c;a.appendChild(b)}this.set("container",b)},_initCanvas:function(){var a=this.get("width"),b=this.get("height"),c=this.get("container"),c={width:a,height:b,containerDOM:c,capture:!1},a=e(c,!1),b=e(c,!0),c=e(c,!0);this.set("backCanvas",a);this.set("canvas",b);this.set("frontCanvas",c)},_initPlot:function(){var a=this.get("canvas").addGroup(),b=this.get("plotCfg"),c=this.get("backCanvas"),b=c.addGroup(u.Back,b),d=b.get("plotRange"),c=c.addGroup();this.set("backPlotBg",b);this.set("plotRange",d);this.set("plotContainer",a);this.set("backPlot",c)},_initAssists:function(){(new w({chart:this})).initAssists()},_initData:function(a){a&&(a instanceof h||(a=new h(a)),this.set("data",a))},_initFacets:function(a,b,c){var d=this.get("filters");a=c.filterData(a,d,b);b=this.get("facetCfg");b.plotRange=this.get("plotRange");b.facetTitle=m.mix({},l.facetCfg.facetTitle,b.facetTitle);c=this.get("facetAssist");c.facetCfg=b;return c.createFacets(a)},_addLayer:function(a){this.get("layers").push(a)},_clearInner:function(){var a=this.get("geoms");return m.each(a,function(a){a.destroy()}),this.set("geoms",[]),this.set("views",[]),this.set("facets",[]),this.get("legendAssist").reset(),this.get("plotContainer").clear(),this.get("backPlot").clear(),this.get("tooltipAssist").clear(),this.get("frontCanvas").clear(),this},_trainScales:function(a,b){var c=this.get("scales"),d=[];m.each(c,function(a){b(a)&&d.push(a)});this.get("scaleAssist").trainScales(a,d)},_trainLinearScales:function(a){this._trainScales(a,function(a){return a.isLinear})},_trainCatScales:function(a){var b=this.get("filters");this._trainScales(a,function(a){return a.isCategory&&!b[a.dim]})},_getYScale:function(){var a=this.get("geoms"),b=[];return m.each(a,function(a){(a=a.getYScale())&&-1===m.indexOf(b,a)&&b.push(a)}),b},_renderLegends:function(){var a=this.get("legendAssist"),b=this.get("geoms"),c=this.get("filters"),d=this._getYScale(),e=[];if(m.each(b,function(b){var d=b.getLegendAttr();m.each(d,function(d){var f=d.getScale(d.type);if("identity"!==f.type&&-1===m.indexOf(e,f)){e.push(f);var h;c&&c[f.dim]&&(h=c[f.dim]);a.addLegend(f,d,b,h)}})}),!e.length&&1<d.length){var f=[];m.each(d,function(a){m.each(b,function(b){if(b.getYScale()===a)return b={name:a.alias||a.dim,color:b.getDefaultValue("color")},f.push(b),!1})});a.addMixedLegend(f)}a.alignLegends()},_renderTooltip:function(){this.get("tooltipAssist").renderTooltip()},source:function(a,b){if(b){var c=this.get("scaleAssist"),d=this.get("facetCfg");c.defs=b;d.defs=b}return this._initData(a),this},coord:function(a,b){var c=this.get("coordAssist");return c.type=a,c.coordCfg=b,c.resetActions(),c},facet:function(a,b){var c=this.get("facetCfg");return c.dims=m.isString(a)?[a]:a,m.mix(c,b),this},axis:function(a,b){var c=this.get("axisAssist");if(!1===a)c.enable=!1;else{var d=c.axisCfg;c.enable=!0;d[a]=b}return this},legend:function(a,b){var c=this.get("legendAssist"),d=c.legendCfg;return c.enable=!0,m.isBoolean(a)?c.enable=a:m.inArray(p,a)?c.position=a:m.isObject(a)?(d=a,c.position=d.position?d.position:"right"):d[a]=b,c.legendCfg=d,this},tooltip:function(a,b){var c=this.get("tooltipAssist");return m.isObject(a)&&(b=a,a=!0),c.enable=a,c.cfg=b,this},guide:function(){return this.get("guideAssist")},animate:function(a){return this.set("animate",a),this},filter:function(a,b){var c=this.get("filters");return c[a]=b,this.set("filters",c),this},_processScales:function(){var a=this.get("coordAssist"),b=this.get("views")[0],d=b.getXScale(),b=b.getYScales(),e=[];d&&e.push(d);var e=e.concat(b),f=m.inArray(["polar","plus","theta"],a.type)&&c(a);m.each(e,function(b){if(b.isCategory){var c,d=b.values.length;if(1===d)c=[.5,1];else{var e=1,h=0;f?a.hasAction("transpose")?(e=l.widthRatio.multiplePie,h=1/d*e,c=[h/2,1-h/2]):c=[0,1-1/d]:(e=l.widthRatio.column,h=1/d*e,c=[h,1-h])}b.range=c}})},_createView:function(a){var b=new r({index:a.index,data:a.frame,region:a.region,layers:this.get("layers"),coordAssist:this.get("coordAssist"),axisAssist:this.get("axisAssist"),guideAssist:this.get("guideAssist"),tooltipMap:this.get("tooltipAssist").cfg&&this.get("tooltipAssist").cfg.map});a.view=b;var c=b.get("coord");return"mirror"===a.type&&(1===a.rows?(c.transpose(),0===a.colIndex&&c.scale(-1,1)):1===a.rowIndex&&c.scale(1,-1)),b},render:function(){var a=this,b=a.get("scaleAssist"),c=a.get("data"),d=a.get("scales"),c=b.processCatScale(c,d);a.set("data",c);var e,b=a._initFacets(c,d,b),f=[],l=[],g=a.get("views");return m.each(b,function(b){b=a._createView(b);g.push(b);f=f.concat(b.get("data"));l=l.concat(b.get("geoms"))}),a.set("facets",b),a.set("views",g),a.set("geoms",l),e=h.forceMerge.apply(null,f),a._trainCatScales(e),a._processScales(),f=[],m.each(g,function(a){a.adjustData();f=f.concat(a.get("data"))}),e=h.forceMerge.apply(null,f),a._trainLinearScales(e),a.fire("beforepaint",{chart:a}),m.each(g,function(a){a.render()}),a.fire("afterpaint"),a._renderLegends(),a._renderTooltip(),a.get("plotContainer").sort(),a.get("backCanvas").draw(),a.get("canvas").draw(),a.get("frontCanvas").draw(),a},clear:function(){return this.get("guideAssist").clear(),this.set("layers",[]),this.set("scales",{}),this.set("filters",{}),this._clearInner(),this.get("backCanvas").draw(),this.get("canvas").draw(),this.get("frontCanvas").draw(),this},destroy:function(){if(!this.destroyed){var a=this.get("container");this.fire("destroy");this.clear();this.get("backCanvas").destroy();this.get("canvas").destroy();this.get("frontCanvas").destroy();this._attrs={};this.events={};this.destroyed=!0;a.parentNode.removeChild(a);window.removeEventListener("resize",m.getWrapBehavior(this,"_initForceFitEvent"))}},repaint:function(){var a=this.get("animate");return!1!==a&&this.animate(!1),this._clearInner(),this.render(),!1!==a&&this.animate(a),this},changeData:function(a){var b=this.get("scales"),c=this.get("scaleAssist");return this._initData(a),a=this.get("data"),c.resetScales(a,b),this.repaint(),this},changeSize:function(a,b){var c=this.get("backCanvas"),d=this.get("canvas"),e=this.get("frontCanvas");c.changeSize(a,b);d.changeSize(a,b);e.changeSize(a,b);this.set("width",a);this.set("height",b);return this.get("backPlotBg").repaint(),this.repaint(),this},getFacets:function(){return this.get("facets")},getGeoms:function(){return this.get("geoms")},getViews:function(){return this.get("views")},getScale:function(a){return this.get("scales")[a]},getViewByPoint:function(a){var b,c=this.get("facets");return m.each(c,function(c){c=c.view;var d=c.get("coord"),e;"theta"===d.type?(e=d.get("start"),d=d.get("end"),e=g(a.x,e.x,d.x)&&g(a.y,e.y,d.y)):(e=d.invert(a),e=0<=e.x&&0<=e.y&&1>=e.x&&1>=e.y);if(e)return b=c,!1}),b},showTooltip:function(a){var b=this.getViewByPoint(a);b&&this.get("tooltipAssist").showTooltip(a,b);return this},hideTooltip:function(){this.get("tooltipAssist").hideTooltip()},getTooltipItems:function(a){var b=this.getViewByPoint(a),c=[];b&&(b=b.get("geoms"),m.each(b,function(b){b=b.getTipInfo(a);c=c.concat(b)}));return c},createScale:function(a,b){b=b||this.get("data");var c=this.get("scaleAssist"),d=this.get("scales");return d[a]||(d[a]=c.createScale(a,b)),d[a]},col:function(a,b){var c=this.get("scaleAssist").defs,d=this.get("facetCfg");return c[a]=b,d.defs=c,this},getPosition:function(a){var b,c,d,e=this.getViews()[0],f=e.get("coord");(e=e.getXScale())&&(d=e.dim,b=e.scale(a[d]));e=this.get("scales");return m.each(e,function(b){if(b&&b.dim!==d&&a[b.dim])return void(c=b.scale(a[b.dim]))}),f.convert({x:b,y:c})},legendVisible:function(a,b){var c=this.get("legendAssist");c.legendCfg=c.legendCfg;c.legendCfg[a]=b}});for(var B in n)n.hasOwnProperty(B)&&(B=B.toLowerCase(),q.prototype[B]=a(B));m.each("pointStack pointJitter pointDodge intervalStack intervalDodge intervalSymmetric areaStack schemaDodge".split(" "),function(b){var c=b.replace(/([a-z](?=[A-Z]))/g,"$1 ").split(" "),d=c[0],c=c[1];"pointDodge"===b&&(c=["dodge","stack"]);q.prototype[b]=a(d,c)});k.exports=q},function(k,f,d){var e=d(1),g=d(249),c=d(85),a=d(6),b="point path line interval area polygon schema heatmap contour".split(" ");f=function(a){e.mix(this,a);this._init()};e.augment(f,{type:"point",adjusts:null,chart:null,attrs:null,shapeStyle:null,scales:null,tooltipDims:null,_init:function(){this.attrs=[];this.scales={};this.stats=[];var a=this.adjusts;a&&(e.isArray(a)?e.each(a,function(b,c){a[c]=e.ucfirst(b)}):a=e.ucfirst(a),this.adjusts=a)},_createScale:function(a){var b=this.scales,c=this.chart;return b[a]||(b[a]=c.createScale(a)),b[a]},_addStat:function(a){this.stats.push(a)},_addAttr:function(a,b){var c=this.attrs;a=e.ucfirst(a);var d=new g[a](b);c.push(d)},_getDefaultShapes:function(){var b=this.type;return b=b.replace(/[A-Z].*$/),a.shapes[b]},_getDefaultColors:function(){var b,c=this.adjusts;return b=c&&!e.isArray(c)?this.type+c:this.type,a.colors[b]||a.colors["default"]},_parseDims:function(a,b){var c,d=this,f=d.chart;if(a.isStat&&(c=a,c.init(),a=c.getDims(),d._addStat(c)),e.isString(a)&&-1!==a.indexOf("+")){var g=[],k=f.get("scaleAssist"),p=a.replace(/\s+/g,"").split("*");e.each(p,function(a){a=a.replace(/\(|\)|\s+/g,"").split("+");var b=a.join("+");g.push(b);1<a.length&&(k.defs[b]={dims:a})});a=g}else e.isString(a)&&-1!==a.indexOf("*")?a=a.replace(/\s+/g,"").split("*"):(e.isNumber(a)||e.isString(a))&&(a=[a]);f=f.get("coordAssist");"position"===b&&"theta"===f.type&&"interval"===d.type&&"Stack"===d.adjusts&&a.unshift("..pieX");var u=[];return e.each(a,function(a){a=d._createScale(a);u.push(a)}),{dims:a,stat:c,scales:u}},createGeom:function(){var a=this.type;if(e.inArray(b,a))return a=e.ucfirst(a),new c[a]({type:this.type,chart:this.chart,attrs:this.attrs,stats:this.stats,scales:this.scales,shapeStyle:this.shapeStyle,tooltipDims:this.tooltipDims,adjusts:this.adjusts});throw Error(a+" is not supported!");},position:function(a){a=this._parseDims(a,"position");return this._addAttr("position",{scales:a.scales,stat:a.stat}),this},color:function(b,c){var d=this._parseDims(b),d={scales:d.scales,stat:d.stat};return"heatmap"!==this.type||c||(c=a.heatmapColors),e.isFunction(c)?d.callback=c:e.isArray(c)?d.colors=c:c?d.calType=c:d.colors=this._getDefaultColors(),this._addAttr("color",d),this},shape:function(a,b){var c=this._parseDims(a),c={scales:c.scales,stat:c.stat};return e.isFunction(b)?c.callback=b:c.shapes=b||this._getDefaultShapes(),this._addAttr("shape",c),this},opacity:function(a,b){var c=this._parseDims(a),c={scales:c.scales,stat:c.stat,callback:e.isFunction(b)?b:null};return this._addAttr("opacity",c),this},label:function(a,b,c){a=this._parseDims(a);return e.isObject(b)&&(c=b,b=null),this._addAttr("label",{scales:a.scales,cfg:c,callback:b,stat:a.stat}),this},size:function(a,b,c){a=this._parseDims(a);c={scales:a.scales,stat:a.stat,min:e.isNull(c)?1:c};return e.isFunction(b)?c.callback=b:c.max=b||10,this._addAttr("size",c),this},tooltip:function(a){return this.tooltipDims=this._parseDims(a).dims,this},style:function(a){return this.shapeStyle=a,this}});k.exports=f},function(k,f,d){var e=d(1);f=d(26);var g=d(2);d=function a(b){a.superclass.constructor.call(this,b);this._init()};d.ATTRS={index:null,data:null,region:null,geoms:null,coord:null,layers:null,coordAssist:null,axisAssist:null,guideAssist:null,tooltipMap:null};e.extend(d,f);e.augment(d,{_init:function(){var a=this._createCoord();this.set("coord",a);var b=this.get("data"),d=this._createGeoms(),f=[];e.each(d,function(d){var e=d.processData(b,a);d.set("frames",e);f=f.concat(e)});d=g.forceMerge.apply(null,f);this.set("data",d)},adjustData:function(){var a=this.get("geoms"),b=[];e.each(a,function(a){var d=a.get("frames"),d=a.numbericFrames(d),d=a.processAdjust(d);a.set("frames",d);b=b.concat(d)});a=g.forceMerge.apply(null,b);this.set("data",a)},_createCoord:function(){var a=this.get("coordAssist"),b=this.get("region");return a.createCoord(b.start,b.end)},_createGeoms:function(){var a=this,b=a.get("layers"),d=[];return e.each(b,function(b){b=b.createGeom();var e=a.get("tooltipMap");e&&b.set("tooltipMap",e);d.push(b)}),a.set("geoms",d),d},_renderAxis:function(){var a=this.get("axisAssist"),b=this.getXScale(),d=this.getYScales();a.createAxis(this,b,d)},_renderGuide:function(){var a=this.get("guideAssist");if(a.guides.length){var b=this.get("coord"),d=this.getXScale(),e=this.getYScales()[0];a.setScale(d,e);a.paint(b)}},render:function(){var a=this.get("geoms"),b=this.get("coord");e.each(a,function(a){a.paint(b,a.get("frames"),function(b,d){if(a.isShareTooltip()){var f=[],k=a.getXScale().dim;e.each(d,function(a){f.push(g.sort(a,k))});a.set("frames",f)}})});this._renderGuide();this.getXScale()&&this._renderAxis()},getXScale:function(){var a=this.get("geoms"),b=null;return a.length&&(b=a[0].getXScale()),b},getYScales:function(){var a=this.get("geoms"),b=[];return e.each(a,function(a){(a=a.getYScale())&&-1===e.indexOf(b,a)&&b.push(a)}),b}});k.exports=d},function(k,f,d){function e(a,c,d){return{x:a.x+c*Math.cos(d),y:a.y+c*Math.sin(d)}}var g=d(1);f=d(44);var c=d(2),a=d(33);d=function h(a){h.superclass.constructor.call(this,a)};g.extend(d,f);g.augment(d,{getRegion:function(a,c){var d=this.plotRange,d=Math.min(d.getWidth(),d.getHeight())/2,f=2*Math.PI/a,g=-1*Math.PI/2+f*c,f=d/(1+1/Math.sin(f/2)),k=this.getCenter(),d=e(k,d-f,g);return this.getFacetRegion(d,f)},getFacetRegion:function(a,c){var d=-1*Math.PI/4;return{start:e(a,c,3*Math.PI/4),end:e(a,c,d)}},getCenter:function(){var a=this.plotRange,c=a.tl,d=a.getWidth(),a=a.getHeight();return{x:c.x+d/2,y:c.y+a/2}},generateFacets:function(d){var e=this,f=e.dims[0];if(!f)throw Error("Please specify for the field for facet!");var k=e.getDimValues(f,d),n=k.length,t=[],r=0;return g.each(k,function(g,u){var q=e.getFilter([{dim:f,value:g,values:k}]),q=c.filter(d,q),q=new a({type:e.type,xValue:g,xDim:f,colIndex:u,cols:n,rows:1,rowIndex:0,frame:q,region:e.getRegion(n,u),index:r++});t.push(q)}),t}});k.exports=d},function(k,f,d){f=d(44);f.Facet=d(33);f.Rect=d(84);f.List=d(83);f.Circle=d(267);f.Tree=d(270);f.Mirror=d(269);k.exports=f},function(k,f,d){var e=d(1);f=d(83);d=function c(a){c.superclass.constructor.call(this,a);this._init()};e.extend(d,f);e.augment(d,{type:"mirror",transpose:!1,drawTitles:function(c,a){var b=this,d=b.dims,f=b.transpose?"col":"row";e.each(c,function(c){b.drawFacetTitle(f,c,a)});b.drawDimTitle(f,d[0],a)},_init:function(){if(!this.dims[0])throw Error("Please specify for the field for facet!");this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2)},getRegion:function(c,a,b,d){var e,f,k=this.plotRange,n=this.margin,t=k.tl,k=k.br;1<a?(e=(k.x-t.x-n)/a,f=k.y-t.y):(e=k.x-t.x,f=(k.y-t.y-n)/c);c={x:t.x+e*b+b*n,y:t.y+f*(d+1)+n*d};return{start:c,end:{x:c.x+e,y:c.y-f}}}});k.exports=d},function(k,f,d){var e=d(1);f=d(44);var g=d(2),c=d(33);d=function b(c){b.superclass.constructor.call(this,c)};e.extend(d,f);e.augment(d,{rootTitle:"",line:{stroke:"red"},smooth:!1,generateFacets:function(b){if(!this.dims.length)throw Error("Please specify for the fields for facet!");var c=[],d=this.getRootFacet(b);return c.push(d),d.children=this.getChildFacets(b,1,c),this.setRegion(c),c},getRows:function(){return this.dims.length+1},drawTitles:function(b,c){var d=this;d.drawLines(b,c);e.each(b,function(b){d.drawFacetTitle("col",b,c)})},drawLines:function(b,c){var d=this,f=c.addGroup();e.each(b,function(b){d.isLeaf(b)||d._addFacetLines(b,b.children,f)})},_addFacetLines:function(b,c,d){var f=this;b=b.region;var g={x:b.start.x+(b.end.x-b.start.x)/2,y:b.start.y};e.each(c,function(b){b=b.region;b={x:b.start.x+(b.end.x-b.start.x)/2,y:b.end.y};var c={x:g.x,y:g.y+(b.y-g.y)/2};f._drawLine([g,c,{x:b.x,y:c.y},b],d)})},_getPath:function(b){var c="";if(this.smooth){var d=[];d.push(["M",b[0].x,b[0].y]);d.push(["C",b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y]);c=d.join(" ")}else e.each(b,function(b,d){c+=e.substitute(0===d?"M {x} {y}":"L {x} {y}",b)});return c},_drawLine:function(b,c){var d=this._getPath(b);c.addShape("Path",{attrs:e.mix({path:d},this.line)})},getRootFacet:function(b){return new c({type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,xValue:this.rootTitle,frame:b,index:0})},getChildFacets:function(b,d,f){var l=this,k=[],n=l.dims;if(n.length<d)return[];var t=n[d-1],r=l.getDimValues(t,b);return e.each(r,function(e,n){var q=l.getFilter([{dim:t,value:e,values:r}]),q=g.filter(b,q);q.rowCount()&&(q=new c({type:l.type,xValue:e,xDim:t,colIndex:n,rows:l.getRows(),rowIndex:d,frame:q,children:l.getChildFacets(q,d+1,f),index:f.length}),k.push(q),f.push(q))}),k},getFacetsByLevel:function(b,c){var d=[];return e.each(b,function(b){b.rowIndex===c&&d.push(b)}),d},getRegion:function(b,c,d,e){var f=this.plotRange,g=this.margin,k=f.bl,f=f.tr;c=(f.x-k.x)/c;b=(f.y-k.y)/b;d={x:k.x+c*d+g,y:k.y+b*e-g};return{start:d,end:{x:d.x+c-g,y:d.y+2*b/3+g}}},getRegionIndex:function(b){var c=b[0];return(b[b.length-1].colIndex-c.colIndex)/2+c.colIndex},setRegion:function(b){var c=this;c.forceColIndex(b);e.each(b,function(b){b.region=c.getRegion(b.rows,b.cols,b.colIndex,b.rows-b.rowIndex-1)})},isLeaf:function(b){return!b.children||!b.children.length},forceColIndex:function(b){var c=this,d=[],f=0;e.each(b,function(b){c.isLeaf(b)&&(d.push(b),b.colIndex=f,f++)});e.each(d,function(b){b.cols=d.length});for(var g=c.dims.length-1;0<=g;g--)for(var k=c.getFacetsByLevel(b,g),t=0;t<k.length;t++){var r=k[t];c.isLeaf(r)||(r.originColIndex=r.colIndex,r.colIndex=c.getRegionIndex(r.children),r.cols=d.length)}}});k.exports=d},function(k,f,d){f=d(1);var e=d(11);d=d(92);var g=function a(b){a.superclass.constructor.call(this,b)};g.ATTRS={gemo:null};f.extend(g,e.Group);f.mixin(g,[d.Group]);f.augment(g,{isItemActived:function(a){return a.get("actived")},setItemActived:function(a,b){b?a.set("actived",!0):a.set("actived",!1)}});k.exports=g},function(k,f,d){var e=d(1);f=d(34);var g=d(2);d=function a(b){a.superclass.constructor.call(this,b)};e.extend(d,f);e.augment(d,{marginRatio:.5,dodgeRatio:.5,getDistribution:function(a){var b={};return e.each(this.adjFrames,function(d,f){var l=g.values(d,a);l.length||l.push(0);e.each(l,function(a){b[a]||(b[a]=[]);b[a].push(f)})}),b},adjustDim:function(a,b,d,f,g){var k=this,n=k.getDistribution(a);d=k.groupData(d,a);e.each(d,function(d,f){f=parseFloat(f);var h;h=1===b.length?{pre:-1,next:1}:k.getAdjustRange(a,f,b);e.each(d,function(b){var d=n[b[a]],f=e.indexOf(d,g);b[a]=k.getDodgeOffset(h,f,d.length)})})},getDodgeOffset:function(a,b,d){var e,f=a.pre;a=a.next;var g=a-f,k=g*this.dodgeRatio/d,t=this.marginRatio*k;return e=.5*(g-d*k-(d-1)*t)+((b+1)*k+b*t)-.5*k-.5*g,(f+a)/2+e}});k.exports=d},function(k,f,d){f=d(34);f.Dodge=d(272);f.Jitter=d(274);f.Stack=d(275);f.Symmetric=d(276);k.exports=f},function(k,f,d){var e=d(1);f=d(34);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{getAdjustOffset:function(c,a){var b=a-c;return c+.05*b+.9*b*Math.random()},_adjustGroup:function(c,a,b,d){var f=this,l=f.getAdjustRange(a,b,d);e.each(c,function(b){b[a]=f.getAdjustOffset(l.pre,l.next)})},adjustDim:function(c,a,b){var d=this;b=d.groupData(b,c);e.each(b,function(b,e){e=parseFloat(e);d._adjustGroup(b,c,e,a)})}});k.exports=d},function(k,f,d){var e=d(1),g=d(2);f=d(34);d=function a(b){a.superclass.constructor.call(this,b)};e.extend(d,f);e.augment(d,{height:null,size:10,adjustNames:["y"],processOneDimStack:function(a){for(var b=this.xDim,d=this.yDim||"y",e=this.height,f={},k=[],n=0;n<a.length;n++){for(var t=a[n].toJSON(),r=0;r<t.length;r++){var p=t[r],u=2*(p.size||this.size)/e,q=p[b];f[q]||(f[q]=u/2);p[d]=f[q];f[q]+=u}k.push(new g(t))}return k},processAdjust:function(a){return this.yDim?this.processStack(a):this.processOneDimStack(a)},processStack:function(a){for(var b=this.xDim,d=this.yDim,f=a.length,l=[],k={},n=[],t=0;t<f;t++){for(var r=a[t].toJSON(),p=0;p<r.length;p++){var u=r[p],q=u[d],B=u[b].toString(),q=e.isArray(q)?q[1]:q;k[B]||(k[B]=0);u[d]=[k[B],q+k[B]];k[B]+=q}l.push(r)}return e.each(l,function(a){a=new g(a);n.push(a)}),n}});k.exports=d},function(k,f,d){var e=d(1),g=d(2);f=d(34);d=function a(b){a.superclass.constructor.call(this,b)};e.extend(d,f);e.augment(d,{adjustNames:["y"],_getMax:function(a){return g.max(this.mergeFrame,a)},adjustDim:function(a,b,d){b=this._getMax(a);for(var f=0;f<d.length;f++){var l,k=d[f],n=k[a];if(e.isArray(n)){l=(b-n[n.length-1])/2;var t=[];e.each(n,function(a){t.push(l+a)});k[a]=t}else l=(b-n)/2,k[a]=[l,n+l]}return new g(d)}});k.exports=d},function(k,f,d){var e=d(95),g=d(1);k.exports={getDefault:function(c){var a=c.geom,b=c.fn;c=a.get("coord");var d=e,f=a.get("type"),l=a.get("adjusts")||"";switch(f+=l,c.type){case "cartesian":switch(f){case "interval":case "intervalStack":case "intervalDodge":d=c.isTransposed?e.scaleX:e.scaleY;break;case "intervalSymmetric":d=e.scaleX;break;default:d=e.waves}break;case "polar":switch(f){case "area":case "areaStack":case "interval":case "intervalStack":case "intervalDodge":d=e.scaleXY;break;default:d=e.angle}break;case "theta":d=e.angle;break;case "plus":d=e.scaleXY}var k=c.get("start"),n=c.get("end"),f=n.x-k.x,l=k.y-n.y,a={group:a.get("group"),rect:{x:k.x,y:n.y,width:f,height:l},before:b};return c.isPolar&&g.mix(a,{circle:{center:c.getCenter(),startAngle:c.get("startAngle"),endAngle:c.get("endAngle"),r:Math.max(f,l)/2}}),new d(a)}}},function(k,f,d){var e=d(1);f=d(88);d=function c(a){c.superclass.constructor.call(this,a)};d.ATTRS={shapeType:"area",type:"area",shape:"area",trigger:!1};e.extend(d,f);e.augment(d,{getShapePointInfo:function(c){var a={};return e.mix(a,c,{y0:this.getMinYPercent()}),a}});k.exports=d},function(k,f,d){var e=d(1),g=d(133),c=d(2);f=d(57);d=function b(c){b.superclass.constructor.call(this,c)};d.ATTRS={type:"contour",shareTooltip:!1,allowActiveShape:!1};e.extend(d,f);e.augment(d,{framePreprocess:function(b){var d=this.getXDim(),f=this.getYDim(),l=this.getZScale(),k=l.dim;b=c.merge.apply(null,b);var n=b.rowObject(0);b=this.getData(b);var l=g(b,l.ticks),t=[];return e.each(l,function(b){var g=b.value,l=[];e.each(b.path,function(b){var c=e.mix({},n);c[d]=b[0];c[f]=b[1];c[k]=g;l.push(c)});t.push(new c(l))}),t},getData:function(b){var d=this,f=[],g=d.getAttr("position").getDims(),k=g[0],n=g[1],t=g[2],g=c.values(b,k),r=c.values(b,n),p=0,u=0,q=null;return e.each(g,function(b){q&&d.beql(q,b)||p++;q=b}),q=null,e.each(r,function(b){q&&d.beql(q,b)||u++;q=b}),b.each(function(b,c){var d=Math.floor(c/u),e=Math.floor(c%u),h=[b[k],b[n],b[t]];Array.isArray(f[d])||(f[d]=[]);f[d][e]=h}),f},getZScale:function(){return this.getAttr("position").getScale("z")},beql:function(b,c){return 1E-6>Math.abs(b-c)},getSingleShape:function(b){var c=this.get("chart").getViews()[0].get("data");return{origin:this.findPoint(b,c),get:function(b){return this[b]}}},findPoint:function(b,c){var d,e=this.get("coord").invert(b),f=this.getXScale(),g=f.dim,k=this.getYScale(),r=k.dim,p=f.invert(e.x),u=k.invert(e.y),q={};return c.each(function(b){var c=(b[g]-p)*(b[g]-p)+(b[r]-u)*(b[r]-u);(!d||c<d)&&(d=c,q=b)}),q}});k.exports=d},function(k,f,d){var e=d(1),g=d(143);f=d(22);var c=d(6);d=function b(c){b.superclass.constructor.call(this,c)};d.ATTRS={type:"heatmap"};e.extend(d,f);e.augment(d,{drawFrame:function(b){if(b.rowCount()){var d=this.get("group"),f=this.getHeatmapData(b),l=this.getImageRegion(),k=this.getZScale(),n=b.rowObject(0).size,t=this.getAttr("color");b=e.mix({min:k.min,max:k.max,formatter:function(b){return k.scale(b)}},c.heatmap,l);b.colors=[t.getMappingValue(0),t.getMappingValue(.25),t.getMappingValue(.5),t.getMappingValue(.75),t.getMappingValue(1)];(n=n?parseInt(n,10):this.getRadius())&&(b.radius=n);f=(new g(b)).getData(f);b=document.createElement("canvas");n=b.getContext("2d");b.width=l.width;b.height=l.height;n.putImageData(f,0,0);d.addShape("Image",{attrs:l}).attr("img",b)}},getImageRegion:function(){var b=this.get("coord"),c=b.get("start"),b=b.get("end");return{x:c.x,y:b.y,width:b.x-c.x,height:c.y-b.y}},getTipTitle:function(b){var c=this._getTipMapScale("title");if(c)b=c.getText(b[c.dim]);else{var d=this.getXScale(),c=this.getYScale(),d=d.getText(b[d.dim]);b=c.getText(b[c.dim]);b="( "+d+", "+b+" )"}return b},getHeatmapData:function(b){var c=[],d=this.getAttr("color").getDims()[0];return b.each(function(b){c.push([b.x,b.y,b[d]])}),c},getZScale:function(){return this.getAttr("color").getScale("color")},getRadius:function(){var b=this.getAttr("position"),c=this.get("coord"),b=b.stat,d=null;b&&(b=b.bandWidth,d=Math.min(c.getWidth(),c.getHeight())*b);return 2*d},findPoint:function(b,c){var d,e=this.get("coord").invert(b),f=this.getXScale(),g=f.dim,k=this.getYScale(),r=k.dim,p=f.invert(e.x),u=k.invert(e.y),q={};return c.each(function(b){var c=(b._origin[g]-p)*(b._origin[g]-p)+(b._origin[r]-u)*(b._origin[r]-u);(!d||c<d)&&(d=c,q=b)}),q}});k.exports=d},function(k,f,d){var e=d(1);f=d(22);d=function c(a){c.superclass.constructor.call(this,a)};d.ATTRS={type:"interval",shapeType:"interval",shape:"rect",animate:!0,lineToArc:!0,snapAll:!1};e.extend(d,f);e.augment(d,{_getShapeCfg:function(c,a){var b=this.get("shapeObj"),d={color:c.color,size:c.size,opacity:c.opacity,isInCircle:this.isInCircle(),point:c,coord:this.get("coord")};a&&(d.nextPoint=a);b=b.getShapeCfg(c.shape,d);return b.path=this.mappingPath(b.path),b},_getNextPoint:function(c,a){var b=null,d=a.index,f=a.toJSON(),l=this.get("frames");e.isNull(f[c+1])?e.isNull(l[d+1])||(b=l[d+1].toJSON()[0]):b=f[c+1];return b},_addInterval:function(c){for(var a=this.get("group"),b=c.toJSON(),d=0,f=b.length;d<f;d++){var l=b[d];if(!(isNaN(l.x)&&!e.isArray(l.x)||isNaN(l.y)&&!e.isArray(l.y))){var k;"funnel"===l.shape||"pyramid"===l.shape?(k=this._getNextPoint(d,c),k=this._getShapeCfg(l,k)):k=this._getShapeCfg(l);a.addShape("Path",{attrs:k}).set("origin",l)}}},drawFrame:function(c){c.rowCount()&&this._addInterval(c)},isShareTooltip:function(){var c=this.get("coord"),a=c.type,b=this.get("shareTooltip");return("theta"===a||"polar"===a&&c.isTransposed)&&(b=!1),b},getShapePointInfo:function(c){var a={},b=c.size;return(e.isNull(b)||1<=b)&&(b=this.getNormalizeSize()),e.mix(a,c,{y0:this.getMinYPercent(),size:b}),a},allowSelected:function(){var c=this.get("coord").type,a=this.get("allowSelected");return"theta"===c&&(a=!0),a},beforeChange:function(){this.set("barWidth",null)},framePreprocess:function(c){var a=this.get("coord"),b=a.type;if("theta"===b||"polar"===b&&a.isTransposed&&"Stack"===this.adjusts){var d=[],f=this.getYDim();return e.each(c,function(a){0<a.colArray("_origin")[0][f]&&d.push(a)}),d}return c}});k.exports=d},function(k,f,d){var e=d(87),g=d(86),c=d(283);k.exports={getLabelsClass:function(a){var b=e;return"polar"===a||"plus"===a?b=g:"theta"===a&&(b=c),b}}},function(k,f,d){function e(a,b,c){return{x:a.x+c*Math.cos(b),y:a.y+c*Math.sin(b)}}function g(a,b,c,d,e,f){b=Math.acos((d-b)/d);c=f?c-Math.PI+b:c-b;a.orignAngle=a.angle;a.angle=c;a.orignX=a.x;a.orignY=a.y;a.x=e.x+(d+2.5)*Math.cos(a.angle);a.y=e.y+(d+2.5)*Math.sin(a.angle);h.equal(c,-Math.PI/2)?a.x+=m:h.equal(c,3*Math.PI/2)?a.x-=m:h.equal(c,Math.PI/2)&&(c>=a.orignAngle?a.x+=m:a.x-=m)}function c(a,b,c,d,e,f){var h=parseInt(2*b/f,10),l=a.y+b,k=a.y-b;h<c.length&&c.splice(h,c.length-h);var m,v,A;v=0;for(var h=c.length,y=0,D=0;D<h;D++){var F=c[D].y;v=h-D;m=0<e?(l-F)/v:(F-k)/v;0<D&&(y=0<e?(F-k)/D:(l-F)/D);if(F=0<e?v<h?F-c[D-1].y:F-k:v<h-1?c[D-1].y-F:l-F,v=D,m<f){0!==v&&(v=D+1);break}(0<y&&y<f||0<F&&F<f)&&(A=D)}if(A)for(m=0;m<=A;m++)g(c[m],m*f,d,b,a,!0);if(1<h&&(0>e&&v<=h-1||0<e&&v<h-1)){y=0===v?0:v-1;m=c[y].y;A=0<e?l:k;m=Math.abs(A-m)/(h-y-1);m<f&&(m=f);for(D=h-1;D>=y;D--)g(c[D],(h-1-D)*m,d,b,a,!1);e=0<e?k:l;l=!1;for(k=y-1;0<k;k--)h=c[k],(!l&&Math.abs(e-h.y)/(k+1)<f&&(l=!0),l)&&g(c[k],Math.abs(c[k+1].y-A)+f,d,b,a)}}var a=d(1);f=d(86);var b=d(24),h=d(4);d=d(6);var m=1,l=function n(a){n.superclass.constructor.call(this,a)};l.CFG={labels:d.thetaLabels};a.extend(l,f);a.augment(l,{adjustItems:function(a){var b=this.getDefaultOffset();return 0<b&&(a=this._adjustItems(a,b)),a},_adjustItems:function(b){var d=this.getDefaultOffset(),e=[],f=this.get("coord"),h=f.getCenter(),d=f.getRadius()+d,f=f.get("startAngle"),g=this.get("labels").labelHeight,l=[],k=[];(a.each(b,function(a){a.x>h.x?l.push(a):e.push(a)}),e.length)&&c(h,d,e,f>=-Math.PI/2?3*Math.PI/2:-Math.PI/2,-1,g);return l.length&&c(h,d,l,Math.PI/2,1,g),k=k.concat(l,e)},drawLines:function(b,c){var d=this;0<d.getDefaultOffset()&&a.each(b,function(a){d.lineToLabel(a,c)})},lineToLabel:function(b,c){var d,f=this.get("coord");d=f.getRadius();var g=this.getDefaultOffset(),l=this.get("labels"),k=b.orignAngle||b.angle,f=f.getCenter(),m=e(f,k,d+2.5),l=l.labelHeight,x=this.get("lineGroup"),v=[],A;A=b.angle;A=h.equal(A,-Math.PI/2)||h.equal(A,Math.PI/2)||h.equal(A,3*Math.PI/2);var y=1;A&&(g-=l/2,h.equal(b.angle,Math.PI/2)&&(y=-1));v.push(["M",m.x,m.y]);d=e(f,k,d+g/2);v.push(["R",d.x,d.y,b.x,A?b.y+l/2*y:b.y]);v=a.path2Absolute(v);x||(x=this.addGroup({elCls:"x-line-group"}),this.set("lineGroup",x));x.addShape("path",{attrs:a.mix({path:v,fill:null,stroke:b.color},c)})},getLabelRotate:function(a,b){var c;return 0>b&&(c=180*a/Math.PI,90<c&&(c-=180),-90>c&&(c+=180)),c},getLabelAlign:function(a){var b=this.get("coord").getCenter();a=a.x===b.x?"middle":a.x>b.x?"start":"end";return 0>=this.getDefaultOffset()&&(a="end"===a?"start":"end"),a},getArcPoint:function(a){return a},getPointAngle:function(a){var c,d=this.get("coord");c={x:a.x[0],y:a.y[0]};a={x:a.x[1],y:a.y[1]};c=b.getPointAngle(d,c);d=b.getPointAngle(d,a);c>=d&&(d+=2*Math.PI);return c+(d-c)/2},getCirclePoint:function(a,b){var c=this.get("coord"),d=c.getCenter(),c=c.getRadius()+b;return{x:d.x+c*Math.cos(a),y:d.y+c*Math.sin(a),angle:a,r:c}}});k.exports=l},function(k,f,d){function e(a,b){if(!a||a.length!==b.length)return!0;var c=!1;return g.each(b,function(b,d){if(b!==a[d])return c=!0,!1}),c}var g=d(1),c=Math.abs;f=function(){};f.ATTRS={localRefresh:!1,allowActiveShape:!0,snapAll:!0,snapDistance:10};g.augment(f,{setActiveByPoint:function(a){var b=this.get("coord");if(!this.get("allowActiveShape"))return[];this.isShareTooltip()?b=this._getSharedShapes(a,b):(b=[],(a=this.getSingleShape(a))&&b.push(a));a=this.get("preShapes");return e(a,b)&&this.setShapesActive(b),this.set("preShapes",b),b},_getSharedShapes:function(a){var b=this.get("group"),c=[];if(b){var d=this.getXDim(),b=b.get("children");g.each(b,function(b){var e=b.get("origin");e&&e._origin[d]===a._origin[d]&&c.push(b)})}return c},getSingleShape:function(a){var b=this,c=b.get("group"),d=b.get("coord"),e=c.get("canvas").get("pixelRatio"),f=null;if(c){var c=c.get("children"),k=[];30<c.length?g.each(c,function(c){var e=c.get("origin");e&&b.isSnapPoint(a,e,d)&&k.push(c)}):k=c;for(c=k.length-1;0<=c;c--){var t=k[c];if(t.get("origin")&&t.isHit(a.x*e,a.y*e)){f=t;break}}}return f},isSnapPoint:function(a,b,d){var e=this.get("snapDistance");this.get("snapAll")?(b=d.trans(b.x,b.y,1),b=c(b.x-a.x)<e&&c(b.y-a.y)<e):(e=d.invert(a),d=this.getXScale(),a=d.dim,d=d.translate(d.invert(e.x)),e=this.getXDistance(),b=c(d-b[a])<e);return b},setShapesActive:function(a){var b=this;if(b.get("allowActiveShape")){var c=b.get("coord"),d=b.get("activeGroup"),e=b.get("chart").get("frontCanvas");d?d.clear():(d=e.addGroup(),b.set("activeGroup",d));d.setMatrix(c.get("matrix").clone());g.each(a,function(a){b._activeShape(a,d)});e.sort()}},_activeShape:function(a,b){var c=a.get("type"),d=a.get("origin"),e=d.shape||this.getDefaultValue("shape"),e=this.get("shapeObj").getActiveCfg(e,d),e=g.mix({},a.__attrs,e,{fill:"white","fill-opacity":.15,fillOpacity:.15}),c=b.addShape(c,{attrs:e});c.setMatrix(a.getMatrix());c.set("origin",d)},clearShapeActived:function(){var a=this.get("activeGroup");a&&a.clear()}});k.exports=f},function(k,f,d){var e=d(1),g=d(2),c=d(273),a=d(58),b=d(24),h=["size","shape","color"],m=["Dodge","Jitter","Stack","Symmetric"];f=function(){};f.ATTRS={adjusts:null,hasShapePath:!0,lineToArc:!1};e.augment(f,{_getShapeScale:function(){var a=this.getAttr("shape"),b=null;return a&&(b=a.getScale("shape")),b},_getScale:function(a){var b=this.get("scales"),c=null;return e.each(b,function(b){if(b.dim===a)return c=b,!1}),c},_getGroupScales:function(){var a=this,b=[];return e.each(h,function(c){if(c=a.getAttr(c))c=c.getScales(),e.each(c,function(a){a.isCategory&&-1===e.indexOf(b,a)&&b.push(a)})}),b},_saveOriginData:function(a){return e.each(a,function(a){var b=a.toJSON();a.addCol("_origin",b)}),a},_setStatRange:function(a){var b=this,c=a.getDims(),d=[];e.each(c,function(c){var e=b._getScale(c);e.isCategory||"identity"===e.type||(isNaN(e.min)||isNaN(e.max)||a.setRange(c,{min:e.min,max:e.max}),"bin"===a.type&&d.push(c))});d.length&&(a.binDims=d)},_execStat:function(a,b){var c=this.getBinStat(a);return c&&this._setStatRange(c),(a.isRegression||a.setRange)&&this._setStatRange(a),a.exec(b)},_execStats:function(a){var b=this,c=a;if(e.isNull(a)||a&&0===a.length)return c;a=b.get("attrs");var d=b.getAttr("position"),f=d.stat,h=[];if(e.each(a,function(a){"position"!==a.type&&a.stat&&h.push(a.stat)}),f&&(c=b._execStat(f,c)),h.length){var k=[],m=d.getDims();e.each(c,function(a){k=k.concat(g.group(a,m))});c=k;e.each(h,function(a){c=b._execStat(a,c)});c=[g.merge.apply(this,c)]}return c},_execPointsMapping:function(a){var b=a.colArray("points"),c=this.getAttr("position"),d=[];return e.each(b,function(a){a=new g(a);a=c.mapping(a);a=a.toJSON();d.push(a)}),a.colReplace("points",d),a},mappingPath:function(a){var c=this.get("coord");return a=e.parsePathString(a),this.isInCircle()&&this.get("lineToArc")?b.convertPolarPath(a,c):b.convertNormalPath(a,c)},_groupFrames:function(a){var b=[],c=this._getGroupScales();return e.each(c,function(a){b.push(a.dim)}),g.group(a,b)},_filterNullValue:function(a){var b=this.getXDim();return g.filter(a,function(a){return e.isArray(a[b])||!e.isNull(a[b])})},_createFrame:function(a){var b=this.get("scales"),c=[],d=[];e.each(b,function(b){var e=b.dim;c.push(e);b=a.contains(e)?a.colArray(e):g.Array.repeat(b.value||0,a.rowCount());d.push(b)});return new g(d,{names:c})},_normalizeFrame:function(a,b){var c=b.getDims(),d=b.getNames(),f=b.scaleCache;e.each(d,function(b){a.contains(b)&&-1===e.indexOf(c,b)&&c.push(b)});var h=a.cols(c),h=h.toJSON();e.each(f,function(a,b){e.each(h,function(c){var d=c[a.dim];e.isArray(d)?c[b]=e.map(d,function(b){return a.scale(b)}):c[b]=a.scale(d)})});d=d.concat(c);return new g(h,{names:d})},processData:function(a,b){this.set("coord",b);var c=this._createFrame(a);return c=this._filterNullValue(c),a=this._groupFrames(c),a=this._execStats(a),this._saveOriginData(a)},numbericFrames:function(a){var b=this.get("scales");return e.each(a,function(a){e.each(b,function(b){var c=b.dim;if(b.isCategory||"time"===b.type){var d=a.colArray(c);e.each(d,function(a,c){d[c]=b.translate(a)});a.colReplace(c,d)}})}),a},processAdjust:function(a){var b=this,d=b.get("adjusts");return e.isNull(d)||(d=e.isArray(d)?d:d.split(","),e.each(d,function(d){if(!e.inArray(m,d))throw Error(e.ucfirst(d)+" is not supported, please use "+m.toString());var f,g=b.getYScale();f=b.getXScale();if("Dodge"===d){var h=[];if(f.isCategory)h.push("x");else{if(g)throw Error("dodge is not support linear attribute, please use category attribute!");h.push("y")}f={xDim:b.getXDim(),yDim:g?g.dim:null,adjustNames:h}}else"Stack"===d?(f=b.getDefaultValue("size")||3,(f={xDim:b.getXDim(),size:f},g)?f.yDim=b.getYDim():(g=b.get("coord"),f.height=g.getHeight())):f={xDim:b.getXDim(),yDim:b.getYDim()};a=(new c[d](f)).processAdjust(a)})),a},framePreprocess:function(a){return a},normalizeFrames:function(a){var b=this,c=b.get("attrs"),d=[];return e.each(a,function(a){var f=[];e.each(c,function(c){c=b._normalizeFrame(a,c);f.push(c)});var h=g.combin.apply(null,f),l=a.colArray("_origin");h.addCol("_origin",l);d.push(h)}),d},getShapePoints:function(b){var c=this,d=c.get("shapeType"),f=a.createShape(d),h=[],k=c._getShapeScale(),m="";return c.set("shapeObj",f),e.each(b,function(a){var b=[];a.each(function(a){k&&a.shape&&(m=k.invert(a.shape));var d=c.getShapePointInfo(a),d=f.getShapePoints(d,m);a.points=d;b.push(a)});b=new g(b);h.push(b)}),h},execMapping:function(a){var b=this,c=b.get("attrs"),d=[];return e.each(a,function(a){var f=a;e.each(c,function(a){if("position"===a.type){var c=b.get("coord");a.setCoord(c)}f=a.mapping(f)});b.get("hasShapePath")||(f=b._execPointsMapping(f));d.push(f)}),d},getShapePointInfo:function(a){return a},sortFrame:function(a){var b=this.getXDim();return g.sort(a,b)}});k.exports=f},function(k,f,d){var e=d(1),g=e.MatrixUtil;f=function(){};f.ATTRS={allowSelected:!1};e.augment(f,{allowSelected:function(){return this.get("allowSelected")},getSelectShapes:function(c){var a=this.get("container"),b=[],d=[];c?(c=this.getGroup(c.get("coord")),d.push(c)):d=a.get("children");return e.each(d,function(a){a=a.get("children");e.each(a,function(a){a.get("origin")&&b.push(a)})}),b},getData:function(c){c=this.getSelectShapes(c);var a=[];return e.each(c,function(b){(b=b.get("origin"))&&a.push(b)}),a},getShapeByObj:function(c,a){var b=null;return c&&e.each(a,function(a){if(a.get("origin")===c)return b=a,!1}),b},getSelectedShape:function(c,a){c=c||this.getSelectShapes(a);var b=null;return e.each(c,function(a){if(a.get("selected"))return b=a,!1}),b},setShapeSelected:function(c,a){c.set("selected",a);this.setSelectedStatus(c,a)},setSelectedStatus:function(c,a){var b=this.get("activeGroup"),d={};if(a){var f=c.get("origin"),g=this.get("shapeObj"),k=f.shape||this.getDefaultValue("shape"),f={geom:this,coord:c.get("parent").get("coord"),point:f},g=g.getSelectedCfg(k,f);c.get("originSelectCfg")?d=c.get("originSelectCfg"):(e.each(g,function(a,b){if("transform"===b||"matrix"===b)d.matrix=c.getMatrix().clone();else{var e=c.attr(b);e!==a&&(d[b]=e)}}),c.set("originSelectCfg",d));g=this.parseCfg(d.matrix,g);c.animate(g,300)}else d=c.get("originSelectCfg"),c.animate(d,300);this.clearShapeActived();b&&b.get("canvas").draw()},parseCfg:function(c,a){return a.transform&&(a.matrix=g.transform(c,a.transform),delete a.transform),a},setSelected:function(c,a){var b=this.get("chart");a=a||b.getViews()[0];var d=this.getSelectShapes(a),e=this.getSelectedShape(d,a),d=this.getShapeByObj(c,d);e!==d&&(e&&(this.setShapeSelected(e,!1),b.fire("itemunselected",{shape:e,data:e.get("origin"),view:a,geom:this})),d&&(this.setShapeSelected(d,!0),b.fire("itemselected",{shape:d,data:c,view:a,geom:this})),b.fire("itemselectedchange",{shape:d,data:c,view:a,geom:this,preShape:e,preData:e?e.get("origin"):null}))},getSelected:function(c){var a=this.get("chart");c=c||a.getViews()[0];c=this.getSelectedShape(null,c);a=null;return c&&(a=c.get("origin")),a},clearSelected:function(c){this.setSelected(null,c)}});k.exports=f},function(k,f,d){var e=d(1),g=d(6);f=function(){};f.ATTRS={tooltipMap:{},tooltipDims:null};e.augment(f,{_snapEqual:function(c,a,b){return c=b.translate(c),a=b.translate(a),b.isCategory?c===a:.001>=Math.abs(c-a)},_getScaleValueByPoint:function(c){var a=0,b=this.get("coord"),d=this.getXScale();c=b.invert(c).x;return this.isInCircle()&&c>(1+d.rangeMax())/2&&(c=d.rangeMin()),a=d.invert(c),d.isCategory&&(a=d.translate(a)),a},_getTipMapScale:function(c){var a=this.get("tooltipMap");return this._getScale(a&&a[c])},_getTipValueScale:function(){var c=this._getTipMapScale("value");if(!c){var a=this.getLegendAttr();e.each(a,function(a){a=a.getScale(a.type);if(a.isLinear)return c=a,!1})}return c||this.getYScale()||this.getXScale()},_getTipTitleSclale:function(){var c=this._getTipMapScale("title");if(!c){var a,c=this.getAttr("position").getDims();e.each(c,function(b){if(-1===b.indexOf(".."))return a=b,!1});c=this._getScale(a)}return c},findPoint:function(c,a){var b=this,d=null,f=a.toJSON(),g=f[0],k=f[f.length-1];if(!g)return d;var n=b._getScaleValueByPoint(c),t=b.getXScale(),r=t.dim,g=g._origin[r],p=k._origin[r];if(e.isArray(g))e.each(f,function(a){var b=a._origin;if(t.translate(b[r][0])<=n&&t.translate(b[r][1])>=n)return d=a,!1});else{if(e.isNumber(n)&&(n>t.translate(p)||n<t.translate(g)))return null;var u;e.each(f,function(a,c){var g=a._origin;return b._snapEqual(g[r],n,t)?(d=a,!1):void(e.isNumber(n)&&t.translate(g[r])<=n&&(k=a,u=f[c+1]))});k&&u&&Math.abs(t.translate(k._origin[r])-n)>Math.abs(t.translate(u._origin[r])-n)&&(k=u)}g=b.getXDistance();return!d&&Math.abs(t.translate(k._origin[r])-n)<g/2&&(d=k),d},getTipTitle:function(c){var a=this.get("tooltipMap").title;if(a&&!this._getScale(a))return a;var b;(a=this._getTipTitleSclale())&&(b=a.getText(c[a.dim]));return b},getTipValue:function(c){var a,b=this._getTipValueScale();if(a=c[b.dim],e.isArray(a)){var d=[];e.each(a,function(a){d.push(b.getText(a))});a=d.join("-")}else a=b.getText(a);return a},getTipName:function(c){var a,b=this.get("tooltipMap").name;if(b&&(a=this._getScale(b),!a))return b;b=this._getGroupScales();(!a&&b.length&&e.each(b,function(b){return a=b,!1}),a)?c=a.getText(c[a.dim]):(c=this._getTipValueScale(),c=c.alias||c.dim);return c},getTipItems:function(c){function a(a,b){e.isNull(b)||""===b||t.push({title:n,point:c,name:a||n,value:b,color:c.color||g.defaultColor,marker:!0})}var b,d,f=this,l=c._origin,k=f.get("tooltipDims"),n=f.getTipTitle(l),t=[];return k?e.each(k,function(c){var e=f._getScale(c);b=e.alias||e.dim;d=e.getText(l[c]);a(b,d)}):(d=f.getTipValue(l),b=f.getTipName(l),a(b,d)),t},getTipInfo:function(c){var a=this,b=a.get("frames"),d=[];return e.each(b,function(b){if(b=a.findPoint(c,b))b=a.getTipItems(b),d=d.concat(b)}),d}});k.exports=f},function(k,f,d){var e=d(1),g=d(6);k.exports={getDimWidth:function(c){var a=this.get("coord"),b=a.convertPoint({x:0,y:0});c=a.convertPoint({x:"x"===c?1:0,y:"x"===c?0:1});a=0;return b&&c&&(a=Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2))),a},getNormalizeSize:function(){var c,a=this.get("coord"),b=this.getXScale();c=this.getDefaultValue("size");if(e.isNull(c)){b=b.values.length;c=1/b;var d=1;this.isInCircle()&&"schema"!==this.get("type")?a.isTransposed&&1<b&&(d=g.widthRatio.multiplePie):d=g.widthRatio.column;c*=d;(a=this.get("adjusts"))&&("Dodge"===a||e.inArray(a,"Dodge"))&&(a=this.get("frames"),c/=a.length)}else a=this.isInCircle()&&!a.isTransposed?(a.get("endAngle")-a.get("startAngle"))*a.get("radius"):this.getDimWidth("x"),c/=a;return c},getXDistance:function(){var c=this.getXScale();return c.isCategory?1:(c.max-c.min)/c.values.length}}},function(k,f,d){var e=d(1);f=d(22);d=function c(a){c.superclass.constructor.call(this,a)};d.ATTRS={type:"point",shapeType:"point",shape:"hollowCircle",animate:!0,hasShapePath:!1,shareTooltip:!1};e.extend(d,f);e.augment(d,{_drawPoint:function(c){var a=this.get("group"),b=this.get("shapeObj"),d=c.shape||this.get("shape"),f=c.points;c.coord=this.get("coord");var l=b.getShapeCfg(d,c);e.each(f,function(b){b=e.mix({x:b.x,y:b.y,zIndex:5},l);a.addShape("Marker",{attrs:b}).set("origin",c)})},drawFrame:function(c){var a=this;c.each(function(b){0!==b.size&&a._drawPoint(b)})}});k.exports=d},function(k,f,d){var e=d(1);f=d(22);var g=Math.abs;d=function a(b){a.superclass.constructor.call(this,b)};d.ATTRS={type:"polygon",shapeType:"polygon",lineToArc:!0,shareTooltip:!1};e.extend(d,f);e.augment(d,{drawFrame:function(a){var b=this,d=b.get("group");a.each(function(a){b.addPolygon(a,d)})},getShapeCfg:function(a){a=this.get("shapeObj").getShapeCfg(a.shape,a);return a.path=this.mappingPath(a.path),a},addPolygon:function(a,b){var d=this.getShapeCfg(a);b.addShape("path",{attrs:d}).set("origin",a)},getShapePointInfo:function(a){var b,d=a.x,f=a.y;if(!e.isArray(d)||!e.isArray(f)){b=this.getXScale();var g=this.getYScale(),k=this._getScaleOffset(b),n=this._getScaleOffset(g);if(b.isCategory&&g.isCategory)d=[d-k,d-k,d+k,d+k],f=[f-n,f+n,f+n,f-n];else if(e.isArray(d))b=d,d=[b[0],b[0],b[1],b[1]],f=[f-n/2,f+n/2,f+n/2,f-n/2];else{if(!e.isArray(f))throw Error("Generated polygon, continuous field must pass in an array\uff01");b=f;f=[b[0],b[1],b[1],b[0]];d=[d-k/2,d-k/2,d+k/2,d+k/2]}}return e.mix({},a,{x:d,y:f})},_getScaleOffset:function(a){return a.scale(1)-a.scale(.5)},isSnapPoint:function(a,b,d){var f=this.get("snapDistance"),l=this.getXScale(),k=this.getYScale(),n=d.invert(a);if(e.isArray(b.x)&&e.isArray(b.y)){f=b.x;b=b.y;k=f[0];n=b[0];l=f[0];d=b[0];for(var t=0;t<f.length;t++){var r=f[t],p=b[t];r<=k&&(k=r);r>=l&&(l=r);p<=n&&(n=p);p>=d&&(d=p)}a=a.x>=k&&a.x<=l&&a.y>=n&&a.y<=d}else d=d.trans(b.x,b.y,1),l=l.isCategory?l.translate(l.invert(n.x))===b[l.dim]:g(d.x-a.x)<f,a=k&&k.isCategory?k.translate(k.invert(n.y))===b[k.dim]:g(d.y-a.y)<f,a=l&&a;return a}});k.exports=d},function(k,f,d){var e=d(1);f=d(22);d=function c(a){c.superclass.constructor.call(this,a)};d.ATTRS={type:"schema",shapeType:"schema",lineToArc:!0,animate:!0,snapAll:!1};e.extend(d,f);e.augment(d,{drawFrame:function(c){var a=this,b=a.get("group");c.each(function(c){a.addSchema(c,b)})},getShapeCfg:function(c){c=this.get("shapeObj").getShapeCfg(c.shape,{color:c.color,size:c.size,opacity:c.opacity,point:c});return c.path=this.mappingPath(c.path),c},getShapePointInfo:function(c){var a={},b=c.size;return(e.isNull(b)||1<=b)&&(b=this.getNormalizeSize()),e.mix(a,c,{size:b}),a},addSchema:function(c,a){if(!isNaN(c.x)||e.isArray(c.x)){var b=this.getShapeCfg(c);a.addShape("path",{attrs:b}).set("origin",c)}}});k.exports=d},function(k,f,d){function e(a){return w.mix(!0,{},t.shape.area,{fill:a.color,stroke:a.color,"stroke-width":a.size,"fill-opacity":a.opacity})}function g(a){return w.mix(!0,{},t.shape.hollowArea,{stroke:a.color,"stroke-width":a.size,"stroke-opacity":a.opacity})}function c(a,b,c,d){var e="",f=[],g=[],h=[];return w.each(a,function(a){a=a.points;g.push(a[0]);h.push(a[1])}),h=h.reverse(),f.push(g,h),w.each(f,function(a,f){var g;(g=b?n.getSplinePath(a,!1,c):n.getLinePath(a,!1),d)?g+=w.substitute("L {x} {y}",a[0]):0<f&&(g=g.replace("M","L"));e+=g}),e+="z"}function a(a,b){var d=a.coord,e=a.isInCircle,f="",g=n.splitPoints(a.points,a.yDim);return w.each(g,function(a){f+=c(a,b,d,e)}),w.path2Absolute(f)}function b(b,c,d){c=a(b,c);b=d?g(b):e(b);return w.mix({path:c},b)}function h(a,b,c){return[["M",a-c,b+c],["L",a-c,b-c],["L",a,b],["L",a+c,b-c],["L",a+c,b+c],["z"]]}function m(a,b,c){return w.path2Absolute([["M",a-c,b+c],["L",a-c,b],["R",a-c/2,b-c/2,a,b,a+c/2,b+c/2,a+c,b],["L",a+c,b+c],["z"]])}function l(a,b,c){a=c?g(a):e(a);return w.mix({symbol:b?m:h},a)}var w=d(1),n=d(24);f=d(23);var t=d(6),r=[2,1];d=f.registGeom("area",{defaultShapeType:"area",getShapePoints:function(a){var b=[],c=a.x,d=a.y;a=a.y0;return d=w.isArray(d)?d:[a,d],w.each(d,function(a){b.push({x:c,y:a})}),b},getShapeCfg:function(a,b){return this.getShape(a).getShapeCfg(b)},getMarkerCfg:function(a,b){return this.getShape(a).getMarkerCfg(b)},getActiveCfg:function(a){return a&&-1!==a.indexOf("line")?t.activeShape.hollowArea:t.activeShape.area}});f.registShape("area","area",{getShapeCfg:function(a){return b(a,!1,!1)},getMarkerCfg:function(a){return l(a,!1,!1)}});f.registShape("area","smooth",{getShapeCfg:function(a){return b(a,!0,!1)},getMarkerCfg:function(a){return l(a,!0,!1)}});d.spline=d.smooth;f.registShape("area","line",{getShapeCfg:function(a){return b(a,!1,!0)},getMarkerCfg:function(a){return l(a,!1,!0)}});f.registShape("area","dotLine",{getShapeCfg:function(a){a=b(a,!1,!0);return a["stroke-dasharray"]=r,a},getMarkerCfg:function(a){a=l(a,!1,!0);return a["stroke-dasharray"]=r,a}});f.registShape("area","smoothLine",{getShapeCfg:function(a){return b(a,!0,!0)},getMarkerCfg:function(a){return l(a,!0,!0)}});f.registShape("area","dotSmoothLine",{getShapeCfg:function(a){a=b(a,!0,!0);return a["stroke-dasharray"]=r,a},getMarkerCfg:function(a){a=l(a,!0,!0);return a["stroke-dasharray"]=r,a}});k.exports=d},function(k,f,d){function e(a){return m.mix(!0,{},l.shape.interval,{fill:a.color,stroke:a.color,"fill-opacity":a.opacity},{})}function g(a){return m.mix(!0,{},l.shape.hollowInterval,{stroke:a.color,"stroke-opacity":a.opacity})}function c(a,b){var c=a.x,d=a.y,e=a.size,f=a.y0,g=d;m.isArray(d)&&(g=d[1],f=d[0]);var h,l;m.isArray(c)?(h=c[0],l=c[1]):(h=c-e/2,l=c+e/2);c=[];return c.push({x:h,y:f},{x:h,y:g}),b?c.push({x:l,y:(g+f)/2}):c.push({x:l,y:g},{x:l,y:f}),c}function a(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push([0===c?"M":"L",d.x,d.y])}a=a[0];return b.push(["L",a.x,a.y]),b.push(["z"]),b}function b(a){var b=a.x,c=a.y;a=a.y0;var d=[];return m.isArray(c)?m.each(c,function(a,c){d.push({x:m.isArray(b)?b[c]:b,y:a})}):d.push({x:b,y:c},{x:b,y:a}),d}function h(a,b){var c=[],d=a.point.points,e=a.nextPoint;m.isNull(e)?b?c.push(["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["L",d[2].x,d[2].y],["L",d[3].x,d[3].y],["Z"]):c.push(["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["L",d[2].x,d[2].y],["Z"]):(e=e.points,c.push(["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]));return c}var m=d(1),l=d(6);f=d(23);var w=d(24);d=f.registGeom("interval",{defaultShapeType:"rect",getActiveCfg:function(a){return a&&"rect"!==a?l.activeShape.hollowInterval:l.activeShape.interval},getSelectedCfg:function(a,b){var c=b,d=c.coord,e=c.point;if(d&&"theta"===d.type){var f,g,h,l,c=d.getRadius(),k=d.get("inner"),k=c*k,d=(m.isArray(e.x)?(h={x:e.x[0],y:e.y[0]},l={x:e.x[1],y:e.y[1]},f=w.getPointAngle(d,h),g=w.getPointAngle(d,l),g<=f&&(g+=2*Math.PI)):(l=e,f=d.get("startAngle"),g=w.getPointAngle(d,l)),{r:c,ir:k,startAngle:f,endAngle:g});f=(d.endAngle-d.startAngle)/2+d.startAngle;c={transform:[["t",7.5*Math.cos(f),7.5*Math.sin(f)]]}}return c}});f.registShape("interval","rect",{getShapePoints:function(a){return c(a,!1)},getShapeCfg:function(b){var c=e(b);return c.path=a(b.point.points),c},getMarkerCfg:function(a){var b=e(a);return m.mix({symbol:a.isInCircle?"circle":"square"},b)}});f.registShape("interval","hollowRect",{getShapePoints:function(a){return c(a,!1)},getShapeCfg:function(b){var c=g(b);return c.path=a(b.point.points),c},getMarkerCfg:function(a){var b=g(a);return m.mix({symbol:a.isInCircle?"circle":"square"},b)}});f.registShape("interval","stroke",{getShapePoints:function(a){return c(a,!1)},getShapeCfg:function(b){var c=e(b);return c.path=a(b.point.points),m.mix(c,l.shape.strokeInterval)},getMarkerCfg:function(a){var b=e(a);return m.mix({symbol:a.isInCircle?"circle":"square"},b,l.shape.strokeInterval)}});f.registShape("interval","line",{getShapePoints:function(a){return b(a)},getShapeCfg:function(b){var c=g(b);return c.path=a(b.point.points),c},getMarkerCfg:function(a){a=g(a);return m.mix({symbol:"line"},a)}});f.registShape("interval","tick",{getShapePoints:function(a){var b=a.x,c=m.isArray(a.y)?a.y[1]:a.y,d=m.isArray(a.y)?a.y[0]:a.y0;a=a.size||5;var e=[];return e.push({x:b-a/2,y:c},{x:b+a/2,y:c},{x:b,y:c},{x:b,y:d},{x:b-a/2,y:d},{x:b+a/2,y:d}),e},getShapeCfg:function(a){var b=g(a);a=a.point.points;var c=[];a=(c.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y]),c);return b.path=a,b},getMarkerCfg:function(a){a=g(a);return m.mix({symbol:"tick"},a)}});f.registShape("interval","funnel",{getShapePoints:function(a){return a.size*=2,c(a,!1)},getShapeCfg:function(a){var b=e(a);return b.path=h(a,!0),b},getMarkerCfg:function(a){a=e(a);return m.mix({symbol:"square"},a)}});f.registShape("interval","pyramid",{getShapePoints:function(a){return a.size*=2,c(a,!0)},getShapeCfg:function(a){var b=e(a);return b.path=h(a,!1),b},getMarkerCfg:function(a){a=e(a);return m.mix({symbol:"square"},a)}});k.exports=d},function(k,f,d){function e(a,b,c,d){for(var e="",f=0,g=a[0].points.length;f<g;f++)var h=r.map(a,function(a){return a.points[f]}),e=e+(b?p.getSplinePath(h,c,d):p.getLinePath(h,c,b));return e}function g(a,b){var c=a.isInCircle,d=a.coord,f="",g=p.splitPoints(a.points,a.yDim);return r.each(g,function(a){f+=e(a,b,c,d)}),r.path2Absolute(f)}function c(a){var b=r.mix(!0,{},u.shape.line,{stroke:a.color,"stroke-width":a.size});return a.opacity&&(b.opacity=a.opacity),b}function a(a,b){var d=g(a,b);return r.mix({path:d},c(a))}function b(a,b,c){return[["M",a-c,b],["L",a+c,b]]}function h(a,b,c){return r.path2Absolute([["M",a-c,b],["R",a-c/2,b-c/2,a,b,a+c/2,b+c/2,a+c,b]])}function m(a,d){return r.mix({symbol:d?h:b},c(a))}function l(a,b){var c=[];return r.each(a,function(d,e){var f=a[e+1];c.push(d);f&&(c=c.concat(b(d,f)))}),c}function w(a){var b="";return r.each(a,function(a,c){b+=r.substitute(0===c?"M {x} {y}":"L {x} {y}",a)}),b}function n(a,b){var d=[];r.each(a.points,function(a){r.each(a.points,function(a){d.push({x:a.x,y:a.y})})});var e=l(d,b),f=r.mix({},a),e=w(e);return r.mix({path:e},c(f))}function t(a,b){return r.mix({symbol:b},c(a))}var r=d(1),p=d(24);f=d(23);var u=d(6),q=[2,1],B=[10,5],z=f.registGeom("line",{defaultShapeType:"line",getShapePoints:function(a){var b=[],c=a.x;a=a.y;return a=r.isArray(a)?a:[a],r.each(a,function(a,d){b.push({x:r.isArray(c)?c[d]:c,y:a})}),b},getShapeCfg:function(a,b){return(z[a]||z.line).getShapeCfg(b)},getMarkerCfg:function(a,b){return(z[a]||z.line).getMarkerCfg(b)},getActiveCfg:function(){return u.activeShape.line}});f.registShape("line","line",{getShapeCfg:function(b){return a(b)},getMarkerCfg:function(a){return m(a)}});f.registShape("line","dot",{getShapeCfg:function(b){b=a(b,!1);return b["stroke-dasharray"]=q,b},getMarkerCfg:function(a){a=m(a,!1);return a["stroke-dasharray"]=q,a}});f.registShape("line","fill",{getShapeCfg:function(b){b=a(b,!1);return b.path.push(["z"]),b.fill=b.stroke,b.stroke=null,b},getMarkerCfg:function(a){a=m(a,!1);return a.fill=a.stroke,a}});f.registShape("line","dash",{getShapeCfg:function(b){b=a(b,!1);return b["stroke-dasharray"]=B,b},getMarkerCfg:function(a){a=m(a,!1);return a["stroke-dasharray"]=B,a}});f.registShape("line","smooth",{getShapeCfg:function(b){return a(b,!0)},getMarkerCfg:function(a){return m(a,!0)}});z.spline=z.smooth;f.registShape("line","dotSmooth",{getShapeCfg:function(b){b=a(b,!0);return b["stroke-dasharray"]=q,b},getMarkerCfg:function(a){a=m(a,!0);return a["stroke-dasharray"]=q,a}});f.registShape("line","hv",{getShapeCfg:function(a){return n(a,function(a,b){var c=[];return c.push({x:b.x,y:a.y}),c})},getMarkerCfg:function(a){return t(a,function(a,b,c){return[["M",a-c,b-c],["L",a,b-c],["L",a,b],["L",a+c,b]]})}});f.registShape("line","vh",{getShapeCfg:function(a){return n(a,function(a,b){var c=[];return c.push({x:a.x,y:b.y}),c})},getMarkerCfg:function(a){return t(a,function(a,b,c){return[["M",a-c,b],["L",a,b],["L",a,b-c],["L",a+c,b-c]]})}});f.registShape("line","hvh",{getShapeCfg:function(a){return n(a,function(a,b){var c=[],d=(b.x-a.x)/2+a.x;return c.push({x:d,y:a.y}),c.push({x:d,y:b.y}),c})},getMarkerCfg:function(a){return t(a,function(a,b,c){return[["M",a-3*c/2,b],["L",a-c/2,b],["L",a-c/2,b-c/2],["L",a+c/2,b-c/2],["L",a+c/2,b],["L",a+3*c/2,b]]})}});f.registShape("line","vhv",{getShapeCfg:function(a){return n(a,function(a,b){var c=[],d=(b.y-a.y)/2+a.y;return c.push({x:a.x,y:d}),c.push({x:b.x,y:d}),c})},getMarkerCfg:function(a){return t(a,function(a,b,c){return[["M",a-c,b],["L",a-c,b-c/2],["L",a,b-c/2],["L",a,b-c],["L",a,b+c/2],["L",a+c,b+c/2]]})}});k.exports=z},function(k,f,d){function e(a,b){return g.mix(!0,{},c.shape.hollowPoint,{stroke:b.color,symbol:a,"stroke-opacity":b.opacity,radius:b.size})}var g=d(1);f=d(11);var c=d(6),a=d(23),b="cross tick plus hyphen line pointerLine pointerArrow".split(" "),h=Math.sqrt(3);g.mix(f.Shape.Marker.Symbols,{hexagon:function(a,b,c){var d=c/2*h;return[["M",a,b-c],["L",a+d,b-c/2],["L",a+d,b+c/2],["L",a,b+c],["L",a-d,b+c/2],["L",a-d,b-c/2],["z"]]},bowtie:function(a,b,c){return[["M",a-c,b-c],["L",a+c,b+c],["L",a+c,b-c],["L",a-c,b+c],["z"]]},cross:function(a,b,c){return[["M",a-c,b-c],["L",a+c,b+c],["M",a+c,b-c],["L",a-c,b+c]]},tick:function(a,b,c){return[["M",a-c/2,b-c],["L",a+c/2,b-c],["M",a,b-c],["L",a,b+c],["M",a-c/2,b+c],["L",a+c/2,b+c]]},plus:function(a,b,c){return[["M",a-c,b],["L",a+c,b],["M",a,b-c],["L",a,b+c]]},hyphen:function(a,b,c){return[["M",a-c,b],["L",a+c,b]]},line:function(a,b,c){return[["M",a,b-c],["L",a,b+c]]},pointerLine:function(a,b,c){return[["M",a,b-c],["L",a,b+c]]}});var m=a.registGeom("point",{defaultShapeType:"circle",getShapePoints:function(a){var b=[],c=a.x;a=a.y;return a=g.isArray(a)?a:[a],g.each(a,function(a,d){var e={x:g.isArray(c)?c[d]:c,y:a};b.push(e)}),b},getShapeCfg:function(a,b){return this.getShape(a).getShapeCfg(b)},getMarkerCfg:function(a,b){return m.getShapeCfg(a,b)},getActiveCfg:function(a,d){var e;e=!a||0!==a.indexOf("hollow")&&-1===g.indexOf(b,a)?c.activeShape.point:c.activeShape.hollowPoint;return d&&d.size&&delete e.radius,e}});g.each("circle square bowtie diamond hexagon triangle triangle-down pointerRect".split(" "),function(b){a.registShape("point",b,{getShapeCfg:function(a){return g.mix(!0,{},c.shape.point,{fill:a.color,stroke:a.color,symbol:b,"fill-opacity":a.opacity,radius:a.size})}});a.registShape("point","hollow"+g.ucfirst(b),{getShapeCfg:function(a){return e(b,a)}})});g.each(b,function(b){a.registShape("point",b,{getShapeCfg:function(a){return e(b,a)}})});a.registShape("point","pointerArrow",{getShapeCfg:function(a){return g.mix(!0,{},c.shape.hollowPoint,{stroke:a.color,"stroke-width":2,"fill-opacity":a.opacity,radius:a.size,symbol:function(){var b=a.coord,c=a.size/10,d=c-.04,e=Math.atan(.04/d)/(2*Math.PI),f=b.convertPoint({x:0,y:0}),g=b.invertPoint({x:a.x,y:a.y}),c=b.convertPoint({x:g.x,y:c}),h=b.convertPoint({x:g.x+e,y:d}),b=b.convertPoint({x:g.x-e,y:d});return[["M",f.x,f.y],["L",c.x,c.y],["M",c.x,c.y],["L",h.x,h.y],["M",c.x,c.y],["L",b.x,b.y]]}})}});a.registShape("point","pointerLine",{getShapeCfg:function(a){return g.mix(!0,{},c.shape.hollowPoint,{stroke:a.color,"fill-opacity":a.opacity,radius:a.size,symbol:function(){var b=a.coord,c=b.convertPoint({x:0,y:0}),d=b.invertPoint({x:a.x,y:a.y}),b=b.convertPoint({x:d.x,y:a.size/10});return[["M",c.x,c.y],["L",b.x,b.y]]}})}});a.registShape("point","pointerRect",{getShapeCfg:function(a){return g.mix(!0,{},c.shape.point,{fill:a.color,stroke:a.color,"fill-opacity":a.opacity,radius:a.size,symbol:function(){var b=a.coord,c=a.size/10,d=b.invertPoint({x:a.x,y:a.y}),e=b.convertPoint({x:d.x,y:0}),b=b.convertPoint({x:d.x,y:c}),f=Math.PI/2-Math.atan((b.y-e.y)/(b.x-e.x)),c=[],d=a.size*Math.cos(f),f=a.size*Math.sin(f);return c.push(["M",e.x-d,e.y+f]),c.push(["L",b.x-d,b.y+f]),c.push(["L",b.x+d,b.y-f]),c.push(["L",e.x+d,e.y-f]),c.push(["z"]),c}})}});k.exports=m},function(k,f,d){function e(b,c){return a.mix(!0,{},c,{"fill-opacity":b.opacity})}function g(b,c){var d=[];return a.each(b,function(a,b){d.push({x:a,y:c[b]})}),d}function c(b){var c="",d=[b[0].x,b[0].y],e=0,f=b[0];return a.each(b,function(g,k){if(c+=a.substitute(0===k?"M {x} {y} ":"L {x} {y} ",g),e!==k&&k<b.length-1&&a.equalsArray(d,[g.x,g.y])){var p=b[k+1];c+="z"+a.substitute("M {x} {y}",p);f=p;e=k+1;d=[p.x,p.y]}}),c+=a.substitute("L {x} {y}",f),c+="z",a.path2Absolute(c)}var a=d(1),b=d(6);f=d(23);d=f.registGeom("polygon",{defaultShapeType:"polygon",getShapePoints:function(a){return g(a.x,a.y)},getMarkerCfg:function(){return{symbol:"rect"}},getActiveCfg:function(a){return b.activeShape.polygon}});f.registShape("polygon","polygon",{getShapeCfg:function(a){var d=e(a,b.shape.polygon);return d.fill=a.color||b.defaultColor,d.path=c(a.points),d}});f.registShape("polygon","hollow",{getShapeCfg:function(a){var d=e(a,b.shape.hollowPolygon);return d.stroke=a.color||b.defaultColor,d.path=c(a.points),d}});f.registShape("polygon","stroke",{getShapeCfg:function(a){var d=e(a,b.shape.strokePolygon);return d.fill=a.color||b.defaultColor,d.path=c(a.points),d}});k.exports=d},function(k,f,d){function e(a){return n.mix(!0,{},t.shape.line,{stroke:a.color,fill:"#fff","fill-opacity":0,"stroke-opacity":a.opacity})}function g(a,b){return n.mix({symbol:b},e(a))}function c(a){n.isArray(a)||(a=[a]);var b=a[0],c=a[a.length-1],d=1<a.length?a[1]:b;return{min:b,max:c,min1:d,max1:3<a.length?a[3]:c,median:2<a.length?a[2]:d}}function a(a,b){n.each(a,function(a){b.push({x:a[0],y:a[1]})})}function b(b,d,e){var f,g,h=[];return n.isArray(d)?(g=c(d),f=[[b-e/2,g.max],[b+e/2,g.max],[b,g.max],[b,g.max1],[b-e/2,g.min1],[b-e/2,g.max1],[b+e/2,g.max1],[b+e/2,g.min1],[b,g.min1],[b,g.min],[b-e/2,g.min],[b+e/2,g.min],[b-e/2,g.median],[b+e/2,g.median]]):(d=d||.5,g=c(b),f=[[g.min,d-e/2],[g.min,d+e/2],[g.min,d],[g.min1,d],[g.min1,d-e/2],[g.min1,d+e/2],[g.max1,d+e/2],[g.max1,d-e/2],[g.max1,d],[g.max,d],[g.max,d-e/2],[g.max,d+e/2],[g.median,d-e/2],[g.median,d+e/2]]),a(f,h),h}function h(a){return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x,a[10].y],["L",a[11].x,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y]]}function m(a){n.isArray(a)||(a=[a]);a=a.sort(function(a,b){return a<b?1:-1});var b=a.length;if(4>b)for(var c=a[b-1],d=0;d<4-b;d++)a.push(c);return a}function l(a,b,c){b=m(b);return[{x:a,y:b[0]},{x:a,y:b[1]},{x:a-c/2,y:b[2]},{x:a-c/2,y:b[1]},{x:a+c/2,y:b[1]},{x:a+c/2,y:b[2]},{x:a,y:b[2]},{x:a,y:b[3]}]}function w(a){return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["L",a[4].x,a[4].y],["L",a[5].x,a[5].y],["Z"],["M",a[6].x,a[6].y],["L",a[7].x,a[7].y]]}var n=d(1),t=d(6);f=d(23);d=f.registGeom("schema",{getActiveCfg:function(){return t.activeShape.line}});f.registShape("schema","box",{getShapePoints:function(a){return b(a.x,a.y,a.size)},getShapeCfg:function(a){var b=h(a.point.points),c=e(a);return c.path=b,n.mix(c,e(a))},getMarkerCfg:function(a){return g(a,function(a,c,d){a=b(a,[c-d,c-d/2,c,c+d/2,c+d],2*d);return h(a)})}});f.registShape("schema","candle",{getShapePoints:function(a){return l(a.x,a.y,a.size)},getShapeCfg:function(a){var b;b=w(a.point.points);b=n.mix({path:b},e(a));return b.fill=a.color,b["fill-opacity"]=a.opacity,b["stroke-width"]=1,b},getMarkerCfg:function(a){var b=g(a,function(a,b,c){b=[b+1.5*c,b+c/2,b-c/2,b-1.5*c];a=l(a,b,c);return w(a)});return b.fill=a.color,b["fill-opacity"]=a.opacity,b}});k.exports=d},function(k,f,d){var e=d(1);f=d(18);var g=d(3).Vector2;d=function a(b){a.superclass.constructor.call(this,b)};e.extend(d,f);e.augment(d,{start:[],end:[],cfg:{stroke:"#000"},getCfg:function(a){var b,d,e=this.parsePoint(a,this.start),f=this.parsePoint(a,this.end),k=a.invertPoint(e),k={x:(a.invertPoint(f).x+k.x)/2,y:k.y},k=a.convertPoint(k),n=a.getCenter();a=new g(1,0);var n=(new g.sub(e,n)).length(),t=new g.sub(f,e);return t=t.vertical(),t.setLength(n),t.add(k),b=new g.sub(e,t),d=new g.sub(f,t),{x:t.x,y:t.y,startAngle:b.angleTo(a,!0)/Math.PI*180,endAngle:d.angleTo(a,!0)/Math.PI*180,r:n}},paint:function(a,b){var d=e.mix({},this.cfg,this.getCfg(a));b.addShape("Arc",{attrs:d})}});k.exports=d},function(k,f,d){var e=d(1);f=d(18);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{start:[],end:null,src:"",paint:function(c,a){var b=this.parsePoint(c,this.start),d=this.cfg;if(d.img=d.src,d=e.mix({src:this.src},d,b),this.end){var f=this.parsePoint(c,this.end);d.x=b.x;d.y=f.y;d.width=f.x-b.x;d.height=b.y-f.y}else d.y-=d.height;a.addShape("Image",{attrs:d})}});k.exports=d},function(k,f,d){f=d(18);f.Image=d(299);f.Text=d(304);f.Line=d(301);f.Tag=d(303);f.Rect=d(302);f.Arc=d(298);k.exports=f},function(k,f,d){var e=d(1);f=d(18);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{from:[],to:[],cfg:{stroke:"#000","stroke-width":1},paint:function(c,a){var b=this.parsePoint(c,this.from),d=this.parsePoint(c,this.to),f=this.cfg,b=e.substitute("M {x} {y}",b)+e.substitute("L {x} {y}",d),f=e.mix({path:b},f);a.addShape("Path",{attrs:f})}});k.exports=d},function(k,f,d){var e=d(1);f=d(18);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{start:[],end:[],cfg:{stroke:"#000"},getPath:function(c){var a=this.parsePoint(c,this.start);c=this.parsePoint(c,this.end);var b=[];return b.push(["M",a.x,a.y]),b.push(["L",c.x,a.y]),b.push(["L",c.x,c.y]),b.push(["L",a.x,c.y]),b.push(["z"]),b},paint:function(c,a){var b=this.cfg,d=this.getPath(c),b=e.mix({path:d},b);a.addShape("Path",{attrs:b})}});k.exports=d},function(k,f,d){var e=d(1);f=d(18);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{from:[],to:[],text:"",cfg:{line:{stroke:"#000","stroke-width":1},text:{fill:"#000"},rect:{stroke:"#000","stroke-width":1,fill:"#fff"}},paint:function(c,a){var b=this.parsePoint(c,this.from),d=this.parsePoint(c,this.to),e=a.addGroup();this.drawLine(b,d,e);this.drawText(d,e)},drawLine:function(c,a,b){c=e.substitute("M {x} {y}",c)+e.substitute("L {x} {y}",a);c=e.mix({path:c},this.cfg.line);b.addShape("Path",{attrs:c})},drawText:function(c,a){var b=e.mix({text:this.text},this.cfg.text,c),b=a.addShape("Text",{zIndex:1,attrs:b}).getBBBox(),b=e.mix({x:b.minX-10,y:b.minY-10,width:b.width+20,height:b.height+20},this.cfg.rect);a.addShape("rect",{attrs:b});a.sort()}});k.exports=d},function(k,f,d){var e=d(1);f=d(18);d=function c(a){c.superclass.constructor.call(this,a)};e.extend(d,f);e.augment(d,{position:[],text:"",cfg:{fill:"#000","text-anchor":"middle"},paint:function(c,a){var b=this.parsePoint(c,this.position),d=this.cfg,d=e.mix({text:this.text},d,b);a.addShape("Text",{attrs:d})}});k.exports=d},function(k,f,d){f=d(1);d=d(45);d=f.mix(!0,{},d,{defaultColor:"#62a4e8",colors:{"default":"#61A5E8 #7ECF51 #EECB5F #E4925D #E16757 #9570E5 #605FF0".split(" "),intervalStack:"#61A5E8 #7ECF51 #EECB5F #E4925D #E16757 #9570E5 #605FF0 #605ff0 #85ca36 #1c9925 #0d8b5f #0f9cd3 #2f7e9b #2f677d #9b7fed #7453d6 #3b1d98 #27abb1 #017377 #015f63 #b86868 #5669b7 #e5aab4 #60b65f #98d2b2 #c9c8bc #45c3dc #e17979 #5baa5a #eaccc2 #ffaa74".split(" ")},shape:{point:{fill:"#62a4e8"},hollowPoint:{stroke:"#62a4e8"},interval:{fill:"#62a4e8"},hollowInterval:{stroke:"#62a4e8"},area:{fill:"#62a4e8"},polygon:{fill:"#62a4e8"},hollowPolygon:{stroke:"#62a4e8"},strokePolygon:{fill:"#62a4e8"},hollowArea:{stroke:"#62a4e8"},line:{stroke:"#62a4e8"}},guide:{line:{stroke:"#62a4e8"},rect:{fill:"#62a4e8"},tag:{line:{stroke:"#62a4e8"},rect:{fill:"#62a4e8"}}},tooltipMarker:{stroke:"#62a4e8"}});k.exports=d},function(k,f,d){f=d(1);d=d(45);d=f.mix(!0,{},d,{plotCfg:{margin:[20,80,60,80],border:{fill:"#18242E"}},axis:{top:{labels:{label:{fill:"#D5D4D4"}},tickLine:{stroke:"#46525F"}},bottom:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},tickLine:{stroke:"#46525F"}},left:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},tickLine:{stroke:"#46525F"},grid:{line:{stroke:"#46525F"}}},right:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},tickLine:{stroke:"#46525F"}},circle:{line:{stroke:"#46525F"},grid:{line:{stroke:"#46525F"}},labels:{label:{fill:"#999"}}},gauge:{tickLine:{stroke:"#46525F"},labels:{label:{fill:"#999"}}},clock:{tickLine:{stroke:"#46525F"},subTick:5,labels:{label:{fill:"#999"}}},radius:{labels:{label:{fill:"#999"}},line:{stroke:"#46525F"},grid:{line:{stroke:"#46525F"}}}},legend:{right:{word:{fill:"#999"},title:{fill:"#999"}},left:{word:{fill:"#999"},title:{fill:"#999"}},top:{word:{fill:"#999"}},bottom:{word:{fill:"#999"}}},guide:{text:{fill:"#999"},tag:{text:{fill:"#999"}}}});k.exports=d},function(k,f,d){f={"default":d(45),dark:d(306),cheery:d(305)};k.exports=f},[313,309,89],function(k,f,d){function e(a,b,c,d){return a[d]+(b[d]-a[d])*c}var g=d(89),c=d(1);k.exports={calColor:function(a,b,c){var d,f=a.length-1,k=Math.floor(f*b);b=f*b-k;var n=a[k];a=k===f?n:a[k+1];return"hsl"===c?d=g.hsl2Rgb([e(n,a,b,0),e(n,a,b,1),e(n,a,b,2)]):(d={r:e(n,a,b,0),g:e(n,a,b,1),b:e(n,a,b,2)},d="#"+g.toHex(d.r)+g.toHex(d.g)+g.toHex(d.b)),d},lightness:function(a,b){b=b||0;return this.calColor([[b,1,.9],[b,1,.5]],a,"hsl")},red:function(a){return this.lightness(a,0)},blue:function(a){return this.lightness(a,.66)},green:function(a){return this.lightness(a,.33)},gradient:function(a){var b=this,d=[];return c.isString(a)&&(a=a.split("-")),c.each(a,function(a){-1===a.indexOf("#")&&(a=g.toRGB(a));d.push(g.rgb2arr(a))}),function(a){return b.calColor(d,a)}},gradientHsl:function(a){var b=this,d=[];return c.isString(a)&&(a=a.split("-")),c.each(a,function(a){-1===a.indexOf("#")&&(a=g.toRGB(a));d.push(g.rgb2hsl(a))}),function(a){return b.calColor(d,a,"hsl")}},saturation:function(a,b){b=b||0;return this.calColor([[b,0,.5],[b,1,.5]],a,"hsl")},hue:function(a){return this.calColor([[0,1,.5],[1,1,.5]],a,"hsl")},brightness:function(a){return this.calColor([[255,255,255],[0,0,0]],a)},heat:function(a){return this.calColor([[255,255,255],[255,127.5,0],[0,0,0]],a)},rainbow:function(a){return this.calColor([[0,255,255],[0,0,255],[0,255,0],[255,0,0]],a)},circular:function(a){return this.calColor([[0,0,255],[0,255,0],[255,255,0],[255,0,0],[0,0,255]],a)},bipolar:function(a){return this.calColor([[0,255,0],[0,0,0],[255,0,0]],a)}}},function(k,f,d){function e(b){var c=[];return a.each(b,function(b){a.isArray(b)?c=c.concat(b):c.push(b)}),c}function g(b){var c=[];return a.each(b,function(b){a.isNull(b)||c.push(b)}),c}function c(b,c,d){a.each(d,function(a){b[a]=c[a]})}var a=d(1),b=d(90),h=d(312);a.mix(b,{values:function(b,c){for(var d=b.col(c),e=[],f=d.rowCount(),g=0;g<f;g++){var h=d.cell(g,0);void 0!==h&&-1===a.indexOf(e,h)&&e.push(h)}return e},mean:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.mean(c)},geometric_mean:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.geometric_mean(c)},median:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.median(c)},max:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.max(c)},min:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.min(c)},mode:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.mode(c)},range:function(a,c){var d=b.max(a,c);return[b.min(a,c),d]},sum:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.sum(c)},quantile:function(a,b,c){a=a.colArray(b);return a=e(a),a=g(a),h.quantile(a,c)},variance:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.variance(c)},sample_variance:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.sample_variance(c)},standard_deviation:function(a,b){var c=a.colArray(b);return c=e(c),c=g(c),h.standard_deviation(c)},sd:function(a,c){return b.standard_deviation(a,c)},se:function(a,b){var c=a.colArray(b),c=e(c),c=g(c),d=h.sample_variance(c);return Math.sqrt(d)/Math.sqrt(c.length)},sort:function(a,c){var d=a.toJSON();return d.sort(function(a,b){return a[c]-b[c]}),new b(d,{names:a.colNames()})},sortBy:function(a,c){var d=a.toJSON();return d.sort(c),new b(d,{names:a.colNames()})},group:function(a,c){if(!c)return[a];var d=b.groupToMap(a,c),e=[],f;for(f in d)e.push(d[f]);return e},groupToMap:function(c,d){var e=c.colNames(),f={};if(!d)return{0:c};if(!a.isFunction(d)){var g=a.isArray(d)?d:d.replace(/\s+/g,"").split("*");d=function(a){for(var b="",c=0,d=g.length;c<d;c++)b+=a[g[c]].toString();return b}}c.each(function(a){var b=d(a);f[b]?f[b].push(a):f[b]=[a]});for(var h in f)f[h]=new b(f[h],{names:e.slice(0)});return f},filter:function(a,c){var d=[];return c?(a.each(function(a,b){c(a,b)&&d.push(a)}),new b(d)):a},cumulative:function(b,c){var d=b.colArray(c),d=g(d),e=[],f=0;return a.each(d,function(a){f+=a;e.push(f)}),e},complement:function(b,c){var d=b.colNames().slice(0);return a.each(c,function(b){a.remove(d,b)}),b.cols(d)},merge:function(){for(var c=a.toArray(arguments),d=c[0],e=d.colNames(),d=d.colCount(),f=[],g=0;g<d;g++){f[g]=[];for(var h=0;h<c.length;h++){var k=c[h].col(g).toArray()[0];f[g]=f[g].concat(k)}}return new b(f,{names:e})},forceMerge:function(){var c=a.toArray(arguments),d=[],e=[];return a.each(c,function(b){b=b.colNames();a.each(b,function(b){-1===a.indexOf(d,b)&&d.push(b)})}),a.each(c,function(a){a=a.toJSON();e=e.concat(a)}),new b(e,{names:d})},combin:function(){var c=a.toArray(arguments),d=[],e=[];return a.each(c,function(a){d=d.concat(a.colNames());e=e.concat(a.toArray())}),new b(e,{names:d})},combinColumns:function(d,e,f,g,h){if(g=g||"type",a.isString(h)&&(h=[h]),!h){h=[];var k=d.colNames();a.each(k,function(b){-1===a.indexOf(e,b)&&h.push(b)})}var p=[];return d.each(function(b){a.each(e,function(a){var d={};d[f]=b[a];d[g]=a;c(d,b,h);p.push(d)})}),new b(p)},combinArray:function(){var c,d=a.toArray(arguments);c=a.isString(d[0])?d.shift():"type";var e=[];return a.each(d,function(b,d){a.each(b,function(a){a[c]=d});e=e.concat(b)}),new b(e)}});b.Array={repeat:function(a,b){for(var c=[],d=0;d<b;d++)c.push(a);return c}};k.exports=b},function(k,f){var d={linear:function(d){for(var f=[0,0,0,0,0],c=0,a=[];c<d.length;c++)null!=d[c][1]&&(f[0]+=d[c][0],f[1]+=d[c][1],f[2]+=d[c][0]*d[c][0],f[3]+=d[c][0]*d[c][1],f[4]+=d[c][1]*d[c][1]);for(var b=(c*f[3]-f[0]*f[1])/(c*f[2]-f[0]*f[0]),f=f[1]/c-b*f[0]/c,c=0,h=d.length;c<h;c++)a.push([d[c][0],d[c][0]*b+f]);return{equation:[b,f],points:a,string:"y \x3d "+Math.round(100*b)/100+"x + "+Math.round(100*f)/100}},linearThroughOrigin:function(d){for(var f=[0,0],c=0,a=[];c<d.length;c++)null!=d[c][1]&&(f[0]+=d[c][0]*d[c][0],f[1]+=d[c][0]*d[c][1]);for(var f=f[1]/f[0],c=0,b=d.length;c<b;c++)a.push([d[c][0],d[c][0]*f]);return{equation:[f],points:a,string:"y \x3d "+Math.round(100*f)/100+"x"}},exponential:function(d){for(var f=[0,0,0,0,0,0],c=0,a=[],b=d.length;c<b;c++)null!=d[c][1]&&(f[0]+=d[c][0],f[1]+=d[c][1],f[2]+=d[c][0]*d[c][0]*d[c][1],f[3]+=d[c][1]*Math.log(d[c][1]),f[4]+=d[c][0]*d[c][1]*Math.log(d[c][1]),f[5]+=d[c][0]*d[c][1]);for(var b=f[1]*f[2]-f[5]*f[5],c=Math.pow(Math.E,(f[2]*f[3]-f[5]*f[4])/b),f=(f[1]*f[4]-f[5]*f[3])/b,h=0,b=d.length;h<b;h++)a.push([d[h][0],c*Math.pow(Math.E,f*d[h][0])]);return{equation:[c,f],points:a,string:"y \x3d "+Math.round(100*c)/100+"e^("+Math.round(100*f)/100+"x)"}},logarithmic:function(d){for(var f=[0,0,0,0],c=0,a=[],b=d.length;c<b;c++)null!=d[c][1]&&(f[0]+=Math.log(d[c][0]),f[1]+=d[c][1]*Math.log(d[c][0]),f[2]+=d[c][1],f[3]+=Math.pow(Math.log(d[c][0]),2));for(var h=(c*f[1]-f[2]*f[0])/(c*f[3]-f[0]*f[0]),f=(f[2]-h*f[0])/c,c=0,b=d.length;c<b;c++)a.push([d[c][0],f+h*Math.log(d[c][0])]);return{equation:[f,h],points:a,string:"y \x3d "+Math.round(100*f)/100+" + "+Math.round(100*h)/100+" ln(x)"}},power:function(d){for(var f=[0,0,0,0],c=0,a=[],b=d.length;c<b;c++)null!=d[c][1]&&(f[0]+=Math.log(d[c][0]),f[1]+=Math.log(d[c][1])*Math.log(d[c][0]),f[2]+=Math.log(d[c][1]),f[3]+=Math.pow(Math.log(d[c][0]),2));for(var h=(c*f[1]-f[2]*f[0])/(c*f[3]-f[0]*f[0]),f=Math.pow(Math.E,(f[2]-h*f[0])/c),c=0,b=d.length;c<b;c++)a.push([d[c][0],f*Math.pow(d[c][0],h)]);return{equation:[f,h],points:a,string:"y \x3d "+Math.round(100*f)/100+"x^"+Math.round(100*h)/100}},polynomial:function(d,f){"undefined"==typeof f&&(f=2);for(var c=[],a=[],b=[],h=0,k=0,l=0,w=f+1;l<w;l++){for(var n=0,t=d.length;n<t;n++)null!=d[n][1]&&(h+=Math.pow(d[n][0],l)*d[n][1]);c.push(h);for(var h=0,r=[],p=0;p<w;p++){n=0;for(t=d.length;n<t;n++)null!=d[n][1]&&(k+=Math.pow(d[n][0],l+p));r.push(k);k=0}a.push(r)}a.push(c);l=a.length-1;w=Array(w);for(t=0;t<l;t++){k=t;for(c=t+1;c<l;c++)Math.abs(a[t][c])>Math.abs(a[t][k])&&(k=c);for(h=t;h<l+1;h++)n=a[h][t],a[h][t]=a[h][k],a[h][k]=n;for(c=t+1;c<l;c++)for(h=l;h>=t;h--)a[h][c]-=a[h][t]*a[t][c]/a[t][t]}for(c=l-1;0<=c;c--){n=0;for(h=c+1;h<l;h++)n+=a[h][c]*w[h];w[c]=(a[l][c]-n)/a[c][c]}l=0;for(t=d.length;l<t;l++){for(c=a=0;c<w.length;c++)a+=w[c]*Math.pow(d[l][0],c);b.push([d[l][0],a])}a="y \x3d ";for(l=w.length-1;0<=l;l--)a+=1<l?Math.round(w[l]*Math.pow(10,l))/Math.pow(10,l)+"x^"+l+" + ":1==l?Math.round(100*w[l])/100+"x + ":Math.round(100*w[l])/100;return{equation:w,points:b,string:a}},lastvalue:function(d){for(var f=[],c=null,a=0;a<d.length;a++)d[a][1]?(c=d[a][1],f.push([d[a][0],d[a][1]])):f.push([d[a][0],c]);return{equation:[c],points:f,string:""+c}}};k.exports=function(e,f,c){if("string"==typeof e)return d[e](f,c)}},function(k,f,d){!function(){function d(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b}function f(a){return 0===a.length?null:d(a)/a.length}function c(a){if(0===a.length)return null;for(var b=0,c=0;c<a.length;c++)b+=Math.pow(a[c],2);return Math.sqrt(b/a.length)}function a(a){if(0===a.length)return null;for(var b=f(a),c=[],d=0;d<a.length;d++)c.push(Math.pow(a[d]-b,2));return f(c)}function b(b){return 0===b.length?null:Math.sqrt(a(b))}function h(a,b){for(var c=f(a),d=0,e=0;e<a.length;e++)d+=Math.pow(a[e]-c,b);return d}function m(a){return 1>=a.length?null:h(a,2)/(a.length-1)}function l(a){return 1>=a.length?null:Math.sqrt(m(a))}function w(a,b){if(1>=a.length||a.length!=b.length)return null;for(var c=f(a),d=f(b),e=0,h=0;h<a.length;h++)e+=(a[h]-c)*(b[h]-d);return e/(a.length-1)}function n(a){if(0===a.length)return null;a=a.slice().sort(function(a,b){return a-b});return 1===a.length%2?a[(a.length-1)/2]:(a[a.length/2-1]+a[a.length/2])/2}function t(a,b){b=b||Math.random;for(var c,d,e=a.length;0<e;)d=Math.floor(b()*e--),c=a[e],a[e]=a[d],a[d]=c;return a}function r(a,b){return a=a.slice(),t(a.slice(),b)}function p(a,b){if(0===a.length)return null;var c=a.slice().sort(function(a,b){return a-b});if(b.length){for(var d=[],e=0;e<b.length;e++)d[e]=u(c,b[e]);return d}return u(c,b)}function u(a,b){var c=a.length*b;return 0>b||1<b?null:1===b?a[a.length-1]:0===b?a[0]:0!==c%1?a[Math.ceil(c)-1]:0===a.length%2?(a[c-1]+a[c])/2:a[c]}function q(a){return 0===a.length?null:p(a,.75)-p(a,.25)}function B(a){if(!a||0===a.length)return null;for(var b=n(a),c=[],d=0;d<a.length;d++)c.push(Math.abs(a[d]-b));return n(c)}function z(a,b){var c,d,e=[],f=[],g=0;for(c=0;c<a.length+1;c++){var h=[],k=[];for(d=0;d<b+1;d++)h.push(0),k.push(0);e.push(h);f.push(k)}for(c=1;c<b+1;c++)for(e[1][c]=1,f[1][c]=0,d=2;d<a.length+1;d++)f[d][c]=1/0;for(c=2;c<a.length+1;c++){for(var l=k=h=0,m=0,n=1;n<c+1;n++){var p=c-n+1;d=a[p-1];if(l++,h+=d,k+=d*d,g=k-h*h/l,m=p-1,0!==m)for(d=2;d<b+1;d++)f[c][d]>=g+f[m][d-1]&&(e[c][d]=p,f[c][d]=g+f[m][d-1])}e[c][1]=1;f[c][1]=g}return{lower_class_limits:e,variance_combinations:f}}function x(a,b,c){var d=a.length-1,e=[],f=c;e[c]=a[a.length-1];for(e[0]=a[0];1<f;)e[f-1]=a[b[d][f]-2],d=b[d][f]-1,f--;return e}function v(a){if(0>a)return null;for(var b=1,c=2;c<=a;c++)b*=c;return b}function A(a,b){if(0>b||1<b||0>=a||0!==a%1)return null;var c=0,d=0,e={};do{var f=c,g;g=c;var h=a,k=b;g=v(h)/(v(g)*v(h-g))*Math.pow(k,g)*Math.pow(1-k,h-g);e[f]=g;d+=e[c];c++}while(d<1-F);return e}var y={};k.exports=y;var D=[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359,.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753,.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141,.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517,.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879,.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224,.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549,.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852,.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133,.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389,.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621,.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883,.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015,.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177,.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319,.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441,.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545,.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633,.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706,.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767,.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817,.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857,.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989,.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916,.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936,.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952,.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964,.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974,.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981,.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986,.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999],F=1E-4,J={1:{"0.995":0,"0.99":0,"0.975":0,"0.95":0,"0.9":.02,"0.5":.45,"0.1":2.71,"0.05":3.84,"0.025":5.02,"0.01":6.63,"0.005":7.88},2:{"0.995":.01,"0.99":.02,"0.975":.05,"0.95":.1,"0.9":.21,"0.5":1.39,"0.1":4.61,"0.05":5.99,"0.025":7.38,"0.01":9.21,"0.005":10.6},3:{"0.995":.07,"0.99":.11,"0.975":.22,"0.95":.35,"0.9":.58,"0.5":2.37,"0.1":6.25,"0.05":7.81,"0.025":9.35,"0.01":11.34,"0.005":12.84},4:{"0.995":.21,"0.99":.3,"0.975":.48,"0.95":.71,"0.9":1.06,"0.5":3.36,"0.1":7.78,"0.05":9.49,"0.025":11.14,"0.01":13.28,"0.005":14.86},5:{"0.995":.41,"0.99":.55,"0.975":.83,"0.95":1.15,"0.9":1.61,"0.5":4.35,"0.1":9.24,"0.05":11.07,"0.025":12.83,"0.01":15.09,"0.005":16.75},6:{"0.995":.68,"0.99":.87,"0.975":1.24,"0.95":1.64,"0.9":2.2,"0.5":5.35,"0.1":10.65,"0.05":12.59,"0.025":14.45,"0.01":16.81,"0.005":18.55},7:{"0.995":.99,"0.99":1.25,"0.975":1.69,"0.95":2.17,"0.9":2.83,"0.5":6.35,"0.1":12.02,"0.05":14.07,"0.025":16.01,"0.01":18.48,"0.005":20.28},8:{"0.995":1.34,"0.99":1.65,"0.975":2.18,"0.95":2.73,"0.9":3.49,"0.5":7.34,"0.1":13.36,"0.05":15.51,"0.025":17.53,"0.01":20.09,"0.005":21.96},9:{"0.995":1.73,"0.99":2.09,"0.975":2.7,"0.95":3.33,"0.9":4.17,"0.5":8.34,"0.1":14.68,"0.05":16.92,"0.025":19.02,"0.01":21.67,"0.005":23.59},10:{"0.995":2.16,"0.99":2.56,"0.975":3.25,"0.95":3.94,"0.9":4.87,"0.5":9.34,"0.1":15.99,"0.05":18.31,"0.025":20.48,"0.01":23.21,"0.005":25.19},11:{"0.995":2.6,"0.99":3.05,"0.975":3.82,"0.95":4.57,"0.9":5.58,"0.5":10.34,"0.1":17.28,"0.05":19.68,"0.025":21.92,"0.01":24.72,"0.005":26.76},12:{"0.995":3.07,"0.99":3.57,"0.975":4.4,"0.95":5.23,"0.9":6.3,"0.5":11.34,"0.1":18.55,"0.05":21.03,"0.025":23.34,"0.01":26.22,"0.005":28.3},13:{"0.995":3.57,"0.99":4.11,"0.975":5.01,"0.95":5.89,"0.9":7.04,"0.5":12.34,"0.1":19.81,"0.05":22.36,"0.025":24.74,"0.01":27.69,"0.005":29.82},14:{"0.995":4.07,"0.99":4.66,"0.975":5.63,"0.95":6.57,"0.9":7.79,"0.5":13.34,"0.1":21.06,"0.05":23.68,"0.025":26.12,"0.01":29.14,"0.005":31.32},15:{"0.995":4.6,"0.99":5.23,"0.975":6.27,"0.95":7.26,"0.9":8.55,"0.5":14.34,"0.1":22.31,"0.05":25,"0.025":27.49,"0.01":30.58,"0.005":32.8},16:{"0.995":5.14,"0.99":5.81,"0.975":6.91,"0.95":7.96,"0.9":9.31,"0.5":15.34,"0.1":23.54,"0.05":26.3,"0.025":28.85,"0.01":32,"0.005":34.27},17:{"0.995":5.7,"0.99":6.41,"0.975":7.56,"0.95":8.67,"0.9":10.09,"0.5":16.34,"0.1":24.77,"0.05":27.59,"0.025":30.19,"0.01":33.41,"0.005":35.72},18:{"0.995":6.26,"0.99":7.01,"0.975":8.23,"0.95":9.39,"0.9":10.87,"0.5":17.34,"0.1":25.99,"0.05":28.87,"0.025":31.53,"0.01":34.81,"0.005":37.16},19:{"0.995":6.84,"0.99":7.63,"0.975":8.91,"0.95":10.12,"0.9":11.65,"0.5":18.34,"0.1":27.2,"0.05":30.14,"0.025":32.85,"0.01":36.19,"0.005":38.58},20:{"0.995":7.43,"0.99":8.26,"0.975":9.59,"0.95":10.85,"0.9":12.44,"0.5":19.34,"0.1":28.41,"0.05":31.41,"0.025":34.17,"0.01":37.57,"0.005":40},21:{"0.995":8.03,"0.99":8.9,"0.975":10.28,"0.95":11.59,"0.9":13.24,"0.5":20.34,"0.1":29.62,"0.05":32.67,"0.025":35.48,"0.01":38.93,"0.005":41.4},22:{"0.995":8.64,"0.99":9.54,"0.975":10.98,"0.95":12.34,"0.9":14.04,"0.5":21.34,"0.1":30.81,"0.05":33.92,"0.025":36.78,"0.01":40.29,"0.005":42.8},23:{"0.995":9.26,"0.99":10.2,"0.975":11.69,"0.95":13.09,"0.9":14.85,"0.5":22.34,"0.1":32.01,"0.05":35.17,"0.025":38.08,"0.01":41.64,"0.005":44.18},24:{"0.995":9.89,"0.99":10.86,"0.975":12.4,"0.95":13.85,"0.9":15.66,"0.5":23.34,"0.1":33.2,"0.05":36.42,"0.025":39.36,"0.01":42.98,"0.005":45.56},25:{"0.995":10.52,"0.99":11.52,"0.975":13.12,"0.95":14.61,"0.9":16.47,"0.5":24.34,"0.1":34.28,"0.05":37.65,"0.025":40.65,"0.01":44.31,"0.005":46.93},26:{"0.995":11.16,"0.99":12.2,"0.975":13.84,"0.95":15.38,"0.9":17.29,"0.5":25.34,"0.1":35.56,"0.05":38.89,"0.025":41.92,"0.01":45.64,"0.005":48.29},27:{"0.995":11.81,"0.99":12.88,"0.975":14.57,"0.95":16.15,"0.9":18.11,"0.5":26.34,"0.1":36.74,"0.05":40.11,"0.025":43.19,"0.01":46.96,"0.005":49.65},28:{"0.995":12.46,"0.99":13.57,"0.975":15.31,"0.95":16.93,"0.9":18.94,"0.5":27.34,"0.1":37.92,"0.05":41.34,"0.025":44.46,"0.01":48.28,"0.005":50.99},29:{"0.995":13.12,"0.99":14.26,"0.975":16.05,"0.95":17.71,"0.9":19.77,"0.5":28.34,"0.1":39.09,"0.05":42.56,"0.025":45.72,"0.01":49.59,"0.005":52.34},30:{"0.995":13.79,"0.99":14.95,"0.975":16.79,"0.95":18.49,"0.9":20.6,"0.5":29.34,"0.1":40.26,"0.05":43.77,"0.025":46.98,"0.01":50.89,"0.005":53.67},40:{"0.995":20.71,"0.99":22.16,"0.975":24.43,"0.95":26.51,"0.9":29.05,"0.5":39.34,"0.1":51.81,"0.05":55.76,"0.025":59.34,"0.01":63.69,"0.005":66.77},50:{"0.995":27.99,"0.99":29.71,"0.975":32.36,"0.95":34.76,"0.9":37.69,"0.5":49.33,"0.1":63.17,"0.05":67.5,"0.025":71.42,"0.01":76.15,"0.005":79.49},60:{"0.995":35.53,"0.99":37.48,"0.975":40.48,"0.95":43.19,"0.9":46.46,"0.5":59.33,"0.1":74.4,"0.05":79.08,"0.025":83.3,"0.01":88.38,"0.005":91.95},70:{"0.995":43.28,"0.99":45.44,"0.975":48.76,"0.95":51.74,"0.9":55.33,"0.5":69.33,"0.1":85.53,"0.05":90.53,"0.025":95.02,"0.01":100.42,"0.005":104.22},80:{"0.995":51.17,"0.99":53.54,"0.975":57.15,"0.95":60.39,"0.9":64.28,"0.5":79.33,"0.1":96.58,"0.05":101.88,"0.025":106.63,"0.01":112.33,"0.005":116.32},90:{"0.995":59.2,"0.99":61.75,"0.975":65.65,"0.95":69.13,"0.9":73.29,"0.5":89.33,"0.1":107.57,"0.05":113.14,"0.025":118.14,"0.01":124.12,"0.005":128.3},100:{"0.995":67.33,"0.99":70.06,"0.975":74.22,"0.95":77.93,"0.9":82.36,"0.5":99.33,"0.1":118.5,"0.05":124.34,"0.025":129.56,"0.01":135.81,"0.005":140.17}};y.linear_regression=function(){var a={},b=[];return a.data=function(c){return arguments.length?(b=c.slice(),a):b},a.mb=function(){var a,c;c=b.length;if(1===c)a=0,c=b[0][1];else{for(var d,e=0,f=0,g=0,h=0,k=0;k<c;k++)d=b[k],a=d[0],d=d[1],e+=a,f+=d,g+=a*a,h+=a*d;a=(c*h-e*f)/(c*g-e*e);c=f/c-a*e/c}return{m:a,b:c}},a.m=function(){return a.mb().m},a.b=function(){return a.mb().b},a.line=function(){var b=a.mb(),c=b.m,d=b.b;return function(a){return d+c*a}},a};y.standard_deviation=b;y.r_squared=function(a,b){if(2>a.length)return 1;var c,d=0;for(c=0;c<a.length;c++)d+=a[c][1];c=d/a.length;for(var e=d=0;e<a.length;e++)d+=Math.pow(c-a[e][1],2);for(e=c=0;e<a.length;e++)c+=Math.pow(a[e][1]-b(a[e][0]),2);return 1-c/d};y.median=n;y.mean=f;y.mode=function(a){if(0===a.length)return null;if(1===a.length)return a[0];var b;a=a.slice().sort(function(a,b){return a-b});for(var c=a[0],d=0,e=1,f=1;f<a.length+1;f++)a[f]!==c?(e>d&&(d=e,b=c),e=1,c=a[f]):e++;return b};y.min=function(a){for(var b,c=0;c<a.length;c++)(a[c]<b||void 0===b)&&(b=a[c]);return b};y.max=function(a){for(var b,c=0;c<a.length;c++)(a[c]>b||void 0===b)&&(b=a[c]);return b};y.sum=d;y.quantile=p;y.quantile_sorted=u;y.iqr=q;y.mad=B;y.chunk=function(a,b){var c=[];if(0>=b)return null;for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c};y.shuffle=r;y.shuffle_in_place=t;y.sample=function(a,b,c){return r(a,c).slice(0,b)};y.sample_covariance=w;y.sample_correlation=function(a,b){var c=w(a,b),d=l(a),e=l(b);return null===c||null===d||null===e?null:c/d/e};y.sample_variance=m;y.sample_standard_deviation=l;y.sample_skewness=function(a){if(3>a.length)return null;var b=a.length,c=Math.pow(l(a),3);a=h(a,3);return b*a/((b-1)*(b-2)*c)};y.geometric_mean=function(a){if(0===a.length)return null;for(var b=1,c=0;c<a.length;c++){if(0>=a[c])return null;b*=a[c]}return Math.pow(b,1/a.length)};y.harmonic_mean=function(a){if(0===a.length)return null;for(var b=0,c=0;c<a.length;c++){if(0>=a[c])return null;b+=1/a[c]}return a.length/b};y.root_mean_square=c;y.variance=a;y.t_test=function(a,c){var d=f(a),e=b(a);return(d-c)/(e/Math.sqrt(a.length))};y.t_test_two_sample=function(a,b,c){var d=a.length,e=b.length;if(!d||!e)return null;c||(c=0);var h=f(a),k=f(b);a=((d-1)*m(a)+(e-1)*m(b))/(d+e-2);return(h-k-c)/Math.sqrt(a*(1/d+1/e))};y.jenksMatrices=z;y.jenksBreaks=x;y.jenks=function(a,b){if(b>a.length)return null;a=a.slice().sort(function(a,b){return a-b});var c=z(a,b).lower_class_limits;return x(a,c,b)};y.bayesian=function(){var a={},b=0,c={};return a.train=function(a,d){c[d]||(c[d]={});for(var e in a){var f=a[e];void 0===c[d][e]&&(c[d][e]={});void 0===c[d][e][f]&&(c[d][e][f]=0);c[d][e][a[e]]++}b++},a.score=function(a){var d,e={},f;for(f in a){var g=a[f];for(d in c)void 0===e[d]&&(e[d]={}),c[d][f]?e[d][f+"_"+g]=(c[d][f][g]||0)/b:e[d][f+"_"+g]=0}a={};for(d in e)for(var h in e[d])void 0===a[d]&&(a[d]=0),a[d]+=e[d][h];return a},a};y.epsilon=F;y.factorial=v;y.bernoulli_distribution=function(a){return 0>a||1<a?null:A(1,a)};y.binomial_distribution=A;y.poisson_distribution=function(a){if(0>=a)return null;var b=0,c=0,d={};do d[b]=Math.pow(Math.E,-a)*Math.pow(a,b)/v(b),c+=d[b],b++;while(c<1-F);return d};y.chi_squared_goodness_of_fit=function(a,b,c){var d,e,h=f(a),k=0;b=b(h);for(var h=[],l=[],m=0;m<a.length;m++)void 0===h[a[m]]&&(h[a[m]]=0),h[a[m]]++;for(m=0;m<h.length;m++)void 0===h[m]&&(h[m]=0);for(e in b)e in h&&(l[e]=b[e]*a.length);for(e=l.length-1;0<=e;e--)3>l[e]&&(l[e-1]+=l[e],l.pop(),h[e-1]+=h[e],h.pop());for(e=0;e<h.length;e++)k+=Math.pow(h[e]-l[e],2)/l[e];return d=h.length-1-1,J[d][c]<k};y.z_score=function(a,b,c){return(a-b)/c};y.cumulative_std_normal_probability=function(a){var b=Math.abs(a),b=Math.min(10*Math.floor(10*b)+10*(Math.floor(100*b)/10-Math.floor(100*b/10)),D.length-1);return 0<=a?D[b]:+(1-D[b]).toFixed(4)};y.standard_normal_table=D;y.average=f;y.interquartile_range=q;y.mixin=function(a){function b(a){return function(){var b=Array.prototype.slice.apply(arguments);return b.unshift(this),y[a].apply(y,b)}}if(!Object.defineProperty||!Object.defineProperties)throw Error("without defineProperty, simple-statistics cannot be mixed in");var c="median standard_deviation sum sample_skewness mean min max quantile geometric_mean harmonic_mean root_mean_square".split(" ");a=a?a.slice():Array.prototype;for(var d=0;d<c.length;d++)Object.defineProperty(a,c[d],{value:b(c[d]),configurable:!0,enumerable:!1,writable:!0});return a};y.median_absolute_deviation=B;y.rms=c}(this)},function(k,f,d,e,g){f=d(e);f.Util=d(g);k.exports=f}]))});